{"version":3,"sources":["../../src/index.ts","../node_modules/redux-undo/lib/actions.js","../node_modules/redux-undo/lib/helpers.js","../node_modules/redux-undo/lib/debug.js","../node_modules/redux-undo/lib/index.js","../node_modules/redux-undo/lib/reducer.js","../node_modules/is-hotkey/lib/index.js","../node_modules/lodash.debounce/index.js","../node_modules/lodash.throttle/index.js","../node_modules/@material-ui/icons/Translate.js","../node_modules/@material-ui/icons/FileCopy.js","../node_modules/@material-ui/icons/AspectRatio.js","../node_modules/react-dnd/dist/esm/core/DndContext.js","../node_modules/@react-dnd/asap/dist/esm/browser/raw.js","../../../src/editor/StickyWrapper.tsx","../node_modules/@material-ui/icons/ArrowDropUp.js","../node_modules/@material-ui/icons/ArrowDropDown.js","../node_modules/@material-ui/icons/ArrowLeft.js","../node_modules/@material-ui/icons/ArrowRight.js","../node_modules/@material-ui/core/esm/Switch/Switch.js","../node_modules/@material-ui/icons/VerticalAlignTop.js","../node_modules/@material-ui/icons/Undo.js","../node_modules/@material-ui/icons/Redo.js","../node_modules/@material-ui/icons/ZoomIn.js","../node_modules/@material-ui/icons/ZoomOut.js","../node_modules/@material-ui/icons/Create.js","../node_modules/@material-ui/icons/ViewQuilt.js","../node_modules/@material-ui/icons/SettingsOverscan.js","../node_modules/@material-ui/icons/Devices.js","../node_modules/@material-ui/core/esm/ListSubheader/ListSubheader.js","../node_modules/react-portal/es/utils.js","../node_modules/react-portal/es/Portal.js","../node_modules/react-portal/es/LegacyPortal.js","../node_modules/react-portal/es/PortalCompat.js","../node_modules/react-dnd/dist/esm/core/DndProvider.js","../node_modules/react-dnd/dist/esm/hooks/useDragDropManager.js","../node_modules/react-dnd/dist/esm/hooks/useIsomorphicLayoutEffect.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/DropTargetImpl.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useRegisteredDropTarget.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDropTarget.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useAccept.js","../node_modules/react-dnd/dist/esm/internals/registration.js","../node_modules/react-dnd/dist/esm/hooks/useOptionalFactory.js","../node_modules/react-dnd/dist/esm/internals/DropTargetMonitorImpl.js","../node_modules/react-dnd/dist/esm/internals/wrapConnectorHooks.js","../node_modules/react-dnd/dist/esm/internals/isRef.js","../node_modules/react-dnd/dist/esm/internals/TargetConnector.js","../node_modules/react-dnd/dist/esm/hooks/useCollector.js","../node_modules/react-dnd/dist/esm/hooks/useMonitorOutput.js","../node_modules/react-dnd/dist/esm/hooks/useCollectedProps.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/connectors.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDrop.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDropTargetMonitor.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDropTargetConnector.js","../../../../src/core/utils/mapNode.ts","../../../../src/core/utils/ancestorTree.ts","../../../../../src/core/actions/cell/core.ts","../../../../src/core/utils/cloneWithNewIds.ts","../../../../src/core/actions/display.ts","../../../../src/core/actions/helpers.ts","../../../../../src/core/actions/cell/insert.ts","../../../../src/core/actions/setting.ts","../../../src/core/reduxConnect.tsx","../../../../../src/core/selector/editable/index.ts","../../../../src/core/utils/getDropLevels.ts","../node_modules/react-dnd-html5-backend/dist/esm/utils/js_utils.js","../node_modules/react-dnd-html5-backend/dist/esm/EnterLeaveCounter.js","../node_modules/react-dnd-html5-backend/dist/esm/BrowserDetector.js","../node_modules/react-dnd-html5-backend/dist/esm/MonotonicInterpolant.js","../node_modules/react-dnd-html5-backend/dist/esm/OffsetUtils.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeTypes.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/nativeTypesConfig.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/getDataFromDataTransfer.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/NativeDragSource.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/index.js","../node_modules/react-dnd-html5-backend/dist/esm/OptionsReader.js","../node_modules/react-dnd-html5-backend/dist/esm/HTML5BackendImpl.js","../../../src/core/const.ts","../../../src/core/defaultOptions.ts","../node_modules/react-dnd-html5-backend/dist/esm/index.js","../../../../src/core/actions/value.ts","../../../../../src/core/reducer/value/tree.ts","../../../../../src/core/reducer/values/index.ts","../../../../../src/core/reducer/value/index.ts","../../../../../src/core/reducer/focus/index.ts","../../../../../src/core/actions/cell/drag.ts","../../../../src/core/reducer/index.ts","../../../../../src/core/reducer/display/index.ts","../../../../../src/core/reducer/settings/index.ts","../../../../../src/core/reducer/hover/index.ts","../../../src/core/EditorStore.ts","../../../src/core/store.ts","../../../../src/core/selector/setting.ts","../../../../../src/core/components/hooks/renderOptions.ts","../../../../../src/core/components/hooks/options.ts","../../../../../src/core/components/hooks/node.ts","../../../../../src/core/selector/display/index.ts","../../../../../src/core/components/hooks/displayMode.ts","../../../../../src/core/components/hooks/nodeActions.ts","../../../../../src/core/components/Editable/FallbackDropArea.tsx","../../../../../src/core/components/hooks/display.ts","../../../../../../src/core/components/Cell/utils/scrollIntoViewWithOffset.ts","../../../../../../src/core/components/Editable/hooks/useKeepScrollPosition.ts","../../../../../src/core/components/Cell/InsertNew.tsx","../node_modules/react-use/esm/misc/util.js","../node_modules/react-use/esm/useIsomorphicLayoutEffect.js","../node_modules/react-use/esm/useMeasure.js","../../../../../src/core/components/hooks/dragDropActions.ts","../../../../../src/core/service/logger/index.ts","../../../../../src/core/service/hover/computeHover.ts","../../../../../src/core/service/hover/input.ts","../../../../../../src/core/components/Cell/Droppable/helper/dnd.ts","../../../../../src/core/helper/throttle/index.ts","../../../../../../src/core/components/Cell/Droppable/index.tsx","../../../../../../src/core/components/Row/Droppable/index.tsx","../../../../src/core/selector/focus.ts","../../../../../src/core/components/hooks/focus.ts","../../../../../../src/core/components/Cell/ErrorCell/index.tsx","../node_modules/react-dnd/dist/esm/hooks/useDrag/DragSourceImpl.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useRegisteredDragSource.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragSource.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragType.js","../node_modules/react-dnd/dist/esm/internals/DragSourceMonitorImpl.js","../node_modules/react-dnd/dist/esm/internals/SourceConnector.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/connectors.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDrag.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragSourceMonitor.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragSourceConnector.js","../node_modules/react-dnd/dist/esm/core/DragPreviewImage.js","../../../../../../src/core/components/Cell/Draggable/useDragHandle.tsx","../../../../../../src/core/components/Cell/Handle/index.tsx","../../../../../../src/core/components/Cell/Draggable/index.tsx","../../../../src/ui/ThemeProvider/index.tsx","../../../../src/ui/ThemeProvider/themeOptions.tsx","../../../../../src/ui/ThemeProvider/DarkTheme/index.ts","../node_modules/@material-ui/core/esm/Divider/Divider.js","../node_modules/@material-ui/core/esm/Drawer/Drawer.js","../node_modules/@material-ui/core/esm/utils/scrollLeft.js","../../../../../src/core/components/hooks/screen.tsx","../../../../src/ui/BottomToolbar/Drawer.tsx","../../../../../../src/core/components/hooks/utils/findSiblingRow.ts","../../../../../src/core/components/hooks/nodeMove.ts","../../../../src/ui/moveButtons/index.tsx","../../../../src/ui/BottomToolbar/MoveActions.tsx","../../../../src/ui/DraftSwitch/index.tsx","../../../../src/ui/DuplicateButton/index.tsx","../../../../src/ui/I18nTools/SelectLang.tsx","../../../../src/ui/I18nTools/I18nDialog.tsx","../../../../src/ui/I18nTools/index.tsx","../../../../src/ui/SelectParentButton/index.tsx","../../../../src/ui/BottomToolbar/Tools.tsx","../../../../src/ui/BottomToolbar/NodeTools.tsx","../../../../src/ui/BottomToolbar/ScaleButton.tsx","../../../../src/ui/BottomToolbar/index.tsx","../node_modules/@material-ui/core/esm/Tab/Tab.js","../node_modules/@material-ui/core/esm/internal/animate.js","../node_modules/@material-ui/core/esm/Tabs/ScrollbarSize.js","../node_modules/@material-ui/core/esm/Tabs/TabIndicator.js","../node_modules/@material-ui/core/esm/internal/svg-icons/KeyboardArrowLeft.js","../node_modules/@material-ui/core/esm/internal/svg-icons/KeyboardArrowRight.js","../node_modules/@material-ui/core/esm/TabScrollButton/TabScrollButton.js","../node_modules/@material-ui/core/esm/Tabs/Tabs.js","../../../../src/ui/AutoformControls/index.tsx","../../../../../../src/core/components/Cell/PluginControls/index.tsx","../../../../../src/core/components/Cell/PluginMissing.tsx","../../../../../../src/core/components/Cell/PluginComponent/index.tsx","../../../../../../src/core/components/Cell/Inner/index.tsx","../../../../../../src/core/components/Cell/MoveActions/index.tsx","../../../../../src/core/components/Cell/index.tsx","../../../../../src/core/components/Row/ResizableRowCell.tsx","../../../../../src/core/components/Row/index.tsx","../../../../../../src/core/components/Editable/Inner/Rows.tsx","../../../../../src/core/components/hooks/value.ts","../../../../../../src/core/components/Editable/Inner/index.tsx","../../../../../src/core/components/Editable/index.tsx","../../../../../src/core/components/hooks/actions.ts","../../../../src/core/actions/undo.ts","../../../../../src/core/components/HotKey/GlobalHotKeys.tsx","../../../../src/core/Provider/DndProvider.tsx","../../../../src/core/components/BlurGate.tsx","../../../../../src/core/components/hooks/callbacks.ts","../../../../src/core/Provider/CallbacksProvider.tsx","../../../../src/core/migrations/serialzeValue.ts","../../../../src/core/Provider/EditorStoreProvider.tsx","../../../../src/core/Provider/OptionsProvider.tsx","../../../../src/core/Provider/RenderOptionsProvider.tsx","../../../../src/core/Provider/index.tsx","../node_modules/@material-ui/core/esm/ListItemText/ListItemText.js","../../../../../src/ui/PluginDrawer/Draggable/index.tsx","../../../../../src/ui/PluginDrawer/Item/index.tsx","../../../../src/ui/PluginDrawer/index.tsx","../../../../src/ui/Trash/index.tsx","../../../../../src/ui/Sidebar/Button/index.tsx","../../../../../src/ui/Sidebar/ToggleEdit/index.tsx","../../../../../src/ui/Sidebar/ToggleInsert/index.tsx","../../../../../src/ui/Sidebar/ToggleLayout/index.tsx","../../../../../src/ui/Sidebar/TogglePreview/index.tsx","../../../../../src/ui/Sidebar/ToggleResize/index.tsx","../../../../../src/ui/Sidebar/UndoRedo/index.tsx","../../../../../src/ui/Sidebar/Zoom/index.tsx","../../../../src/ui/Sidebar/index.tsx","../../../../src/ui/MultiNodesBottomToolbar/DeleteAll.tsx","../../../../src/ui/MultiNodesBottomToolbar/DuplicateAll.tsx","../../../../src/ui/MultiNodesBottomToolbar/index.tsx","../../../../src/ui/EditorUI/index.tsx","../../../src/editor/EditableEditor.tsx","../node_modules/dnd-core/dist/esm/actions/dragDrop/types.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/local/setClientOffset.js","../node_modules/dnd-core/dist/esm/utils/js_utils.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/beginDrag.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/publishDragSource.js","../node_modules/dnd-core/dist/esm/utils/matchesType.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/hover.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/drop.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/endDrag.js","../node_modules/dnd-core/dist/esm/classes/DragDropManagerImpl.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/index.js","../node_modules/dnd-core/dist/esm/utils/equality.js","../node_modules/dnd-core/dist/esm/reducers/dragOffset.js","../node_modules/dnd-core/dist/esm/actions/registry.js","../node_modules/dnd-core/dist/esm/reducers/dragOperation.js","../node_modules/dnd-core/dist/esm/reducers/refCount.js","../node_modules/dnd-core/dist/esm/utils/dirtiness.js","../node_modules/dnd-core/dist/esm/reducers/dirtyHandlerIds.js","../node_modules/dnd-core/dist/esm/reducers/stateId.js","../node_modules/dnd-core/dist/esm/reducers/index.js","../node_modules/dnd-core/dist/esm/utils/coords.js","../node_modules/dnd-core/dist/esm/classes/DragDropMonitorImpl.js","../node_modules/dnd-core/dist/esm/interfaces.js","../node_modules/dnd-core/dist/esm/utils/getNextUniqueId.js","../node_modules/dnd-core/dist/esm/contracts.js","../node_modules/@react-dnd/asap/dist/esm/browser/asap.js","../node_modules/dnd-core/dist/esm/classes/HandlerRegistryImpl.js","../node_modules/dnd-core/dist/esm/createDragDropManager.js","../../../../src/core/utils/objIsNode.ts","../../../../src/ui/AutoformControls/makeUniformsSchema.ts"],"names":["invariant","condition","format","args","error","argIndex","Object","defineProperty","exports","value","ActionCreators","ActionTypes","UNDO","REDO","JUMP_TO_FUTURE","JUMP_TO_PAST","JUMP","CLEAR_HISTORY","undo","type","redo","jumpToFuture","index","jumpToPast","jump","clearHistory","parseActions","rawActions","defaultValue","arguments","length","undefined","Array","isArray","isHistory","history","present","future","past","includeAction","actions","action","indexOf","excludeAction","combineFilters","_len","filters","_key","reduce","prev","curr","currentState","previousHistory","groupByActionTypes","newHistory","group","_latestUnfiltered","limit","_toConsumableArray","arr","i","arr2","_arrayWithoutHoles","iter","Symbol","iterator","prototype","toString","call","from","_iterableToArray","TypeError","_nonIterableSpread","__DEBUG__","displayBuffer","set","debug","start","state","header","next","msgs","console","colorFormat","colors","end","nextState","_displayBuffer","_console","_console2","_console3","_console4","_console5","groupCollapsed","apply","log","groupEnd","_console6","_console7","_console8","_console9","_console10","printBuffer","concat","text","color","obj","enumerable","get","_actions","_helpers","_reducer","require","__esModule","_typeof","constructor","reducer","rawConfig","initialState","config","_objectSpread","filter","groupBy","undoType","redoType","jumpToPastType","jumpToFutureType","jumpType","neverSkipReducer","ignoreInitialState","syncFilter","initTypes","clearHistoryType","skipReducer","res","slices","_len2","_key2","createHistoryAction","createHistory","actionTypeAmongClearHistoryType","some","actionType","filtered","filteredState","groupedState","insert","cache","_getRequireWildcardCache","has","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","hasOwnProperty","desc","_interopRequireWildcard","WeakMap","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","push","target","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","configurable","writable","lengthWithoutFuture","isHistoryOverflow","pastSliced","slice","newPast","newPresent","newFuture","n","IS_MAC","window","test","navigator","platform","MODIFIERS","alt","control","meta","shift","ALIASES","add","break","cmd","command","ctl","ctrl","del","down","esc","ins","left","mod","opt","option","return","right","space","spacebar","up","win","windows","CODES","backspace","tab","enter","pause","capslock","escape","pageup","pagedown","home","arrowleft","arrowup","arrowright","arrowdown","delete","numlock","scrolllock","f","isHotkey","hotkey","options","event","array","map","string","parseHotkey","check","e","compareHotkey","byKey","ret","values","replace","split","k","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","done","optional","endsWith","name","toKeyName","modifier","which","toKeyCode","err","expected","actual","toLowerCase","toUpperCase","charCodeAt","default","isCodeHotkey","isKeyHotkey","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeGlobal","global","freeSelf","self","root","Function","objectToString","nativeMax","Math","max","nativeMin","min","now","Date","isObject","toNumber","isObjectLike","isSymbol","other","valueOf","isBinary","module","func","wait","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","thisArg","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","debounced","isInvoking","this","cancel","clearTimeout","flush","FUNC_ERROR_TEXT","debounce","_interopRequireDefault","React","_default","createElement","d","DndContext","createContext","dragDropManager","rawAsap","task","queue","requestFlush","currentIndex","scan","newLength","scope","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","makeRequestCallFromTimer","callback","timeoutHandle","handleTimer","intervalHandle","setInterval","clearInterval","toggle","observer","node","document","createTextNode","observe","characterData","data","makeRequestCallFromMutationObserver","Switch","props","ref","classes","className","_props$color","_props$edge","edge","_props$size","size","_objectWithoutProperties","icon","thumb","clsx","edgeStart","edgeEnd","capitalize","SwitchBase","_extends","checkedIcon","switchBase","input","checked","disabled","track","withStyles","theme","display","width","height","overflow","padding","boxSizing","position","flexShrink","zIndex","verticalAlign","colorAdjust","marginLeft","marginRight","top","palette","grey","transition","transitions","create","duration","shortest","transform","opacity","colorPrimary","primary","main","backgroundColor","alpha","hoverOpacity","common","black","white","colorSecondary","secondary","sizeSmall","boxShadow","shadows","borderRadius","Fragment","ListSubheader","_props$component","component","Component","_props$disableGutters","disableGutters","_props$disableSticky","disableSticky","_props$inset","inset","sticky","gutters","lineHeight","listStyle","fontFamily","typography","fontWeight","fontWeightMedium","fontSize","pxToRem","colorInherit","paddingLeft","paddingRight","canUseDOM","_createClass","descriptor","Constructor","protoProps","staticProps","_classCallCheck","instance","_possibleConstructorReturn","ReferenceError","Portal","_React$Component","__proto__","getPrototypeOf","subClass","superClass","setPrototypeOf","_inherits","defaultNode","body","removeChild","appendChild","ReactDOM","createPortal","children","propTypes","PropTypes","isRequired","any","renderPortal","unmountComponentAtNode","portal","cloneElement","unstable_renderSubtreeIntoContainer","Portalv4","LegacyPortal","_excluded","_slicedToArray","_arrayWithHoles","_i","_s","_e","_arr","_n","_d","_iterableToArrayLimit","o","minLen","_arrayLikeToArray","_unsupportedIterableToArray","_nonIterableRest","len","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","refCount","INSTANCE_SYM","for","DndProvider","memo","_ref","_getDndContextValue","manager","backend","context","getGlobalContext","debugMode","ctx","createDragDropManager","createSingletonDndContext","isGlobalInstance","getDndContextValue","_getDndContextValue2","useEffect","_jsx","Provider","assign","useDragDropManager","useContext","useIsomorphicLayoutEffect","useLayoutEffect","_defineProperties","DropTargetImpl","spec","monitor","canDrop","getItem","hover","drop","useRegisteredDropTarget","connector","dropTarget","useMemo","useDropTarget","accept","useAccept","_registerTarget","registry","getRegistry","targetId","addTarget","removeTarget","registerTarget","_registerTarget2","handlerId","unregister","receiveHandlerId","a","join","useOptionalFactory","arg","deps","memoDeps","isCallingCanDrop","DropTargetMonitorImpl","internalMonitor","getMonitor","listener","subscribeToStateChange","canDropOnTarget","isOverTarget","getItemType","getDropResult","didDrop","getInitialClientOffset","getInitialSourceClientOffset","getSourceClientOffset","getClientOffset","getDifferenceFromInitialOffset","shallowEqual","objA","objB","compare","compareContext","compareResult","keysA","keysB","bHasOwnProperty","idx","valueA","valueB","throwIfCompositeComponentElement","element","displayName","Error","wrapConnectorHooks","hooks","wrappedHooks","hook","wrappedHook","elementOrNode","isValidElement","cloneWithRef","wrapHookToRecognizeElement","setRef","current","newRef","previousRef","isRef","TargetConnector","_this","clearDropTarget","dropTargetOptions","dropTargetRef","dropTargetNode","reconnect","didChange","didHandlerIdChange","didDropTargetChange","didOptionsChange","disconnectDropTarget","lastConnectedHandlerId","lastConnectedDropTarget","lastConnectedDropTargetOptions","unsubscribeDropTarget","connectDropTarget","newHandlerId","dropTargetOptionsInternal","useMonitorOutput","collect","onCollect","_useCollector","onUpdate","_useState2","useState","collected","setCollected","updateCollected","useCallback","nextValue","equal","useCollector","_useCollector2","getHandlerId","handlerIds","useCollectedProps","collector","useConnectDropTarget","useDrop","specArg","useDropTargetMonitor","getBackend","useDropTargetConnector","_a","r","l","parent","memoize","fn","EnterLeaveCounter","isNodeInDocument","enteringNode","previousLength","entered","itemsA","itemsB","Set","insertItem","item","union","contains","leavingNode","items","isFirefox","userAgent","isSafari","Boolean","safari","MonotonicInterpolant","xs","ys","indexes","sort","b","dx","dy","dys","dxs","ms","c1s","_i2","m2","mNext","dxNext","m","c2s","c3s","_i3","c1","invDx","_common","x","mid","low","high","xHere","floor","diff","diffSq","getNodeClientOffset","el","nodeType","parentElement","_el$getBoundingClient","getBoundingClientRect","y","getEventClientOffset","clientX","clientY","getDragPreviewOffset","sourceNode","dragPreview","clientOffset","anchorPoint","offsetPoint","isImage","_document$documentEle","nodeName","documentElement","isImageNode","dragPreviewNodeOffsetFromClient","offsetFromDragPreview","sourceWidth","offsetWidth","sourceHeight","offsetHeight","anchorX","anchorY","_getDragPreviewSize","dragPreviewWidth","dragPreviewHeight","devicePixelRatio","getDragPreviewSize","offsetX","offsetY","isManualOffsetY","interpolate","calculateYOffset","_nativeTypesConfig","FILE","URL","TEXT","HTML","getDataFromDataTransfer","dataTransfer","typesToTry","resultSoFar","typeToTry","getData","nativeTypesConfig","NativeTypes","exposeProperties","files","matchesTypes","html","urls","NativeDragSource","initializeExposedProperties","property","warn","_this2","newProperties","handle","getSourceId","matchNativeItemType","dataTransferTypes","types","nativeItemType","t","OptionsReader","globalContext","optionsArgs","_this$globalContext","_this$optionsArgs","rootElement","HTML5BackendImpl","Map","sourceId","sourceNodes","isDraggingNativeItem","endDrag","currentNativeHandle","removeSource","currentNativeSource","currentDragSourceNode","clearCurrentDragSourceNode","isDragging","dragStartSourceIds","defaultPrevented","beginDrag","publishSource","nativeType","setDragImage","sourcePreviewNodes","_this$getCurrentSourc","getCurrentSourcePreviewNodeOptions","dragPreviewOffset","setData","setCurrentDragSourceNode","captureDraggingState","publishDragSource","beginDragNativeItem","hasAttribute","preventDefault","dragEnterTargetIds","enterLeaveCounter","altKeyPressed","altKey","dropEffect","getCurrentDropEffect","dragOverTargetIds","leave","endDragNativeItem","_this$currentNativeSo","dropTargetIds","loadDataTransfer","reset","dragDrop","tagName","isContentEditable","getActions","_this$dragStartSource","_this$dragOverTargetI","sourcePreviewNodeOptions","sourceNodeOptions","__isReactDndBackendSetUp","addEventListeners","_this$window","removeEventListeners","asyncEndDragFrameId","cancelAnimationFrame","_this3","handleDragStart","handleSelectStart","setAttribute","addEventListener","removeEventListener","_this4","handleDragEnter","handleDragOver","handleDrop","handleTopDragStart","handleTopDragStartCapture","handleTopDragEndCapture","handleTopDragEnter","handleTopDragEnterCapture","handleTopDragLeaveCapture","handleTopDragOver","handleTopDragOverCapture","handleTopDrop","handleTopDropCapture","getCurrentSourceNodeOptions","itemType","createNativeDragSource","addSource","_this5","mouseMoveTimeoutTimer","_this5$rootElement","endDragIfSourceWasRemovedFromDOM","_this$window2","unshift","PositionEnum","newCells","rect","setReferenceNodeId","checkIfAllowed","parentCellId","noop","isBrowser","defaultState","bottom","ResizeObserver","_b","setRect","entries","contentRect","top_1","disconnect","hoverTarget","nodeId","DragSourceImpl","_result","canDrag","globalMonitor","useRegisteredDragSource","handler","useDragSource","useDragType","_registerSource","registerSource","_registerSource2","isCallingCanDrag","isCallingIsDragging","DragSourceMonitorImpl","canDragSource","isDraggingSource","getTargetIds","isSourcePublic","subscribeToOffsetChange","SourceConnector","dragSource","clearDragSource","dragSourceOptions","dragSourceRef","dragSourceNode","reconnectDragSource","clearDragPreview","dragPreviewOptions","dragPreviewRef","dragPreviewNode","reconnectDragPreview","dragSourceOptionsInternal","dragPreviewOptionsInternal","didConnectedDragSourceChange","didDragSourceOptionsChange","disconnectDragSource","lastConnectedDragSource","lastConnectedDragSourceOptions","dragSourceUnsubscribe","connectDragSource","didConnectedDragPreviewChange","didDragPreviewOptionsChange","disconnectDragPreview","lastConnectedDragPreview","lastConnectedDragPreviewOptions","dragPreviewUnsubscribe","connectDragPreview","useConnectDragSource","useConnectDragPreview","useDrag","begin","useDragSourceMonitor","useDragSourceConnector","previewOptions","DragPreviewImage","connect","src","Image","connected","img","onload","Divider","_props$absolute","absolute","_props$flexItem","flexItem","_props$light","light","_props$orientation","orientation","_props$role","role","_props$variant","variant","vertical","margin","border","divider","middle","spacing","alignSelf","oppositeDirection","cachedType","defaultTransitionDuration","enteringScreen","exit","leavingScreen","Drawer","_props$anchor","anchor","anchorProp","BackdropProps","_props$elevation","elevation","_props$ModalProps","ModalProps","BackdropPropsProp","onClose","_props$open","open","_props$PaperProps","PaperProps","SlideProps","_props$TransitionComp","TransitionComponent","Slide","_props$transitionDura","transitionDuration","useTheme","mounted","direction","isHorizontal","getAnchor","drawer","Paper","square","paper","docked","slidingDrawer","in","timeout","appear","Modal","BackdropComponent","Backdrop","modal","flex","overflowY","flexDirection","WebkitOverflowScrolling","outline","paperAnchorLeft","paperAnchorRight","paperAnchorTop","maxHeight","paperAnchorBottom","paperAnchorDockedLeft","borderRight","paperAnchorDockedTop","borderBottom","paperAnchorDockedRight","borderLeft","paperAnchorDockedBottom","borderTop","flip","targetNodeId","lastScale","SCALING_FACTORS","Tab","_props$disabled","_props$disableFocusRi","disableFocusRipple","fullWidth","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","_props$textColor","textColor","_props$wrapped","wrapped","ButtonBase","focusRipple","labelIcon","tabIndex","wrapper","_extends2","button","maxWidth","minWidth","minHeight","breakpoints","paddingTop","marginBottom","textColorInherit","textColorPrimary","textColorSecondary","flexGrow","flexBasis","alignItems","justifyContent","detectScrollType","dummy","container","style","dir","scrollLeft","getNormalizedScrollLeft","scrollWidth","clientWidth","easeInOutSin","sin","PI","styles","ScrollbarSize","scrollbarHeight","nodeRef","setMeasurements","clientHeight","handleResize","prevHeight","clear","TabIndicator","createSvgIcon","KeyboardArrowLeft","_ref2","KeyboardArrowRight","TabScrollButton","classNameProp","Tabs","ariaLabel","ariaLabelledBy","_props$centered","centered","childrenProp","_props$indicatorColor","indicatorColor","_props$ScrollButtonCo","ScrollButtonComponent","_props$scrollButtons","scrollButtons","_props$TabIndicatorPr","TabIndicatorProps","TabScrollButtonProps","scrollable","isRtl","scrollStart","clientSize","_React$useState","setMounted","_React$useState2","indicatorStyle","setIndicatorStyle","_React$useState3","displayScroll","setDisplayScroll","_React$useState4","scrollerStyle","setScrollerStyle","valueToIndex","tabsRef","tabListRef","getTabsMeta","tabsMeta","tabMeta","tabsNode","scrollTop","scrollLeftNormalized","_children","process","updateIndicatorState","useEventCallback","_newIndicatorStyle","_getTabsMeta","startValue","correction","newIndicatorStyle","isNaN","dStart","abs","dSize","scroll","scrollValue","to","cb","_options$ease","ease","_options$duration","cancelled","step","timestamp","requestAnimationFrame","animate","moveTabsScroll","delta","handleStartScrollClick","handleEndScrollClick","handleScrollbarSizeChange","scrollSelectedIntoView","_getTabsMeta2","nextScrollStart","_nextScrollStart","updateScrollButtonState","showStartScroll","showEndScroll","_tabsRef$current","scrollHeight","ownerWindow","handleTabsScroll","updateIndicator","updateScrollButtons","childIndex","child","childValue","conditionalElements","scrollbarSizeListener","scrollButtonsActive","showScrollButtons","scrollButtonStart","scrollButtonsDesktop","scrollButtonEnd","getConditionalElements","scroller","fixed","onScroll","flexContainer","flexContainerVertical","onKeyDown","getAttribute","newFocusTarget","previousItemKey","nextItemKey","previousElementSibling","lastChild","nextElementSibling","firstChild","focus","whiteSpace","overflowX","scrollbarWidth","components","inline","scrollToCell","InsertNewWithDefault","mode","zoom","focusedNodeId","focusRef","c","ListItemText","_props$disableTypogra","disableTypography","primaryProp","primaryTypographyProps","secondaryProp","secondaryTypographyProps","dense","ListContext","Typography","multiline","marginTop","defaultLabels","noPluginFoundContent","searchPlaceholder","insertPlugin","dragMe","plugins","Fab","INIT_COORDS","BEGIN_DRAG","PUBLISH_DRAG_SOURCE","HOVER","DROP","END_DRAG","setClientOffset","sourceClientOffset","payload","path","without","xor","count","ResetCoordinatesAction","createBeginDrag","sourceIds","_options$publishSourc","dispatch","verifyInvariants","getDraggableSource","verifyGetSourceClientOffsetIsFunction","getSource","verifyItemIsObject","pinSource","getSourceType","createPublishDragSource","matchesType","targetType","draggedItemType","createHover","targetIdsArg","verifyTargetIdsIsArray","targetIds","checkInvariants","removeNonMatchingTargetIds","hoverAllTargets","lastIndexOf","getTarget","getTargetType","splice","createDrop","getDroppableTargets","dropResult","determineDropResult","verifyDropResultType","reverse","createEndDrag","verifyIsDragging","unpinSource","DragDropManagerImpl","store","shouldSetUp","getState","isSetUp","setup","teardown","subscribe","handleRefCountChange","createDragDropActions","boundActions","actionCreator","strictEquality","areCoordsEqual","offsetA","offsetB","areArraysEqual","isEqual","initialSourceClientOffset","initialClientOffset","ADD_SOURCE","ADD_TARGET","REMOVE_SOURCE","REMOVE_TARGET","NONE","ALL","areDirty","dirtyIds","_action$payload","_action$payload$targe","_action$payload$prevT","prevTargetIds","prevInnermostTargetId","innermostTargetId","dirtyHandlerIds","dragOffset","dragOperation","stateId","subtract","__IS_NONE__","__IS_ALL__","HandlerRole","DragDropMonitorImpl","prevStateId","handleChange","currentStateId","previousState","shallow","_getSourceClientOffset","_getDifferenceFromInitialOffset","nextUniqueId","validateType","allowArray","freeTasks","pendingErrors","requestErrorThrow","asap","rawTask","pop","RawTask","onerror","getNextHandlerId","id","SOURCE","TARGET","parseRoleFromHandlerId","mapContainsValue","searchValue","isDone","_entries$next","HandlerRegistryImpl","validateSourceContract","addHandler","_addSource","validateTargetContract","_addTarget","dragSources","dropTargets","includePinned","isSourceId","isPinned","pinnedSourceId","pinnedSource","isTargetId","_removeSource","_removeTarget","backendFactory","backendOptions","makeStoreInstance","receiveBackend","reduxDevTools","__REDUX_DEVTOOLS_EXTENSION__","createStore","instanceId"],"mappings":"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E,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,KAEzD,kBAAiB,CACjB,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE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","file":"static/js/12.11ed8d34.chunk.js","sourcesContent":["export function shallowEqual<T>(\n  objA: T,\n  objB: T,\n  compare?: (a: T, b: T, key?: string) => boolean | void,\n  compareContext?: any\n) {\n  var compareResult = compare\n    ? compare.call(compareContext, objA, objB)\n    : void 0;\n  if (compareResult !== void 0) {\n    return !!compareResult;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A's keys different from B.\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = (objA as any)[key];\n    var valueB = (objB as any)[key];\n\n    compareResult = compare\n      ? compare.call(compareContext, valueA, valueB, key)\n      : void 0;\n\n    if (\n      compareResult === false ||\n      (compareResult === void 0 && valueA !== valueB)\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ActionCreators = exports.ActionTypes = void 0;\nvar ActionTypes = {\n  UNDO: '@@redux-undo/UNDO',\n  REDO: '@@redux-undo/REDO',\n  JUMP_TO_FUTURE: '@@redux-undo/JUMP_TO_FUTURE',\n  JUMP_TO_PAST: '@@redux-undo/JUMP_TO_PAST',\n  JUMP: '@@redux-undo/JUMP',\n  CLEAR_HISTORY: '@@redux-undo/CLEAR_HISTORY'\n};\nexports.ActionTypes = ActionTypes;\nvar ActionCreators = {\n  undo: function undo() {\n    return {\n      type: ActionTypes.UNDO\n    };\n  },\n  redo: function redo() {\n    return {\n      type: ActionTypes.REDO\n    };\n  },\n  jumpToFuture: function jumpToFuture(index) {\n    return {\n      type: ActionTypes.JUMP_TO_FUTURE,\n      index: index\n    };\n  },\n  jumpToPast: function jumpToPast(index) {\n    return {\n      type: ActionTypes.JUMP_TO_PAST,\n      index: index\n    };\n  },\n  jump: function jump(index) {\n    return {\n      type: ActionTypes.JUMP,\n      index: index\n    };\n  },\n  clearHistory: function clearHistory() {\n    return {\n      type: ActionTypes.CLEAR_HISTORY\n    };\n  }\n};\nexports.ActionCreators = ActionCreators;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parseActions = parseActions;\nexports.isHistory = isHistory;\nexports.includeAction = includeAction;\nexports.excludeAction = excludeAction;\nexports.combineFilters = combineFilters;\nexports.groupByActionTypes = groupByActionTypes;\nexports.newHistory = newHistory;\n\n// parseActions helper: takes a string (or array)\n//                      and makes it an array if it isn't yet\nfunction parseActions(rawActions) {\n  var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  if (Array.isArray(rawActions)) {\n    return rawActions;\n  } else if (typeof rawActions === 'string') {\n    return [rawActions];\n  }\n\n  return defaultValue;\n} // isHistory helper: check for a valid history object\n\n\nfunction isHistory(history) {\n  return typeof history.present !== 'undefined' && typeof history.future !== 'undefined' && typeof history.past !== 'undefined' && Array.isArray(history.future) && Array.isArray(history.past);\n} // includeAction helper: whitelist actions to be added to the history\n\n\nfunction includeAction(rawActions) {\n  var actions = parseActions(rawActions);\n  return function (action) {\n    return actions.indexOf(action.type) >= 0;\n  };\n} // excludeAction helper: blacklist actions from being added to the history\n\n\nfunction excludeAction(rawActions) {\n  var actions = parseActions(rawActions);\n  return function (action) {\n    return actions.indexOf(action.type) < 0;\n  };\n} // combineFilters helper: combine multiple filters to one\n\n\nfunction combineFilters() {\n  for (var _len = arguments.length, filters = new Array(_len), _key = 0; _key < _len; _key++) {\n    filters[_key] = arguments[_key];\n  }\n\n  return filters.reduce(function (prev, curr) {\n    return function (action, currentState, previousHistory) {\n      return prev(action, currentState, previousHistory) && curr(action, currentState, previousHistory);\n    };\n  }, function () {\n    return true;\n  });\n}\n\nfunction groupByActionTypes(rawActions) {\n  var actions = parseActions(rawActions);\n  return function (action) {\n    return actions.indexOf(action.type) >= 0 ? action.type : null;\n  };\n}\n\nfunction newHistory(past, present, future) {\n  var group = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n  return {\n    past: past,\n    present: present,\n    future: future,\n    group: group,\n    _latestUnfiltered: present,\n    index: past.length,\n    limit: past.length + future.length + 1\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.set = set;\nexports.start = start;\nexports.end = end;\nexports.log = log;\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nvar __DEBUG__;\n\nvar displayBuffer;\nvar colors = {\n  prevState: '#9E9E9E',\n  action: '#03A9F4',\n  nextState: '#4CAF50'\n};\n/* istanbul ignore next: debug messaging is not tested */\n\nfunction initBuffer() {\n  displayBuffer = {\n    header: [],\n    prev: [],\n    action: [],\n    next: [],\n    msgs: []\n  };\n}\n/* istanbul ignore next: debug messaging is not tested */\n\n\nfunction printBuffer() {\n  var _displayBuffer = displayBuffer,\n      header = _displayBuffer.header,\n      prev = _displayBuffer.prev,\n      next = _displayBuffer.next,\n      action = _displayBuffer.action,\n      msgs = _displayBuffer.msgs;\n\n  if (console.group) {\n    var _console, _console2, _console3, _console4, _console5;\n\n    (_console = console).groupCollapsed.apply(_console, _toConsumableArray(header));\n\n    (_console2 = console).log.apply(_console2, _toConsumableArray(prev));\n\n    (_console3 = console).log.apply(_console3, _toConsumableArray(action));\n\n    (_console4 = console).log.apply(_console4, _toConsumableArray(next));\n\n    (_console5 = console).log.apply(_console5, _toConsumableArray(msgs));\n\n    console.groupEnd();\n  } else {\n    var _console6, _console7, _console8, _console9, _console10;\n\n    (_console6 = console).log.apply(_console6, _toConsumableArray(header));\n\n    (_console7 = console).log.apply(_console7, _toConsumableArray(prev));\n\n    (_console8 = console).log.apply(_console8, _toConsumableArray(action));\n\n    (_console9 = console).log.apply(_console9, _toConsumableArray(next));\n\n    (_console10 = console).log.apply(_console10, _toConsumableArray(msgs));\n  }\n}\n/* istanbul ignore next: debug messaging is not tested */\n\n\nfunction colorFormat(text, color, obj) {\n  return [\"%c\".concat(text), \"color: \".concat(color, \"; font-weight: bold\"), obj];\n}\n/* istanbul ignore next: debug messaging is not tested */\n\n\nfunction start(action, state) {\n  initBuffer();\n\n  if (__DEBUG__) {\n    if (console.group) {\n      displayBuffer.header = ['%credux-undo', 'font-style: italic', 'action', action.type];\n      displayBuffer.action = colorFormat('action', colors.action, action);\n      displayBuffer.prev = colorFormat('prev history', colors.prevState, state);\n    } else {\n      displayBuffer.header = ['redux-undo action', action.type];\n      displayBuffer.action = ['action', action];\n      displayBuffer.prev = ['prev history', state];\n    }\n  }\n}\n/* istanbul ignore next: debug messaging is not tested */\n\n\nfunction end(nextState) {\n  if (__DEBUG__) {\n    if (console.group) {\n      displayBuffer.next = colorFormat('next history', colors.nextState, nextState);\n    } else {\n      displayBuffer.next = ['next history', nextState];\n    }\n\n    printBuffer();\n  }\n}\n/* istanbul ignore next: debug messaging is not tested */\n\n\nfunction log() {\n  if (__DEBUG__) {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    displayBuffer.msgs = displayBuffer.msgs.concat([].concat(args, ['\\n']));\n  }\n}\n/* istanbul ignore next: debug messaging is not tested */\n\n\nfunction set(debug) {\n  __DEBUG__ = debug;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"ActionTypes\", {\n  enumerable: true,\n  get: function get() {\n    return _actions.ActionTypes;\n  }\n});\nObject.defineProperty(exports, \"ActionCreators\", {\n  enumerable: true,\n  get: function get() {\n    return _actions.ActionCreators;\n  }\n});\nObject.defineProperty(exports, \"parseActions\", {\n  enumerable: true,\n  get: function get() {\n    return _helpers.parseActions;\n  }\n});\nObject.defineProperty(exports, \"isHistory\", {\n  enumerable: true,\n  get: function get() {\n    return _helpers.isHistory;\n  }\n});\nObject.defineProperty(exports, \"includeAction\", {\n  enumerable: true,\n  get: function get() {\n    return _helpers.includeAction;\n  }\n});\nObject.defineProperty(exports, \"excludeAction\", {\n  enumerable: true,\n  get: function get() {\n    return _helpers.excludeAction;\n  }\n});\nObject.defineProperty(exports, \"combineFilters\", {\n  enumerable: true,\n  get: function get() {\n    return _helpers.combineFilters;\n  }\n});\nObject.defineProperty(exports, \"groupByActionTypes\", {\n  enumerable: true,\n  get: function get() {\n    return _helpers.groupByActionTypes;\n  }\n});\nObject.defineProperty(exports, \"newHistory\", {\n  enumerable: true,\n  get: function get() {\n    return _helpers.newHistory;\n  }\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function get() {\n    return _reducer[\"default\"];\n  }\n});\n\nvar _actions = require(\"./actions\");\n\nvar _helpers = require(\"./helpers\");\n\nvar _reducer = _interopRequireDefault(require(\"./reducer\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = undoable;\n\nvar debug = _interopRequireWildcard(require(\"./debug\"));\n\nvar _actions = require(\"./actions\");\n\nvar _helpers = require(\"./helpers\");\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction createHistory(state, ignoreInitialState) {\n  // ignoreInitialState essentially prevents the user from undoing to the\n  // beginning, in the case that the undoable reducer handles initialization\n  // in a way that can't be redone simply\n  var history = (0, _helpers.newHistory)([], state, []);\n\n  if (ignoreInitialState) {\n    history._latestUnfiltered = null;\n  }\n\n  return history;\n} // insert: insert `state` into history, which means adding the current state\n//         into `past`, setting the new `state` as `present` and erasing\n//         the `future`.\n\n\nfunction insert(history, state, limit, group) {\n  var lengthWithoutFuture = history.past.length + 1;\n  debug.log('inserting', state);\n  debug.log('new free: ', limit - lengthWithoutFuture);\n  var past = history.past,\n      _latestUnfiltered = history._latestUnfiltered;\n  var isHistoryOverflow = limit && limit <= lengthWithoutFuture;\n  var pastSliced = past.slice(isHistoryOverflow ? 1 : 0);\n  var newPast = _latestUnfiltered != null ? [].concat(_toConsumableArray(pastSliced), [_latestUnfiltered]) : pastSliced;\n  return (0, _helpers.newHistory)(newPast, state, [], group);\n} // jumpToFuture: jump to requested index in future history\n\n\nfunction jumpToFuture(history, index) {\n  if (index < 0 || index >= history.future.length) return history;\n  var past = history.past,\n      future = history.future,\n      _latestUnfiltered = history._latestUnfiltered;\n  var newPast = [].concat(_toConsumableArray(past), [_latestUnfiltered], _toConsumableArray(future.slice(0, index)));\n  var newPresent = future[index];\n  var newFuture = future.slice(index + 1);\n  return (0, _helpers.newHistory)(newPast, newPresent, newFuture);\n} // jumpToPast: jump to requested index in past history\n\n\nfunction jumpToPast(history, index) {\n  if (index < 0 || index >= history.past.length) return history;\n  var past = history.past,\n      future = history.future,\n      _latestUnfiltered = history._latestUnfiltered;\n  var newPast = past.slice(0, index);\n  var newFuture = [].concat(_toConsumableArray(past.slice(index + 1)), [_latestUnfiltered], _toConsumableArray(future));\n  var newPresent = past[index];\n  return (0, _helpers.newHistory)(newPast, newPresent, newFuture);\n} // jump: jump n steps in the past or forward\n\n\nfunction jump(history, n) {\n  if (n > 0) return jumpToFuture(history, n - 1);\n  if (n < 0) return jumpToPast(history, history.past.length + n);\n  return history;\n} // helper to dynamically match in the reducer's switch-case\n\n\nfunction actionTypeAmongClearHistoryType(actionType, clearHistoryType) {\n  return clearHistoryType.indexOf(actionType) > -1 ? actionType : !actionType;\n} // redux-undo higher order reducer\n\n\nfunction undoable(reducer) {\n  var rawConfig = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  debug.set(rawConfig.debug);\n\n  var config = _objectSpread({\n    limit: undefined,\n    filter: function filter() {\n      return true;\n    },\n    groupBy: function groupBy() {\n      return null;\n    },\n    undoType: _actions.ActionTypes.UNDO,\n    redoType: _actions.ActionTypes.REDO,\n    jumpToPastType: _actions.ActionTypes.JUMP_TO_PAST,\n    jumpToFutureType: _actions.ActionTypes.JUMP_TO_FUTURE,\n    jumpType: _actions.ActionTypes.JUMP,\n    neverSkipReducer: false,\n    ignoreInitialState: false,\n    syncFilter: false\n  }, rawConfig, {\n    initTypes: (0, _helpers.parseActions)(rawConfig.initTypes, ['@@redux-undo/INIT']),\n    clearHistoryType: (0, _helpers.parseActions)(rawConfig.clearHistoryType, [_actions.ActionTypes.CLEAR_HISTORY])\n  }); // Allows the user to call the reducer with redux-undo specific actions\n\n\n  var skipReducer = config.neverSkipReducer ? function (res, action) {\n    for (var _len = arguments.length, slices = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      slices[_key - 2] = arguments[_key];\n    }\n\n    return _objectSpread({}, res, {\n      present: reducer.apply(void 0, [res.present, action].concat(slices))\n    });\n  } : function (res) {\n    return res;\n  };\n  var initialState;\n  return function () {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n    var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    debug.start(action, state);\n    var history = state;\n\n    for (var _len2 = arguments.length, slices = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n      slices[_key2 - 2] = arguments[_key2];\n    }\n\n    if (!initialState) {\n      debug.log('history is uninitialized');\n\n      if (state === undefined) {\n        var createHistoryAction = {\n          type: '@@redux-undo/CREATE_HISTORY'\n        };\n        var start = reducer.apply(void 0, [state, createHistoryAction].concat(slices));\n        history = createHistory(start, config.ignoreInitialState);\n        debug.log('do not set initialState on probe actions');\n        debug.end(history);\n        return history;\n      } else if ((0, _helpers.isHistory)(state)) {\n        history = initialState = config.ignoreInitialState ? state : (0, _helpers.newHistory)(state.past, state.present, state.future);\n        debug.log('initialHistory initialized: initialState is a history', initialState);\n      } else {\n        history = initialState = createHistory(state, config.ignoreInitialState);\n        debug.log('initialHistory initialized: initialState is not a history', initialState);\n      }\n    }\n\n    var res;\n\n    switch (action.type) {\n      case undefined:\n        return history;\n\n      case config.undoType:\n        res = jump(history, -1);\n        debug.log('perform undo');\n        debug.end(res);\n        return skipReducer.apply(void 0, [res, action].concat(slices));\n\n      case config.redoType:\n        res = jump(history, 1);\n        debug.log('perform redo');\n        debug.end(res);\n        return skipReducer.apply(void 0, [res, action].concat(slices));\n\n      case config.jumpToPastType:\n        res = jumpToPast(history, action.index);\n        debug.log(\"perform jumpToPast to \".concat(action.index));\n        debug.end(res);\n        return skipReducer.apply(void 0, [res, action].concat(slices));\n\n      case config.jumpToFutureType:\n        res = jumpToFuture(history, action.index);\n        debug.log(\"perform jumpToFuture to \".concat(action.index));\n        debug.end(res);\n        return skipReducer.apply(void 0, [res, action].concat(slices));\n\n      case config.jumpType:\n        res = jump(history, action.index);\n        debug.log(\"perform jump to \".concat(action.index));\n        debug.end(res);\n        return skipReducer.apply(void 0, [res, action].concat(slices));\n\n      case actionTypeAmongClearHistoryType(action.type, config.clearHistoryType):\n        res = createHistory(history.present, config.ignoreInitialState);\n        debug.log('perform clearHistory');\n        debug.end(res);\n        return skipReducer.apply(void 0, [res, action].concat(slices));\n\n      default:\n        res = reducer.apply(void 0, [history.present, action].concat(slices));\n\n        if (config.initTypes.some(function (actionType) {\n          return actionType === action.type;\n        })) {\n          debug.log('reset history due to init action');\n          debug.end(initialState);\n          return initialState;\n        }\n\n        if (history._latestUnfiltered === res) {\n          // Don't handle this action. Do not call debug.end here,\n          // because this action should not produce side effects to the console\n          return history;\n        }\n        /* eslint-disable-next-line no-case-declarations */\n\n\n        var filtered = typeof config.filter === 'function' && !config.filter(action, res, history);\n\n        if (filtered) {\n          // if filtering an action, merely update the present\n          var filteredState = (0, _helpers.newHistory)(history.past, res, history.future, history.group);\n\n          if (!config.syncFilter) {\n            filteredState._latestUnfiltered = history._latestUnfiltered;\n          }\n\n          debug.log('filter ignored action, not storing it in past');\n          debug.end(filteredState);\n          return filteredState;\n        }\n        /* eslint-disable-next-line no-case-declarations */\n\n\n        var group = config.groupBy(action, res, history);\n\n        if (group != null && group === history.group) {\n          // if grouping with the previous action, only update the present\n          var groupedState = (0, _helpers.newHistory)(history.past, res, history.future, history.group);\n          debug.log('groupBy grouped the action with the previous action');\n          debug.end(groupedState);\n          return groupedState;\n        } // If the action wasn't filtered or grouped, insert normally\n\n\n        history = insert(history, res, config.limit, group);\n        debug.log('inserted new state into history');\n        debug.end(history);\n        return history;\n    }\n  };\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * Constants.\n */\n\nvar IS_MAC = typeof window != 'undefined' && /Mac|iPod|iPhone|iPad/.test(window.navigator.platform);\n\nvar MODIFIERS = {\n  alt: 'altKey',\n  control: 'ctrlKey',\n  meta: 'metaKey',\n  shift: 'shiftKey'\n};\n\nvar ALIASES = {\n  add: '+',\n  break: 'pause',\n  cmd: 'meta',\n  command: 'meta',\n  ctl: 'control',\n  ctrl: 'control',\n  del: 'delete',\n  down: 'arrowdown',\n  esc: 'escape',\n  ins: 'insert',\n  left: 'arrowleft',\n  mod: IS_MAC ? 'meta' : 'control',\n  opt: 'alt',\n  option: 'alt',\n  return: 'enter',\n  right: 'arrowright',\n  space: ' ',\n  spacebar: ' ',\n  up: 'arrowup',\n  win: 'meta',\n  windows: 'meta'\n};\n\nvar CODES = {\n  backspace: 8,\n  tab: 9,\n  enter: 13,\n  shift: 16,\n  control: 17,\n  alt: 18,\n  pause: 19,\n  capslock: 20,\n  escape: 27,\n  ' ': 32,\n  pageup: 33,\n  pagedown: 34,\n  end: 35,\n  home: 36,\n  arrowleft: 37,\n  arrowup: 38,\n  arrowright: 39,\n  arrowdown: 40,\n  insert: 45,\n  delete: 46,\n  meta: 91,\n  numlock: 144,\n  scrolllock: 145,\n  ';': 186,\n  '=': 187,\n  ',': 188,\n  '-': 189,\n  '.': 190,\n  '/': 191,\n  '`': 192,\n  '[': 219,\n  '\\\\': 220,\n  ']': 221,\n  '\\'': 222\n};\n\nfor (var f = 1; f < 20; f++) {\n  CODES['f' + f] = 111 + f;\n}\n\n/**\n * Is hotkey?\n */\n\nfunction isHotkey(hotkey, options, event) {\n  if (options && !('byKey' in options)) {\n    event = options;\n    options = null;\n  }\n\n  if (!Array.isArray(hotkey)) {\n    hotkey = [hotkey];\n  }\n\n  var array = hotkey.map(function (string) {\n    return parseHotkey(string, options);\n  });\n  var check = function check(e) {\n    return array.some(function (object) {\n      return compareHotkey(object, e);\n    });\n  };\n  var ret = event == null ? check : check(event);\n  return ret;\n}\n\nfunction isCodeHotkey(hotkey, event) {\n  return isHotkey(hotkey, event);\n}\n\nfunction isKeyHotkey(hotkey, event) {\n  return isHotkey(hotkey, { byKey: true }, event);\n}\n\n/**\n * Parse.\n */\n\nfunction parseHotkey(hotkey, options) {\n  var byKey = options && options.byKey;\n  var ret = {};\n\n  // Special case to handle the `+` key since we use it as a separator.\n  hotkey = hotkey.replace('++', '+add');\n  var values = hotkey.split('+');\n  var length = values.length;\n\n  // Ensure that all the modifiers are set to false unless the hotkey has them.\n\n  for (var k in MODIFIERS) {\n    ret[MODIFIERS[k]] = false;\n  }\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = values[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var value = _step.value;\n\n      var optional = value.endsWith('?') && value.length > 1;\n\n      if (optional) {\n        value = value.slice(0, -1);\n      }\n\n      var name = toKeyName(value);\n      var modifier = MODIFIERS[name];\n\n      if (length === 1 || !modifier) {\n        if (byKey) {\n          ret.key = name;\n        } else {\n          ret.which = toKeyCode(value);\n        }\n      }\n\n      if (modifier) {\n        ret[modifier] = optional ? null : true;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return ret;\n}\n\n/**\n * Compare.\n */\n\nfunction compareHotkey(object, event) {\n  for (var key in object) {\n    var expected = object[key];\n    var actual = void 0;\n\n    if (expected == null) {\n      continue;\n    }\n\n    if (key === 'key' && event.key != null) {\n      actual = event.key.toLowerCase();\n    } else if (key === 'which') {\n      actual = expected === 91 && event.which === 93 ? 91 : event.which;\n    } else {\n      actual = event[key];\n    }\n\n    if (actual == null && expected === false) {\n      continue;\n    }\n\n    if (actual !== expected) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Utils.\n */\n\nfunction toKeyCode(name) {\n  name = toKeyName(name);\n  var code = CODES[name] || name.toUpperCase().charCodeAt(0);\n  return code;\n}\n\nfunction toKeyName(name) {\n  name = name.toLowerCase();\n  name = ALIASES[name] || name;\n  return name;\n}\n\n/**\n * Export.\n */\n\nexports.default = isHotkey;\nexports.isHotkey = isHotkey;\nexports.isCodeHotkey = isCodeHotkey;\nexports.isKeyHotkey = isKeyHotkey;\nexports.parseHotkey = parseHotkey;\nexports.compareHotkey = compareHotkey;\nexports.toKeyCode = toKeyCode;\nexports.toKeyName = toKeyName;","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z\"\n}), 'Translate');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z\"\n}), 'FileCopy');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 12h-2v3h-3v2h5v-5zM7 9h3V7H5v5h2V9zm14-6H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z\"\n}), 'AspectRatio');\n\nexports.default = _default;","import { createContext } from 'react';\n/**\n * Create the React Context\n */\n\nexport var DndContext = createContext({\n  dragDropManager: undefined\n});","// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nexport function rawAsap(task) {\n  if (!queue.length) {\n    requestFlush();\n    flushing = true;\n  } // Equivalent to push, but avoids a function call.\n\n\n  queue[queue.length] = task;\n}\nvar queue = []; // Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\n// @ts-ignore\n\nvar flushing = false; // `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\n\nvar requestFlush; // The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\n\nvar index = 0; // If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\n\nvar capacity = 1024; // The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\n\nfunction flush() {\n  while (index < queue.length) {\n    var currentIndex = index; // Advance the index before calling the task. This ensures that we will\n    // begin flushing on the next task the task throws an error.\n\n    index = index + 1;\n    queue[currentIndex].call(); // Prevent leaking memory for long chains of recursive calls to `asap`.\n    // If we call `asap` within tasks scheduled by `asap`, the queue will\n    // grow, but to avoid an O(n) walk for every task we execute, we don't\n    // shift tasks off the queue after they have been executed.\n    // Instead, we periodically shift 1024 tasks off the queue.\n\n    if (index > capacity) {\n      // Manually shift all values starting at the index back to the\n      // beginning of the queue.\n      for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n        queue[scan] = queue[scan + index];\n      }\n\n      queue.length -= index;\n      index = 0;\n    }\n  }\n\n  queue.length = 0;\n  index = 0;\n  flushing = false;\n} // `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\n\n\nvar scope = typeof global !== 'undefined' ? global : self;\nvar BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver; // MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\n\nif (typeof BrowserMutationObserver === 'function') {\n  requestFlush = makeRequestCallFromMutationObserver(flush); // MessageChannels are desirable because they give direct access to the HTML\n  // task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n  // 11-12, and in web workers in many engines.\n  // Although message channels yield to any queued rendering and IO tasks, they\n  // would be better than imposing the 4ms delay of timers.\n  // However, they do not work reliably in Internet Explorer or Safari.\n  // Internet Explorer 10 is the only browser that has setImmediate but does\n  // not have MutationObservers.\n  // Although setImmediate yields to the browser's renderer, it would be\n  // preferrable to falling back to setTimeout since it does not have\n  // the minimum 4ms penalty.\n  // Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n  // Desktop to a lesser extent) that renders both setImmediate and\n  // MessageChannel useless for the purposes of ASAP.\n  // https://github.com/kriskowal/q/issues/396\n  // Timers are implemented universally.\n  // We fall back to timers in workers in most engines, and in foreground\n  // contexts in the following browsers.\n  // However, note that even this simple case requires nuances to operate in a\n  // broad spectrum of browsers.\n  //\n  // - Firefox 3-13\n  // - Internet Explorer 6-9\n  // - iPad Safari 4.3\n  // - Lynx 2.8.7\n} else {\n  requestFlush = makeRequestCallFromTimer(flush);\n} // `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.jss\n// `process.on(\"uncaughtException\")` or by a domain.\n\n\nrawAsap.requestFlush = requestFlush; // To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\n\nfunction makeRequestCallFromMutationObserver(callback) {\n  var toggle = 1;\n  var observer = new BrowserMutationObserver(callback);\n  var node = document.createTextNode('');\n  observer.observe(node, {\n    characterData: true\n  });\n  return function requestCall() {\n    toggle = -toggle;\n    node.data = toggle;\n  };\n} // The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\n\nfunction makeRequestCallFromTimer(callback) {\n  return function requestCall() {\n    // We dispatch a timeout with a specified delay of 0 for engines that\n    // can reliably accommodate that request. This will usually be snapped\n    // to a 4 milisecond delay, but once we're flushing, there's no delay\n    // between events.\n    var timeoutHandle = setTimeout(handleTimer, 0); // However, since this timer gets frequently dropped in Firefox\n    // workers, we enlist an interval handle that will try to fire\n    // an event 20 times per second until it succeeds.\n\n    var intervalHandle = setInterval(handleTimer, 50);\n\n    function handleTimer() {\n      // Whichever timer succeeds will cancel both timers and\n      // execute the callback.\n      clearTimeout(timeoutHandle);\n      clearInterval(intervalHandle);\n      callback();\n    }\n  };\n} // This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\n\n\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer; // ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React, { useState } from 'react';\nvar StickyWrapper = function (_a) {\n    var children = _a.children;\n    var ref = React.createRef();\n    var stickyElRef = React.createRef();\n    var _b = __read(useState(false), 2), shouldStickToTop = _b[0], setShouldStickToTop = _b[1];\n    var _c = __read(useState(true), 2), shouldStickToBottom = _c[0], setShouldStickToBottom = _c[1];\n    var _d = __read(useState(0), 2), rightOffset = _d[0], setRightOffset = _d[1];\n    React.useEffect(function () {\n        var calc = function () {\n            if (ref.current) {\n                var _a = ref.current.getBoundingClientRect(), top_1 = _a.top, left = _a.left;\n                var bottom = top_1 + ref.current.clientHeight;\n                // document.documentElement.clientWidth is without scrollbars, so better for us\n                var right = document.documentElement.clientWidth - left - ref.current.clientWidth;\n                var uiHeight = stickyElRef.current\n                    ? stickyElRef.current.clientHeight\n                    : 400;\n                setRightOffset(right);\n                setShouldStickToTop(top_1 > window.innerHeight - uiHeight);\n                setShouldStickToBottom(bottom < window.innerHeight);\n            }\n        };\n        document.addEventListener('scroll', calc);\n        window.addEventListener('resize', calc);\n        var observer = null;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (global.IntersectionObserver) {\n            observer = new IntersectionObserver(calc);\n            if (ref.current) {\n                observer.observe(ref.current);\n            }\n        }\n        // do it once\n        calc();\n        return function () {\n            document.removeEventListener('scroll', calc);\n            window.removeEventListener('resize', calc);\n            observer === null || observer === void 0 ? void 0 : observer.disconnect();\n        };\n    }, [ref, stickyElRef]);\n    return (React.createElement(\"div\", { style: { position: 'relative' }, ref: ref }, children({\n        rightOffset: rightOffset,\n        stickyElRef: stickyElRef,\n        focusRef: ref,\n        shouldStickToTop: shouldStickToTop,\n        shouldStickToBottom: shouldStickToBottom,\n    })));\n};\nexport default StickyWrapper;\n//# sourceMappingURL=StickyWrapper.js.map","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7 14l5-5 5 5z\"\n}), 'ArrowDropUp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7 10l5 5 5-5z\"\n}), 'ArrowDropDown');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14 7l-5 5 5 5V7z\"\n}), 'ArrowLeft');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 17l5-5-5-5v10z\"\n}), 'ArrowRight');\n\nexports.default = _default;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n// @inheritedComponent IconButton\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { refType } from '@material-ui/utils';\nimport withStyles from '../styles/withStyles';\nimport { alpha } from '../styles/colorManipulator';\nimport capitalize from '../utils/capitalize';\nimport SwitchBase from '../internal/SwitchBase';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'inline-flex',\n      width: 34 + 12 * 2,\n      height: 14 + 12 * 2,\n      overflow: 'hidden',\n      padding: 12,\n      boxSizing: 'border-box',\n      position: 'relative',\n      flexShrink: 0,\n      zIndex: 0,\n      // Reset the stacking context.\n      verticalAlign: 'middle',\n      // For correct alignment with the text.\n      '@media print': {\n        colorAdjust: 'exact'\n      }\n    },\n\n    /* Styles applied to the root element if `edge=\"start\"`. */\n    edgeStart: {\n      marginLeft: -8\n    },\n\n    /* Styles applied to the root element if `edge=\"end\"`. */\n    edgeEnd: {\n      marginRight: -8\n    },\n\n    /* Styles applied to the internal `SwitchBase` component's `root` class. */\n    switchBase: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      zIndex: 1,\n      // Render above the focus ripple.\n      color: theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[400],\n      transition: theme.transitions.create(['left', 'transform'], {\n        duration: theme.transitions.duration.shortest\n      }),\n      '&$checked': {\n        transform: 'translateX(20px)'\n      },\n      '&$disabled': {\n        color: theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[800]\n      },\n      '&$checked + $track': {\n        opacity: 0.5\n      },\n      '&$disabled + $track': {\n        opacity: theme.palette.type === 'light' ? 0.12 : 0.1\n      }\n    },\n\n    /* Styles applied to the internal SwitchBase component's root element if `color=\"primary\"`. */\n    colorPrimary: {\n      '&$checked': {\n        color: theme.palette.primary.main,\n        '&:hover': {\n          backgroundColor: alpha(theme.palette.primary.main, theme.palette.action.hoverOpacity),\n          '@media (hover: none)': {\n            backgroundColor: 'transparent'\n          }\n        }\n      },\n      '&$disabled': {\n        color: theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[800]\n      },\n      '&$checked + $track': {\n        backgroundColor: theme.palette.primary.main\n      },\n      '&$disabled + $track': {\n        backgroundColor: theme.palette.type === 'light' ? theme.palette.common.black : theme.palette.common.white\n      }\n    },\n\n    /* Styles applied to the internal SwitchBase component's root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      '&$checked': {\n        color: theme.palette.secondary.main,\n        '&:hover': {\n          backgroundColor: alpha(theme.palette.secondary.main, theme.palette.action.hoverOpacity),\n          '@media (hover: none)': {\n            backgroundColor: 'transparent'\n          }\n        }\n      },\n      '&$disabled': {\n        color: theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[800]\n      },\n      '&$checked + $track': {\n        backgroundColor: theme.palette.secondary.main\n      },\n      '&$disabled + $track': {\n        backgroundColor: theme.palette.type === 'light' ? theme.palette.common.black : theme.palette.common.white\n      }\n    },\n\n    /* Styles applied to the root element if `size=\"small\"`. */\n    sizeSmall: {\n      width: 40,\n      height: 24,\n      padding: 7,\n      '& $thumb': {\n        width: 16,\n        height: 16\n      },\n      '& $switchBase': {\n        padding: 4,\n        '&$checked': {\n          transform: 'translateX(16px)'\n        }\n      }\n    },\n\n    /* Pseudo-class applied to the internal `SwitchBase` component's `checked` class. */\n    checked: {},\n\n    /* Pseudo-class applied to the internal SwitchBase component's disabled class. */\n    disabled: {},\n\n    /* Styles applied to the internal SwitchBase component's input element. */\n    input: {\n      left: '-100%',\n      width: '300%'\n    },\n\n    /* Styles used to create the thumb passed to the internal `SwitchBase` component `icon` prop. */\n    thumb: {\n      boxShadow: theme.shadows[1],\n      backgroundColor: 'currentColor',\n      width: 20,\n      height: 20,\n      borderRadius: '50%'\n    },\n\n    /* Styles applied to the track element. */\n    track: {\n      height: '100%',\n      width: '100%',\n      borderRadius: 14 / 2,\n      zIndex: -1,\n      transition: theme.transitions.create(['opacity', 'background-color'], {\n        duration: theme.transitions.duration.shortest\n      }),\n      backgroundColor: theme.palette.type === 'light' ? theme.palette.common.black : theme.palette.common.white,\n      opacity: theme.palette.type === 'light' ? 0.38 : 0.3\n    }\n  };\n};\nvar Switch = /*#__PURE__*/React.forwardRef(function Switch(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'secondary' : _props$color,\n      _props$edge = props.edge,\n      edge = _props$edge === void 0 ? false : _props$edge,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"edge\", \"size\"]);\n\n  var icon = /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.thumb\n  });\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: clsx(classes.root, className, {\n      'start': classes.edgeStart,\n      'end': classes.edgeEnd\n    }[edge], size === \"small\" && classes[\"size\".concat(capitalize(size))])\n  }, /*#__PURE__*/React.createElement(SwitchBase, _extends({\n    type: \"checkbox\",\n    icon: icon,\n    checkedIcon: icon,\n    classes: {\n      root: clsx(classes.switchBase, classes[\"color\".concat(capitalize(color))]),\n      input: classes.input,\n      checked: classes.checked,\n      disabled: classes.disabled\n    },\n    ref: ref\n  }, other)), /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.track\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Switch.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * If `true`, the component is checked.\n   */\n  checked: PropTypes.bool,\n\n  /**\n   * The icon to display when the component is checked.\n   */\n  checkedIcon: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['default', 'primary', 'secondary']),\n\n  /**\n   * @ignore\n   */\n  defaultChecked: PropTypes.bool,\n\n  /**\n   * If `true`, the switch will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the ripple effect will be disabled.\n   */\n  disableRipple: PropTypes.bool,\n\n  /**\n   * If given, uses a negative margin to counteract the padding on one\n   * side (this is often helpful for aligning the left or right\n   * side of the icon with content above or below, without ruining the border\n   * size and shape).\n   */\n  edge: PropTypes.oneOf(['end', 'start', false]),\n\n  /**\n   * The icon to display when the component is unchecked.\n   */\n  icon: PropTypes.node,\n\n  /**\n   * The id of the `input` element.\n   */\n  id: PropTypes.string,\n\n  /**\n   * [Attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Attributes) applied to the `input` element.\n   */\n  inputProps: PropTypes.object,\n\n  /**\n   * Pass a ref to the `input` element.\n   */\n  inputRef: refType,\n\n  /**\n   * Callback fired when the state is changed.\n   *\n   * @param {object} event The event source of the callback.\n   * You can pull out the new value by accessing `event.target.value` (string).\n   * You can pull out the new checked state by accessing `event.target.checked` (boolean).\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * If `true`, the `input` element will be required.\n   */\n  required: PropTypes.bool,\n\n  /**\n   * The size of the switch.\n   * `small` is equivalent to the dense switch styling.\n   */\n  size: PropTypes.oneOf(['medium', 'small']),\n\n  /**\n   * The value of the component. The DOM API casts this to a string.\n   * The browser uses \"on\" as the default value.\n   */\n  value: PropTypes.any\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiSwitch'\n})(Switch);","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 11h3v10h2V11h3l-4-4-4 4zM4 3v2h16V3H4z\"\n}), 'VerticalAlignTop');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z\"\n}), 'Undo');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z\"\n}), 'Redo');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\"\n})), 'ZoomIn');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\"\n}), 'ZoomOut');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\n}), 'Create');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 18h5v-6h-5v6zm-6 0h5V5H4v13zm12 0h5v-6h-5v6zM10 5v6h11V5H10z\"\n}), 'ViewQuilt');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.01 5.5L10 8h4l-1.99-2.5zM18 10v4l2.5-1.99L18 10zM6 10l-2.5 2.01L6 14v-4zm8 6h-4l2.01 2.5L14 16zm7-13H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z\"\n}), 'SettingsOverscan');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 6h18V4H4c-1.1 0-2 .9-2 2v11H0v3h14v-3H4V6zm19 2h-6c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zm-1 9h-4v-7h4v7z\"\n}), 'Devices');\n\nexports.default = _default;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      boxSizing: 'border-box',\n      lineHeight: '48px',\n      listStyle: 'none',\n      color: theme.palette.text.secondary,\n      fontFamily: theme.typography.fontFamily,\n      fontWeight: theme.typography.fontWeightMedium,\n      fontSize: theme.typography.pxToRem(14)\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      color: theme.palette.primary.main\n    },\n\n    /* Styles applied to the root element if `color=\"inherit\"`. */\n    colorInherit: {\n      color: 'inherit'\n    },\n\n    /* Styles applied to the inner `component` element if `disableGutters={false}`. */\n    gutters: {\n      paddingLeft: 16,\n      paddingRight: 16\n    },\n\n    /* Styles applied to the root element if `inset={true}`. */\n    inset: {\n      paddingLeft: 72\n    },\n\n    /* Styles applied to the root element if `disableSticky={false}`. */\n    sticky: {\n      position: 'sticky',\n      top: 0,\n      zIndex: 1,\n      backgroundColor: 'inherit'\n    }\n  };\n};\nvar ListSubheader = /*#__PURE__*/React.forwardRef(function ListSubheader(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'default' : _props$color,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'li' : _props$component,\n      _props$disableGutters = props.disableGutters,\n      disableGutters = _props$disableGutters === void 0 ? false : _props$disableGutters,\n      _props$disableSticky = props.disableSticky,\n      disableSticky = _props$disableSticky === void 0 ? false : _props$disableSticky,\n      _props$inset = props.inset,\n      inset = _props$inset === void 0 ? false : _props$inset,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"component\", \"disableGutters\", \"disableSticky\", \"inset\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className, color !== 'default' && classes[\"color\".concat(capitalize(color))], inset && classes.inset, !disableSticky && classes.sticky, !disableGutters && classes.gutters),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? ListSubheader.propTypes = {\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['default', 'primary', 'inherit']),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * If `true`, the List Subheader will not have gutters.\n   */\n  disableGutters: PropTypes.bool,\n\n  /**\n   * If `true`, the List Subheader will not stick to the top during scroll.\n   */\n  disableSticky: PropTypes.bool,\n\n  /**\n   * If `true`, the List Subheader will be indented.\n   */\n  inset: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiListSubheader'\n})(ListSubheader);","export var canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport { canUseDOM } from './utils';\n\nvar Portal = function (_React$Component) {\n  _inherits(Portal, _React$Component);\n\n  function Portal() {\n    _classCallCheck(this, Portal);\n\n    return _possibleConstructorReturn(this, (Portal.__proto__ || Object.getPrototypeOf(Portal)).apply(this, arguments));\n  }\n\n  _createClass(Portal, [{\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.defaultNode) {\n        document.body.removeChild(this.defaultNode);\n      }\n      this.defaultNode = null;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (!canUseDOM) {\n        return null;\n      }\n      if (!this.props.node && !this.defaultNode) {\n        this.defaultNode = document.createElement('div');\n        document.body.appendChild(this.defaultNode);\n      }\n      return ReactDOM.createPortal(this.props.children, this.props.node || this.defaultNode);\n    }\n  }]);\n\n  return Portal;\n}(React.Component);\n\nPortal.propTypes = {\n  children: PropTypes.node.isRequired,\n  node: PropTypes.any\n};\n\nexport default Portal;","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// This file is a fallback for a consumer who is not yet on React 16\n// as createPortal was introduced in React 16\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nvar Portal = function (_React$Component) {\n  _inherits(Portal, _React$Component);\n\n  function Portal() {\n    _classCallCheck(this, Portal);\n\n    return _possibleConstructorReturn(this, (Portal.__proto__ || Object.getPrototypeOf(Portal)).apply(this, arguments));\n  }\n\n  _createClass(Portal, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.renderPortal();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(props) {\n      this.renderPortal();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      ReactDOM.unmountComponentAtNode(this.defaultNode || this.props.node);\n      if (this.defaultNode) {\n        document.body.removeChild(this.defaultNode);\n      }\n      this.defaultNode = null;\n      this.portal = null;\n    }\n  }, {\n    key: 'renderPortal',\n    value: function renderPortal(props) {\n      if (!this.props.node && !this.defaultNode) {\n        this.defaultNode = document.createElement('div');\n        document.body.appendChild(this.defaultNode);\n      }\n\n      var children = this.props.children;\n      // https://gist.github.com/jimfb/d99e0678e9da715ccf6454961ef04d1b\n      if (typeof this.props.children.type === 'function') {\n        children = React.cloneElement(this.props.children);\n      }\n\n      this.portal = ReactDOM.unstable_renderSubtreeIntoContainer(this, children, this.props.node || this.defaultNode);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return Portal;\n}(React.Component);\n\nexport default Portal;\n\n\nPortal.propTypes = {\n  children: PropTypes.node.isRequired,\n  node: PropTypes.any\n};","import ReactDOM from 'react-dom';\n\nimport Portalv4 from './Portal';\nimport LegacyPortal from './LegacyPortal';\n\nvar Portal = void 0;\n\nif (ReactDOM.createPortal) {\n  Portal = Portalv4;\n} else {\n  Portal = LegacyPortal;\n}\n\nexport default Portal;","var _excluded = [\"children\"];\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, memo } from 'react';\nimport { createDragDropManager } from 'dnd-core';\nimport { DndContext } from './DndContext';\nvar refCount = 0;\nvar INSTANCE_SYM = Symbol.for('__REACT_DND_CONTEXT_INSTANCE__');\n/**\n * A React component that provides the React-DnD context\n */\n\nexport var DndProvider = memo(function DndProvider(_ref) {\n  var children = _ref.children,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _getDndContextValue = getDndContextValue(props),\n      _getDndContextValue2 = _slicedToArray(_getDndContextValue, 2),\n      manager = _getDndContextValue2[0],\n      isGlobalInstance = _getDndContextValue2[1]; // memoized from props\n\n  /**\n   * If the global context was used to store the DND context\n   * then where theres no more references to it we should\n   * clean it up to avoid memory leaks\n   */\n\n\n  useEffect(function () {\n    if (isGlobalInstance) {\n      var context = getGlobalContext();\n      ++refCount;\n      return function () {\n        if (--refCount === 0) {\n          context[INSTANCE_SYM] = null;\n        }\n      };\n    }\n  }, []);\n  return _jsx(DndContext.Provider, Object.assign({\n    value: manager\n  }, {\n    children: children\n  }), void 0);\n});\n\nfunction getDndContextValue(props) {\n  if ('manager' in props) {\n    var _manager = {\n      dragDropManager: props.manager\n    };\n    return [_manager, false];\n  }\n\n  var manager = createSingletonDndContext(props.backend, props.context, props.options, props.debugMode);\n  var isGlobalInstance = !props.context;\n  return [manager, isGlobalInstance];\n}\n\nfunction createSingletonDndContext(backend) {\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getGlobalContext();\n  var options = arguments.length > 2 ? arguments[2] : undefined;\n  var debugMode = arguments.length > 3 ? arguments[3] : undefined;\n  var ctx = context;\n\n  if (!ctx[INSTANCE_SYM]) {\n    ctx[INSTANCE_SYM] = {\n      dragDropManager: createDragDropManager(backend, context, options, debugMode)\n    };\n  }\n\n  return ctx[INSTANCE_SYM];\n}\n\nfunction getGlobalContext() {\n  return typeof global !== 'undefined' ? global : window;\n}","import { useContext } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../core';\n/**\n * A hook to retrieve the DragDropManager from Context\n */\n\nexport function useDragDropManager() {\n  var _useContext = useContext(DndContext),\n      dragDropManager = _useContext.dragDropManager;\n\n  invariant(dragDropManager != null, 'Expected drag drop context');\n  return dragDropManager;\n}","import { useLayoutEffect, useEffect } from 'react'; // suppress the useLayoutEffect warning on server side.\n\nexport var useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var DropTargetImpl = /*#__PURE__*/function () {\n  function DropTargetImpl(spec, monitor) {\n    _classCallCheck(this, DropTargetImpl);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n  }\n\n  _createClass(DropTargetImpl, [{\n    key: \"canDrop\",\n    value: function canDrop() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      return spec.canDrop ? spec.canDrop(monitor.getItem(), monitor) : true;\n    }\n  }, {\n    key: \"hover\",\n    value: function hover() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (spec.hover) {\n        spec.hover(monitor.getItem(), monitor);\n      }\n    }\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (spec.drop) {\n        return spec.drop(monitor.getItem(), monitor);\n      }\n    }\n  }]);\n\n  return DropTargetImpl;\n}();","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { registerTarget } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nimport { useAccept } from './useAccept';\nimport { useDropTarget } from './useDropTarget';\nexport function useRegisteredDropTarget(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var dropTarget = useDropTarget(spec, monitor);\n  var accept = useAccept(spec);\n  useIsomorphicLayoutEffect(function registerDropTarget() {\n    var _registerTarget = registerTarget(accept, dropTarget, manager),\n        _registerTarget2 = _slicedToArray(_registerTarget, 2),\n        handlerId = _registerTarget2[0],\n        unregister = _registerTarget2[1];\n\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, [manager, monitor, dropTarget, connector, accept.map(function (a) {\n    return a.toString();\n  }).join('|')]);\n}","import { useEffect, useMemo } from 'react';\nimport { DropTargetImpl } from './DropTargetImpl';\nexport function useDropTarget(spec, monitor) {\n  var dropTarget = useMemo(function () {\n    return new DropTargetImpl(spec, monitor);\n  }, [monitor]);\n  useEffect(function () {\n    dropTarget.spec = spec;\n  }, [spec]);\n  return dropTarget;\n}","import { invariant } from '@react-dnd/invariant';\nimport { useMemo } from 'react';\n/**\n * Internal utility hook to get an array-version of spec.accept.\n * The main utility here is that we aren't creating a new array on every render if a non-array spec.accept is passed in.\n * @param spec\n */\n\nexport function useAccept(spec) {\n  var accept = spec.accept;\n  return useMemo(function () {\n    invariant(spec.accept != null, 'accept must be defined');\n    return Array.isArray(accept) ? accept : [accept];\n  }, [accept]);\n}","export function registerTarget(type, target, manager) {\n  var registry = manager.getRegistry();\n  var targetId = registry.addTarget(type, target);\n  return [targetId, function () {\n    return registry.removeTarget(targetId);\n  }];\n}\nexport function registerSource(type, source, manager) {\n  var registry = manager.getRegistry();\n  var sourceId = registry.addSource(type, source);\n  return [sourceId, function () {\n    return registry.removeSource(sourceId);\n  }];\n}","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { useMemo } from 'react';\nexport function useOptionalFactory(arg, deps) {\n  var memoDeps = _toConsumableArray(deps || []);\n\n  if (deps == null && typeof arg !== 'function') {\n    memoDeps.push(arg);\n  }\n\n  return useMemo(function () {\n    return typeof arg === 'function' ? arg() : arg;\n  }, memoDeps);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrop = false;\nexport var DropTargetMonitorImpl = /*#__PURE__*/function () {\n  function DropTargetMonitorImpl(manager) {\n    _classCallCheck(this, DropTargetMonitorImpl);\n\n    _defineProperty(this, \"internalMonitor\", void 0);\n\n    _defineProperty(this, \"targetId\", null);\n\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DropTargetMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(targetId) {\n      this.targetId = targetId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.targetId;\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      // Cut out early if the target id has not been set. This should prevent errors\n      // where the user has an older version of dnd-core like in\n      // https://github.com/react-dnd/react-dnd/issues/1310\n      if (!this.targetId) {\n        return false;\n      }\n\n      invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');\n\n      try {\n        isCallingCanDrop = true;\n        return this.internalMonitor.canDropOnTarget(this.targetId);\n      } finally {\n        isCallingCanDrop = false;\n      }\n    }\n  }, {\n    key: \"isOver\",\n    value: function isOver(options) {\n      if (!this.targetId) {\n        return false;\n      }\n\n      return this.internalMonitor.isOverTarget(this.targetId, options);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DropTargetMonitorImpl;\n}();","import { invariant } from '@react-dnd/invariant';\nimport { cloneElement, isValidElement } from 'react';\n\nfunction throwIfCompositeComponentElement(element) {\n  // Custom components can no longer be wrapped directly in React DnD 2.0\n  // so that we don't need to depend on findDOMNode() from react-dom.\n  if (typeof element.type === 'string') {\n    return;\n  }\n\n  var displayName = element.type.displayName || element.type.name || 'the component';\n  throw new Error('Only native element nodes can now be passed to React DnD connectors.' + \"You can either wrap \".concat(displayName, \" into a <div>, or turn it into a \") + 'drag source or a drop target itself.');\n}\n\nfunction wrapHookToRecognizeElement(hook) {\n  return function () {\n    var elementOrNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    // When passed a node, call the hook straight away.\n    if (!isValidElement(elementOrNode)) {\n      var node = elementOrNode;\n      hook(node, options); // return the node so it can be chained (e.g. when within callback refs\n      // <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\n      return node;\n    } // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n\n\n    var element = elementOrNode;\n    throwIfCompositeComponentElement(element); // When no options are passed, use the hook directly\n\n    var ref = options ? function (node) {\n      return hook(node, options);\n    } : hook;\n    return cloneWithRef(element, ref);\n  };\n}\n\nexport function wrapConnectorHooks(hooks) {\n  var wrappedHooks = {};\n  Object.keys(hooks).forEach(function (key) {\n    var hook = hooks[key]; // ref objects should be passed straight through without wrapping\n\n    if (key.endsWith('Ref')) {\n      wrappedHooks[key] = hooks[key];\n    } else {\n      var wrappedHook = wrapHookToRecognizeElement(hook);\n\n      wrappedHooks[key] = function () {\n        return wrappedHook;\n      };\n    }\n  });\n  return wrappedHooks;\n}\n\nfunction setRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else {\n    ref.current = node;\n  }\n}\n\nfunction cloneWithRef(element, newRef) {\n  var previousRef = element.ref;\n  invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return cloneElement(element, {\n      ref: newRef\n    });\n  } else {\n    return cloneElement(element, {\n      ref: function ref(node) {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      }\n    });\n  }\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isRef(obj) {\n  return (// eslint-disable-next-line no-prototype-builtins\n    obj !== null && _typeof(obj) === 'object' && Object.prototype.hasOwnProperty.call(obj, 'current')\n  );\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from './isRef';\nexport var TargetConnector = /*#__PURE__*/function () {\n  // The drop target may either be attached via ref or connect function\n  function TargetConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, TargetConnector);\n\n    _defineProperty(this, \"hooks\", wrapConnectorHooks({\n      dropTarget: function dropTarget(node, options) {\n        _this.clearDropTarget();\n\n        _this.dropTargetOptions = options;\n\n        if (isRef(node)) {\n          _this.dropTargetRef = node;\n        } else {\n          _this.dropTargetNode = node;\n        }\n\n        _this.reconnect();\n      }\n    }));\n\n    _defineProperty(this, \"handlerId\", null);\n\n    _defineProperty(this, \"dropTargetRef\", null);\n\n    _defineProperty(this, \"dropTargetNode\", void 0);\n\n    _defineProperty(this, \"dropTargetOptionsInternal\", null);\n\n    _defineProperty(this, \"unsubscribeDropTarget\", void 0);\n\n    _defineProperty(this, \"lastConnectedHandlerId\", null);\n\n    _defineProperty(this, \"lastConnectedDropTarget\", null);\n\n    _defineProperty(this, \"lastConnectedDropTargetOptions\", null);\n\n    _defineProperty(this, \"backend\", void 0);\n\n    this.backend = backend;\n  }\n\n  _createClass(TargetConnector, [{\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dropTarget;\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      // if nothing has changed then don't resubscribe\n      var didChange = this.didHandlerIdChange() || this.didDropTargetChange() || this.didOptionsChange();\n\n      if (didChange) {\n        this.disconnectDropTarget();\n      }\n\n      var dropTarget = this.dropTarget;\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dropTarget) {\n        this.lastConnectedDropTarget = dropTarget;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDropTarget = dropTarget;\n        this.lastConnectedDropTargetOptions = this.dropTargetOptions;\n        this.unsubscribeDropTarget = this.backend.connectDropTarget(this.handlerId, dropTarget, this.dropTargetOptions);\n      }\n    }\n  }, {\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (newHandlerId === this.handlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"dropTargetOptions\",\n    get: function get() {\n      return this.dropTargetOptionsInternal;\n    },\n    set: function set(options) {\n      this.dropTargetOptionsInternal = options;\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didDropTargetChange\",\n    value: function didDropTargetChange() {\n      return this.lastConnectedDropTarget !== this.dropTarget;\n    }\n  }, {\n    key: \"didOptionsChange\",\n    value: function didOptionsChange() {\n      return !shallowEqual(this.lastConnectedDropTargetOptions, this.dropTargetOptions);\n    }\n  }, {\n    key: \"disconnectDropTarget\",\n    value: function disconnectDropTarget() {\n      if (this.unsubscribeDropTarget) {\n        this.unsubscribeDropTarget();\n        this.unsubscribeDropTarget = undefined;\n      }\n    }\n  }, {\n    key: \"dropTarget\",\n    get: function get() {\n      return this.dropTargetNode || this.dropTargetRef && this.dropTargetRef.current;\n    }\n  }, {\n    key: \"clearDropTarget\",\n    value: function clearDropTarget() {\n      this.dropTargetRef = null;\n      this.dropTargetNode = null;\n    }\n  }]);\n\n  return TargetConnector;\n}();","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport equal from 'fast-deep-equal';\nimport { useState, useCallback } from 'react';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\n/**\n *\n * @param monitor The monitor to collect state from\n * @param collect The collecting function\n * @param onUpdate A method to invoke when updates occur\n */\n\nexport function useCollector(monitor, collect, onUpdate) {\n  var _useState = useState(function () {\n    return collect(monitor);\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      collected = _useState2[0],\n      setCollected = _useState2[1];\n\n  var updateCollected = useCallback(function () {\n    var nextValue = collect(monitor); // This needs to be a deep-equality check because some monitor-collected values\n    // include XYCoord objects that may be equivalent, but do not have instance equality.\n\n    if (!equal(collected, nextValue)) {\n      setCollected(nextValue);\n\n      if (onUpdate) {\n        onUpdate();\n      }\n    }\n  }, [collected, monitor, onUpdate]); // update the collected properties after react renders.\n  // Note that the \"Dustbin Stress Test\" fails if this is not\n  // done when the component updates\n\n  useIsomorphicLayoutEffect(updateCollected);\n  return [collected, updateCollected];\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nimport { useCollector } from './useCollector';\nexport function useMonitorOutput(monitor, collect, onCollect) {\n  var _useCollector = useCollector(monitor, collect, onCollect),\n      _useCollector2 = _slicedToArray(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useIsomorphicLayoutEffect(function subscribeToMonitorStateChange() {\n    var handlerId = monitor.getHandlerId();\n\n    if (handlerId == null) {\n      return;\n    }\n\n    return monitor.subscribeToStateChange(updateCollected, {\n      handlerIds: [handlerId]\n    });\n  }, [monitor, updateCollected]);\n  return collected;\n}","import { useMonitorOutput } from './useMonitorOutput';\nexport function useCollectedProps(collector, monitor, connector) {\n  return useMonitorOutput(monitor, collector || function () {\n    return {};\n  }, function () {\n    return connector.reconnect();\n  });\n}","import { useMemo } from 'react';\nexport function useConnectDropTarget(connector) {\n  return useMemo(function () {\n    return connector.hooks.dropTarget();\n  }, [connector]);\n}","import { useRegisteredDropTarget } from './useRegisteredDropTarget';\nimport { useOptionalFactory } from '../useOptionalFactory';\nimport { useDropTargetMonitor } from './useDropTargetMonitor';\nimport { useDropTargetConnector } from './useDropTargetConnector';\nimport { useCollectedProps } from '../useCollectedProps';\nimport { useConnectDropTarget } from './connectors';\n/**\n * useDropTarget Hook\n * @param spec The drop target specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\n\nexport function useDrop(specArg, deps) {\n  var spec = useOptionalFactory(specArg, deps);\n  var monitor = useDropTargetMonitor();\n  var connector = useDropTargetConnector(spec.options);\n  useRegisteredDropTarget(spec, monitor, connector);\n  return [useCollectedProps(spec.collect, monitor, connector), useConnectDropTarget(connector)];\n}","import { useMemo } from 'react';\nimport { DropTargetMonitorImpl } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nexport function useDropTargetMonitor() {\n  var manager = useDragDropManager();\n  return useMemo(function () {\n    return new DropTargetMonitorImpl(manager);\n  }, [manager]);\n}","import { useMemo } from 'react';\nimport { TargetConnector } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nexport function useDropTargetConnector(options) {\n  var manager = useDragDropManager();\n  var connector = useMemo(function () {\n    return new TargetConnector(manager.getBackend());\n  }, [manager]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dropTargetOptions = options || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDropTarget();\n    };\n  }, [options]);\n  return connector;\n}","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isRow } from '../types';\n/**\n * map a node recursivly\n * @param node the node to map\n * @param mapper mapRow and mapCell callbck. Return the transformed row or cell\n * @param depth initialy 0\n */\nexport var mapNode = function (node, mapper, depth) {\n    var _a, _b, _c, _d;\n    if (depth === void 0) { depth = 0; }\n    if (isRow(node)) {\n        if ((_a = mapper.skipMapRow) === null || _a === void 0 ? void 0 : _a.call(mapper, node, depth))\n            return node;\n        var mappedNode = mapper.mapRow ? mapper.mapRow(node, depth) : node;\n        var mappedChildren = (_b = mappedNode === null || mappedNode === void 0 ? void 0 : mappedNode.cells) === null || _b === void 0 ? void 0 : _b.map(function (c) { return mapNode(c, mapper, depth + 1); });\n        var fullMapped = (mappedChildren === null || mappedChildren === void 0 ? void 0 : mappedChildren.length) > 0\n            ? __assign(__assign({}, mappedNode), { cells: mappedChildren }) : mappedNode;\n        return mapper.mapRowDown\n            ? mapper.mapRowDown(fullMapped, depth)\n            : fullMapped;\n    }\n    else {\n        if ((_c = mapper.skipMapCell) === null || _c === void 0 ? void 0 : _c.call(mapper, node, depth))\n            return node;\n        var mappedNode = mapper.mapCell ? mapper.mapCell(node, depth) : node;\n        var mappedChildren = (_d = mappedNode === null || mappedNode === void 0 ? void 0 : mappedNode.rows) === null || _d === void 0 ? void 0 : _d.map(function (c) { return mapNode(c, mapper, depth + 1); });\n        var fullMapped = (mappedChildren === null || mappedChildren === void 0 ? void 0 : mappedChildren.length) > 0\n            ? __assign(__assign({}, mappedNode), { rows: mappedChildren }) : mappedNode;\n        return mapper.mapCellDown\n            ? mapper.mapCellDown(fullMapped, depth)\n            : fullMapped;\n    }\n};\n//# sourceMappingURL=mapNode.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { mapNode } from './mapNode';\n/**\n * get a node with children that only contains certain cells\n * this is usefull to duplicate or clone multiple cells\n * @param editor: the editor store\n * @param cellIds\n */\nexport var getCommonAncestorTree = function (editor, cellIds) {\n    var nodesWithAncestors = cellIds.map(function (nodeId) {\n        var _a;\n        var _b = (_a = editor.getNodeWithAncestors(nodeId)) !== null && _a !== void 0 ? _a : {}, node = _b.node, ancestors = _b.ancestors;\n        return { node: node, ancestors: __spreadArray([], __read(ancestors), false).reverse() };\n    });\n    // find common ancestors\n    var nearestCommonAncestor;\n    var depth = 0;\n    var search = true;\n    while (search) {\n        // check if every node has the same ancestor\n        if (nodesWithAncestors.every(function (n) {\n            var _a, _b;\n            return n.ancestors[depth] &&\n                ((_a = n.ancestors[depth]) === null || _a === void 0 ? void 0 : _a.id) === ((_b = nodesWithAncestors[0].ancestors[depth]) === null || _b === void 0 ? void 0 : _b.id);\n        })) {\n            nearestCommonAncestor = nodesWithAncestors[0].ancestors[depth];\n            depth++;\n        }\n        else {\n            search = false;\n        }\n    }\n    // remove nodes that we don't want to duplicate unless they have children\n    var cleaned = mapNode(nearestCommonAncestor, {\n        skipMapCell: function (c) {\n            return cellIds.includes(c.id);\n        },\n        // remove cells without rows\n        mapCell: function (c) {\n            var _a;\n            if (((_a = c.rows) === null || _a === void 0 ? void 0 : _a.length) > 0) {\n                return c;\n            }\n            else {\n                return null;\n            }\n        },\n        // remove empty cells from rows and remove row completly if its empty\n        mapRowDown: function (r) {\n            var _a;\n            if (!r)\n                return null;\n            var row = __assign(__assign({}, r), { cells: (_a = r.cells.filter(Boolean)) !== null && _a !== void 0 ? _a : [] });\n            if (row.cells.length === 0) {\n                return null;\n            }\n            return row;\n        },\n        // remove empty rows of cells\n        mapCellDown: function (c) {\n            var _a, _b;\n            if (!c)\n                return null;\n            var cell = __assign(__assign({}, c), { rows: (_a = c.rows.filter(Boolean)) !== null && _a !== void 0 ? _a : [] });\n            if (((_b = cell.rows) === null || _b === void 0 ? void 0 : _b.length) > 0 || cellIds.includes(cell.id)) {\n                return cell;\n            }\n            else {\n                return null;\n            }\n        },\n    });\n    return cleaned;\n};\n//# sourceMappingURL=ancestorTree.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexport var CELL_UPDATE_IS_DRAFT = 'CELL_UPDATE_IS_DRAFT';\nexport var CELL_UPDATE_DATA = 'CELL_UPDATE_DATA';\nexport var CELL_REMOVE = 'CELL_REMOVE';\nexport var CELL_RESIZE = 'CELL_RESIZE';\nexport var CELL_FOCUS = 'CELL_FOCUS';\nexport var CELL_BLUR = 'CELL_BLUR';\nexport var CELL_BLUR_ALL = 'CELL_BLUR_ALL';\nexport var updateCellIsDraft = function (id, isDraft, lang) {\n    if (isDraft === void 0) { isDraft = false; }\n    if (lang === void 0) { lang = null; }\n    return ({\n        type: CELL_UPDATE_IS_DRAFT,\n        ts: new Date(),\n        id: id,\n        isDraft: isDraft,\n        lang: lang,\n    });\n};\nexport var updateCellData = function (id) {\n    return function (data, options) { return (__assign({ type: CELL_UPDATE_DATA, ts: new Date(), id: id, data: data }, options)); };\n};\nexport var removeCells = function (ids) { return ({\n    type: CELL_REMOVE,\n    ts: new Date(),\n    ids: ids,\n}); };\nexport var resizeCell = function (id) {\n    return function (size) {\n        if (size === void 0) { size = 1; }\n        return ({\n            type: CELL_RESIZE,\n            ts: new Date(),\n            id: id,\n            size: size,\n        });\n    };\n};\n/**\n * Dispatch to focus a cell.\n */\nexport var focusCell = function (id, scrollToCell, mode) {\n    if (scrollToCell === void 0) { scrollToCell = false; }\n    if (mode === void 0) { mode = 'replace'; }\n    return ({\n        type: CELL_FOCUS,\n        ts: new Date(),\n        id: id,\n        scrollToCell: scrollToCell,\n        mode: mode,\n    });\n};\n/**\n * Dispatch to blur a cell.\n */\nexport var blurCell = function (id) { return ({\n    type: CELL_BLUR,\n    ts: new Date(),\n    id: id,\n}); };\n/**\n * Dispatch to blur all cells. For example when clicking on document body.\n */\nexport var blurAllCells = function () { return ({\n    type: CELL_BLUR_ALL,\n    ts: new Date(),\n}); };\nexport var coreActions = {\n    blurAllCells: blurAllCells,\n    blurCell: blurCell,\n    focusCell: focusCell,\n    resizeCell: resizeCell,\n    removeCells: removeCells,\n    updateCellData: updateCellData,\n    updateCellIsDraft: updateCellIsDraft,\n};\n//# sourceMappingURL=core.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isRow } from '../types';\nimport { createId } from './createId';\nimport { mapNode } from './mapNode';\nexport var cloneWithNewIds = function (node) {\n    return mapNode(node, {\n        mapCell: function (n) { return (__assign(__assign({}, n), { \n            // clone data as well\n            dataI18n: (n === null || n === void 0 ? void 0 : n.dataI18n) ? JSON.parse(JSON.stringify(n.dataI18n)) : {}, id: createId() })); },\n        mapRow: function (n) { return (__assign(__assign({}, n), { id: createId() })); },\n    });\n};\nexport var cloneAsCell = function (node) {\n    var cell = isRow(node)\n        ? {\n            id: createId(),\n            rows: [node],\n        }\n        : node;\n    return cloneWithNewIds(cell);\n};\n//# sourceMappingURL=cloneWithNewIds.js.map","export var SET_DISPLAY_REFERENCE_NODE_ID = 'SET_DISPLAY_REFERENCE_NODE_ID';\nexport var SET_DISPLAY_MODE = 'SET_DISPLAY_MODE';\nexport var SET_PREVIOUS_DISPLAY_MODE = 'SET_PREVIOUS_DISPLAY_MODE';\nexport var DISPLAY_MODE_PREVIEW = 'preview';\nexport var DISPLAY_MODE_LAYOUT = 'layout';\nexport var DISPLAY_MODE_EDIT = 'edit';\nexport var DISPLAY_MODE_INSERT = 'insert';\nexport var DISPLAY_MODE_RESIZING = 'resizing';\nexport var DISPLAY_SET_ZOOM = 'DISPLAY_SET_ZOOM';\nexport var DEFAULT_DISPLAY_MODE = DISPLAY_MODE_EDIT;\nvar setDisplayMode = function (mode, referenceNodeId) {\n    return function () { return ({\n        type: SET_DISPLAY_MODE,\n        ts: new Date(),\n        mode: mode,\n        referenceNodeId: referenceNodeId,\n    }); };\n};\nexport var setDisplayReferenceNodeId = function (referenceNodeId) { return ({\n    type: SET_DISPLAY_REFERENCE_NODE_ID,\n    ts: new Date(),\n    referenceNodeId: referenceNodeId,\n}); };\n/**\n * Dispatch to switch to arbitrary mode.\n */\nexport var setMode = function (mode, referenceNodeId) { return ({\n    type: SET_DISPLAY_MODE,\n    ts: new Date(),\n    mode: mode,\n    referenceNodeId: referenceNodeId,\n}); };\n/**\n * Dispatch to switch to insert display mode.\n */\nexport var insertMode = setDisplayMode(DISPLAY_MODE_INSERT);\n/**\n * Dispatch to switch to edit display mode.\n */\nexport var editMode = setDisplayMode(DISPLAY_MODE_EDIT);\n/**\n * Dispatch to switch to preview display mode.\n */\nexport var previewMode = setDisplayMode(DISPLAY_MODE_PREVIEW);\n/**\n * Dispatch to switch to layout display mode.\n */\nexport var layoutMode = setDisplayMode(DISPLAY_MODE_LAYOUT);\n/**\n * Dispatch to switch to resize display mode.\n */\nexport var resizeMode = setDisplayMode(DISPLAY_MODE_RESIZING);\n/**\n * Dispatch Zoom the content\n */\nexport var setZoom = function (zoom) { return ({\n    type: DISPLAY_SET_ZOOM,\n    zoom: zoom,\n}); };\n//# sourceMappingURL=display.js.map","import { createId } from '../utils/createId';\nexport var generateIds = function () {\n    return {\n        cell: createId(),\n        item: createId(),\n        others: [createId(), createId(), createId()],\n    };\n};\n//# sourceMappingURL=helpers.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { cloneWithNewIds } from '../../../core/utils/cloneWithNewIds';\nimport { isRow } from '../../types';\nimport { createId } from '../../utils/createId';\nimport { getChildCellPlugins } from '../../utils/getAvailablePlugins';\nimport { getCellData } from '../../utils/getCellData';\nimport { removeUndefinedProps } from '../../utils/removeUndefinedProps';\nimport { editMode } from '../display';\nimport { generateIds } from '../helpers';\nimport { focusCell } from './core';\nexport var CELL_INSERT_ABOVE = 'CELL_INSERT_ABOVE';\nexport var CELL_INSERT_BELOW = 'CELL_INSERT_BELOW';\nexport var CELL_INSERT_LEFT_OF = 'CELL_INSERT_LEFT_OF';\nexport var CELL_INSERT_RIGHT_OF = 'CELL_INSERT_RIGHT_OF';\nexport var CELL_INSERT_INLINE_LEFT = 'CELL_INSERT_INLINE_LEFT';\nexport var CELL_INSERT_INLINE_RIGHT = 'CELL_INSERT_INLINE_RIGHT';\nexport var CELL_INSERT_AT_END = 'CELL_INSERT_AT_END';\nexport var CELL_INSERT_AS_NEW_ROW = 'CELL_INSERT_AS_NEW_ROW';\nexport var createRow = function (partialRow, options) {\n    var _a;\n    if (Array.isArray(partialRow)) {\n        return {\n            id: createId(),\n            cells: partialRow.map(function (c) { return createCell(c, options); }),\n        };\n    }\n    return removeUndefinedProps(__assign(__assign({ id: createId() }, partialRow), { cells: (_a = partialRow.cells) === null || _a === void 0 ? void 0 : _a.map(function (c) { return createCell(c, options); }) }));\n};\nexport var createCell = function (partialCell, options) {\n    var _a;\n    var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n    var cellPlugins = options.cellPlugins, lang = options.lang;\n    var pluginId = partialCell.plugin &&\n        (typeof partialCell.plugin == 'string'\n            ? partialCell.plugin\n            : partialCell.plugin.id);\n    var plugin = pluginId && cellPlugins.find(function (p) { return p.id === pluginId; });\n    var partialRows = ((_b = partialCell.rows) === null || _b === void 0 ? void 0 : _b.length) > 0\n        ? partialCell.rows\n        : (_d = (_c = plugin === null || plugin === void 0 ? void 0 : plugin.createInitialChildren) === null || _c === void 0 ? void 0 : _c.call(plugin)) !== null && _d !== void 0 ? _d : [];\n    var dataI18n = __assign((_a = {}, _a[lang] = (_j = (_g = (_e = partialCell === null || partialCell === void 0 ? void 0 : partialCell.data) !== null && _e !== void 0 ? _e : (_f = plugin === null || plugin === void 0 ? void 0 : plugin.createInitialData) === null || _f === void 0 ? void 0 : _f.call(plugin, partialCell)) !== null && _g !== void 0 ? _g : (_h = plugin === null || plugin === void 0 ? void 0 : plugin.createInitialState) === null || _h === void 0 ? void 0 : _h.call(plugin, partialCell)) !== null && _j !== void 0 ? _j : null, _a), ((_k = partialCell.dataI18n) !== null && _k !== void 0 ? _k : {}));\n    return removeUndefinedProps({\n        id: (_l = partialCell.id) !== null && _l !== void 0 ? _l : createId(),\n        isDraft: partialCell.isDraft,\n        isDraftI18n: partialCell.isDraftI18n,\n        inline: partialCell.inline,\n        size: partialCell.size || 12,\n        hasInlineNeighbour: partialCell.hasInlineNeighbour,\n        plugin: plugin\n            ? {\n                id: plugin.id,\n                version: plugin.version,\n            }\n            : undefined,\n        rows: partialRows === null || partialRows === void 0 ? void 0 : partialRows.map(function (r) {\n            return createRow(r, {\n                lang: lang,\n                cellPlugins: getChildCellPlugins(cellPlugins, {\n                    pluginId: pluginId,\n                    data: getCellData({\n                        dataI18n: dataI18n,\n                    }, lang),\n                }),\n            });\n        }),\n        dataI18n: dataI18n,\n    });\n};\nvar insert = function (type) {\n    return function (options) {\n        return function (partialCell, target, insertOptions, ids) {\n            if (ids === void 0) { ids = generateIds(); }\n            var cell = createCell(partialCell, options);\n            var isNew = !partialCell.id;\n            return insertFullCell(type)(cell, target, __assign(__assign({}, insertOptions), { focusAfter: (insertOptions === null || insertOptions === void 0 ? void 0 : insertOptions.focusAfter) || isNew }), ids);\n        };\n    };\n};\nvar insertFullCell = function (type) {\n    return function (cell, _a, insertOptions, ids) {\n        var _b, _c;\n        var hoverId = _a.id, inline = _a.inline, hasInlineNeighbour = _a.hasInlineNeighbour, ancestorIds = _a.ancestorIds;\n        if (ids === void 0) { ids = generateIds(); }\n        var level = (_b = insertOptions === null || insertOptions === void 0 ? void 0 : insertOptions.level) !== null && _b !== void 0 ? _b : 0;\n        var l = level;\n        switch (type) {\n            case CELL_INSERT_ABOVE:\n            case CELL_INSERT_BELOW: {\n                if ((inline || hasInlineNeighbour) && level < 1) {\n                    l = 1;\n                }\n                break;\n            }\n            case CELL_INSERT_LEFT_OF:\n            case CELL_INSERT_RIGHT_OF: {\n                if ((inline || hasInlineNeighbour) && level < 1) {\n                    l = 1;\n                }\n                break;\n            }\n            default:\n        }\n        var insertAction = {\n            type: type,\n            ts: new Date(),\n            item: cell,\n            hoverId: level === 0 ? hoverId : (_c = ancestorIds[Math.max(level - 1)]) !== null && _c !== void 0 ? _c : hoverId,\n            level: l,\n            // FIXME: item handling is a bit confusing,\n            // we now give some of them a name like \"cell\" or \"item\",\n            // but the purpose of the others is unclear\n            ids: ids,\n            notUndoable: insertOptions.notUndoable,\n        };\n        return function (dispatch) {\n            dispatch(insertAction);\n            if (insertOptions === null || insertOptions === void 0 ? void 0 : insertOptions.focusAfter) {\n                dispatch(editMode());\n                setTimeout(function () {\n                    var _a, _b, _c, _d, _e;\n                    dispatch(focusCell(\n                    // first condition is for pasted cells. I know its a bit weird\n                    (_e = (_d = (_c = (_b = (_a = cell.rows) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.cells) === null || _c === void 0 ? void 0 : _c[0]) === null || _d === void 0 ? void 0 : _d.id) !== null && _e !== void 0 ? _e : insertAction.ids.item, true));\n                }, 0);\n            }\n        };\n    };\n};\n/**\n * Insert a cell below of the hovering cell.\n */\nexport var insertCellBelow = insert(CELL_INSERT_BELOW);\n/**\n * Insert a cell above of the hovering cell.\n */\nexport var insertCellAbove = insert(CELL_INSERT_ABOVE);\n/**\n * Insert a cell right of the hovering cell.\n */\nexport var insertCellRightOf = insert(CELL_INSERT_RIGHT_OF);\n/**\n * Insert a cell left of the hovering cell.\n */\nexport var insertCellLeftOf = insert(CELL_INSERT_LEFT_OF);\n/**\n * Insert a cell inside the hovering cell, on the left.\n */\nexport var insertCellLeftInline = insert(CELL_INSERT_INLINE_LEFT);\n/**\n * Insert a cell inside the hovering cell, on the right.\n */\nexport var insertCellRightInline = insert(CELL_INSERT_INLINE_RIGHT);\nexport var insertCellAtTheEnd = insert(CELL_INSERT_AT_END);\nexport var insertCellNewAsNewRow = insert(CELL_INSERT_AS_NEW_ROW);\nexport var duplicateNode = function (node, options) {\n    var cell = isRow(node)\n        ? {\n            id: createId(),\n            rows: [node],\n        }\n        : node;\n    return duplicateCell(cell, options);\n};\nexport var duplicateCell = function (item, options) {\n    var _a, _b;\n    var cellWithNewIds = cloneWithNewIds(item);\n    var action = insertFullCell(CELL_INSERT_BELOW)(cellWithNewIds, {\n        ancestorIds: [],\n        id: (_a = options === null || options === void 0 ? void 0 : options.insertAfterNodeId) !== null && _a !== void 0 ? _a : item.id,\n        hasInlineNeighbour: item.hasInlineNeighbour,\n        inline: item.inline,\n        levels: null,\n        pluginId: (_b = item.plugin) === null || _b === void 0 ? void 0 : _b.id,\n    }, {\n        level: 0,\n        focusAfter: true,\n    });\n    return action;\n};\nexport var insertActions = {\n    insertCellRightInline: insertCellRightInline,\n    insertCellLeftInline: insertCellLeftInline,\n    insertCellLeftOf: insertCellLeftOf,\n    insertCellRightOf: insertCellRightOf,\n    insertCellAbove: insertCellAbove,\n    insertCellBelow: insertCellBelow,\n    duplicateCell: duplicateCell,\n    insertCellAtTheEnd: insertCellAtTheEnd,\n    insert: insert,\n};\n//# sourceMappingURL=insert.js.map","export var SET_LANG = 'SET_LANG';\nexport var setLang = function (lang) { return ({\n    type: SET_LANG,\n    lang: lang,\n}); };\n//# sourceMappingURL=setting.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { createDispatchHook, createSelectorHook, createStoreHook, Provider, } from 'react-redux';\nexport var ReduxContext = React.createContext(null);\nexport var ReduxProvider = function (_a) {\n    var store = _a.store, props = __rest(_a, [\"store\"]);\n    return (React.createElement(Provider, __assign({ store: store, context: ReduxContext }, props)));\n};\nexport var useStore = createStoreHook(ReduxContext);\nexport var useDispatch = createDispatchHook(ReduxContext\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n);\nexport var useSelector = createSelectorHook(ReduxContext);\n//# sourceMappingURL=reduxConnect.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { isRow } from '../../types/node';\n/** */\nvar findNode = function (nodes, nodeId, ancestors) {\n    var e_1, _a;\n    if (ancestors === void 0) { ancestors = []; }\n    try {\n        for (var nodes_1 = __values(nodes), nodes_1_1 = nodes_1.next(); !nodes_1_1.done; nodes_1_1 = nodes_1.next()) {\n            var node = nodes_1_1.value;\n            if (node.id === nodeId) {\n                return {\n                    node: node,\n                    ancestors: ancestors,\n                };\n            }\n            // else search children\n            if (isRow(node) && node.cells) {\n                var found = findNode(node.cells, nodeId, __spreadArray([node], __read(ancestors), false));\n                if (found) {\n                    return found;\n                }\n            }\n            else if (!isRow(node) && node.rows) {\n                var found = findNode(node.rows, nodeId, __spreadArray([node], __read(ancestors), false));\n                if (found) {\n                    return found;\n                }\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (nodes_1_1 && !nodes_1_1.done && (_a = nodes_1.return)) _a.call(nodes_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return null;\n};\n/*\nlet sum = 0;\nlet missum = 0;\nconst end = (start, hit) => {\n  const now = performance.now();\n  const diff = now - start;\n  sum += diff;\n  if (!hit) missum++;\n  console.log('time', hit ? '!' : '?', missum, diff, sum);\n};\n*/\nexport var findNodeInState = function (state, nodeId) {\n    var _a;\n    // const now = performance.now();\n    // POOR mans node cache\n    // it gets removed every reduce, so we don't have to clear it manually\n    if (!state.reactPage.__nodeCache) {\n        state.reactPage.__nodeCache = {};\n    }\n    if (state.reactPage.__nodeCache[nodeId]) {\n        //end(now, true);\n        return state.reactPage.__nodeCache[nodeId];\n    }\n    var result = findNode([\n        __assign(__assign({}, (_a = state.reactPage.values) === null || _a === void 0 ? void 0 : _a.present), { isRoot: true }),\n    ], nodeId);\n    state.reactPage.__nodeCache[nodeId] = result;\n    //end(now, false);\n    return result;\n};\nexport var currentValue = function (state) { var _a, _b; return (_b = (_a = state === null || state === void 0 ? void 0 : state.reactPage) === null || _a === void 0 ? void 0 : _a.values) === null || _b === void 0 ? void 0 : _b.present; };\nexport var selectNode = function (state, nodeId) {\n    var found = findNodeInState(state, nodeId);\n    return found;\n};\n//# sourceMappingURL=index.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { isRow } from '../types/node';\nvar getMyPositionInParent = function (node, parent) {\n    var _a;\n    var siblings = (_a = (isRow(parent) ? parent.cells : parent.rows)) !== null && _a !== void 0 ? _a : [];\n    var index = siblings.findIndex(function (c) { return c.id === node.id; });\n    return [index, siblings.length];\n};\nvar left = function (node, ancestors) {\n    var _a = __read(ancestors), parent = _a[0], greatParents = _a.slice(1);\n    if (!parent)\n        return 0;\n    if (isRow(node)) {\n        return left(parent, greatParents) + 1;\n    }\n    else {\n        var _b = __read(getMyPositionInParent(node, parent), 1), index = _b[0];\n        if (index === 0) {\n            return left(parent, greatParents) + 1;\n        }\n        else {\n            return 0;\n        }\n    }\n};\nvar right = function (node, ancestors) {\n    var _a = __read(ancestors), parent = _a[0], greatParents = _a.slice(1);\n    if (!parent)\n        return 0;\n    if (isRow(node)) {\n        return right(parent, greatParents) + 1;\n    }\n    else {\n        var _b = __read(getMyPositionInParent(node, parent), 2), index = _b[0], numberOfSiblings = _b[1];\n        if (index === numberOfSiblings - 1) {\n            return right(parent, greatParents) + 1;\n        }\n        else {\n            return 0;\n        }\n    }\n};\nvar above = function (node, ancestors) {\n    var _a = __read(ancestors), parent = _a[0], greatParents = _a.slice(1);\n    if (!parent)\n        return 0;\n    if (!isRow(node)) {\n        return above(parent, greatParents) + 1;\n    }\n    else {\n        var _b = __read(getMyPositionInParent(node, parent), 1), index = _b[0];\n        if (index === 0) {\n            return above(parent, greatParents) + 1;\n        }\n        else {\n            return 0;\n        }\n    }\n};\nvar below = function (node, ancestors) {\n    var _a = __read(ancestors), parent = _a[0], greatParents = _a.slice(1);\n    if (!parent)\n        return 0;\n    if (!isRow(node)) {\n        return below(parent, greatParents) + 1;\n    }\n    else {\n        var _b = __read(getMyPositionInParent(node, parent), 2), index = _b[0], numberOfSiblings = _b[1];\n        if (index === numberOfSiblings - 1) {\n            return below(parent, greatParents) + 1;\n        }\n        else {\n            return 0;\n        }\n    }\n};\nexport var getDropLevels = function (node, ancestors) { return ({\n    left: left(node, ancestors),\n    right: right(node, ancestors),\n    above: above(node, ancestors),\n    below: below(node, ancestors),\n}); };\n//# sourceMappingURL=getDropLevels.js.map","// cheap lodash replacements\nexport function memoize(fn) {\n  var result = null;\n\n  var memoized = function memoized() {\n    if (result == null) {\n      result = fn();\n    }\n\n    return result;\n  };\n\n  return memoized;\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\nexport function union(itemsA, itemsB) {\n  var set = new Set();\n\n  var insertItem = function insertItem(item) {\n    return set.add(item);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  set.forEach(function (key) {\n    return result.push(key);\n  });\n  return result;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { union, without } from './utils/js_utils';\nexport var EnterLeaveCounter = /*#__PURE__*/function () {\n  function EnterLeaveCounter(isNodeInDocument) {\n    _classCallCheck(this, EnterLeaveCounter);\n\n    _defineProperty(this, \"entered\", []);\n\n    _defineProperty(this, \"isNodeInDocument\", void 0);\n\n    this.isNodeInDocument = isNodeInDocument;\n  }\n\n  _createClass(EnterLeaveCounter, [{\n    key: \"enter\",\n    value: function enter(enteringNode) {\n      var _this = this;\n\n      var previousLength = this.entered.length;\n\n      var isNodeEntered = function isNodeEntered(node) {\n        return _this.isNodeInDocument(node) && (!node.contains || node.contains(enteringNode));\n      };\n\n      this.entered = union(this.entered.filter(isNodeEntered), [enteringNode]);\n      return previousLength === 0 && this.entered.length > 0;\n    }\n  }, {\n    key: \"leave\",\n    value: function leave(leavingNode) {\n      var previousLength = this.entered.length;\n      this.entered = without(this.entered.filter(this.isNodeInDocument), leavingNode);\n      return previousLength > 0 && this.entered.length === 0;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.entered = [];\n    }\n  }]);\n\n  return EnterLeaveCounter;\n}();","import { memoize } from './utils/js_utils';\nexport var isFirefox = memoize(function () {\n  return /firefox/i.test(navigator.userAgent);\n});\nexport var isSafari = memoize(function () {\n  return Boolean(window.safari);\n});","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var MonotonicInterpolant = /*#__PURE__*/function () {\n  function MonotonicInterpolant(xs, ys) {\n    _classCallCheck(this, MonotonicInterpolant);\n\n    _defineProperty(this, \"xs\", void 0);\n\n    _defineProperty(this, \"ys\", void 0);\n\n    _defineProperty(this, \"c1s\", void 0);\n\n    _defineProperty(this, \"c2s\", void 0);\n\n    _defineProperty(this, \"c3s\", void 0);\n\n    var length = xs.length; // Rearrange xs and ys so that xs is sorted\n\n    var indexes = [];\n\n    for (var i = 0; i < length; i++) {\n      indexes.push(i);\n    }\n\n    indexes.sort(function (a, b) {\n      return xs[a] < xs[b] ? -1 : 1;\n    }); // Get consecutive differences and slopes\n\n    var dys = [];\n    var dxs = [];\n    var ms = [];\n    var dx;\n    var dy;\n\n    for (var _i = 0; _i < length - 1; _i++) {\n      dx = xs[_i + 1] - xs[_i];\n      dy = ys[_i + 1] - ys[_i];\n      dxs.push(dx);\n      dys.push(dy);\n      ms.push(dy / dx);\n    } // Get degree-1 coefficients\n\n\n    var c1s = [ms[0]];\n\n    for (var _i2 = 0; _i2 < dxs.length - 1; _i2++) {\n      var m2 = ms[_i2];\n      var mNext = ms[_i2 + 1];\n\n      if (m2 * mNext <= 0) {\n        c1s.push(0);\n      } else {\n        dx = dxs[_i2];\n        var dxNext = dxs[_i2 + 1];\n        var common = dx + dxNext;\n        c1s.push(3 * common / ((common + dxNext) / m2 + (common + dx) / mNext));\n      }\n    }\n\n    c1s.push(ms[ms.length - 1]); // Get degree-2 and degree-3 coefficients\n\n    var c2s = [];\n    var c3s = [];\n    var m;\n\n    for (var _i3 = 0; _i3 < c1s.length - 1; _i3++) {\n      m = ms[_i3];\n      var c1 = c1s[_i3];\n      var invDx = 1 / dxs[_i3];\n\n      var _common = c1 + c1s[_i3 + 1] - m - m;\n\n      c2s.push((m - c1 - _common) * invDx);\n      c3s.push(_common * invDx * invDx);\n    }\n\n    this.xs = xs;\n    this.ys = ys;\n    this.c1s = c1s;\n    this.c2s = c2s;\n    this.c3s = c3s;\n  }\n\n  _createClass(MonotonicInterpolant, [{\n    key: \"interpolate\",\n    value: function interpolate(x) {\n      var xs = this.xs,\n          ys = this.ys,\n          c1s = this.c1s,\n          c2s = this.c2s,\n          c3s = this.c3s; // The rightmost point in the dataset should give an exact result\n\n      var i = xs.length - 1;\n\n      if (x === xs[i]) {\n        return ys[i];\n      } // Search for the interval x is in, returning the corresponding y if x is one of the original xs\n\n\n      var low = 0;\n      var high = c3s.length - 1;\n      var mid;\n\n      while (low <= high) {\n        mid = Math.floor(0.5 * (low + high));\n        var xHere = xs[mid];\n\n        if (xHere < x) {\n          low = mid + 1;\n        } else if (xHere > x) {\n          high = mid - 1;\n        } else {\n          return ys[mid];\n        }\n      }\n\n      i = Math.max(0, high); // Interpolate\n\n      var diff = x - xs[i];\n      var diffSq = diff * diff;\n      return ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq;\n    }\n  }]);\n\n  return MonotonicInterpolant;\n}();","import { isSafari, isFirefox } from './BrowserDetector';\nimport { MonotonicInterpolant } from './MonotonicInterpolant';\nvar ELEMENT_NODE = 1;\nexport function getNodeClientOffset(node) {\n  var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n\n  if (!el) {\n    return null;\n  }\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top,\n      left = _el$getBoundingClient.left;\n\n  return {\n    x: left,\n    y: top\n  };\n}\nexport function getEventClientOffset(e) {\n  return {\n    x: e.clientX,\n    y: e.clientY\n  };\n}\n\nfunction isImageNode(node) {\n  var _document$documentEle;\n\n  return node.nodeName === 'IMG' && (isFirefox() || !((_document$documentEle = document.documentElement) !== null && _document$documentEle !== void 0 && _document$documentEle.contains(node)));\n}\n\nfunction getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight) {\n  var dragPreviewWidth = isImage ? dragPreview.width : sourceWidth;\n  var dragPreviewHeight = isImage ? dragPreview.height : sourceHeight; // Work around @2x coordinate discrepancies in browsers\n\n  if (isSafari() && isImage) {\n    dragPreviewHeight /= window.devicePixelRatio;\n    dragPreviewWidth /= window.devicePixelRatio;\n  }\n\n  return {\n    dragPreviewWidth: dragPreviewWidth,\n    dragPreviewHeight: dragPreviewHeight\n  };\n}\n\nexport function getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint) {\n  // The browsers will use the image intrinsic size under different conditions.\n  // Firefox only cares if it's an image, but WebKit also wants it to be detached.\n  var isImage = isImageNode(dragPreview);\n  var dragPreviewNode = isImage ? sourceNode : dragPreview;\n  var dragPreviewNodeOffsetFromClient = getNodeClientOffset(dragPreviewNode);\n  var offsetFromDragPreview = {\n    x: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n    y: clientOffset.y - dragPreviewNodeOffsetFromClient.y\n  };\n  var sourceWidth = sourceNode.offsetWidth,\n      sourceHeight = sourceNode.offsetHeight;\n  var anchorX = anchorPoint.anchorX,\n      anchorY = anchorPoint.anchorY;\n\n  var _getDragPreviewSize = getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight),\n      dragPreviewWidth = _getDragPreviewSize.dragPreviewWidth,\n      dragPreviewHeight = _getDragPreviewSize.dragPreviewHeight;\n\n  var calculateYOffset = function calculateYOffset() {\n    var interpolantY = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the top\n    offsetFromDragPreview.y, // Align at the center\n    offsetFromDragPreview.y / sourceHeight * dragPreviewHeight, // Dock to the bottom\n    offsetFromDragPreview.y + dragPreviewHeight - sourceHeight]);\n    var y = interpolantY.interpolate(anchorY); // Work around Safari 8 positioning bug\n\n    if (isSafari() && isImage) {\n      // We'll have to wait for @3x to see if this is entirely correct\n      y += (window.devicePixelRatio - 1) * dragPreviewHeight;\n    }\n\n    return y;\n  };\n\n  var calculateXOffset = function calculateXOffset() {\n    // Interpolate coordinates depending on anchor point\n    // If you know a simpler way to do this, let me know\n    var interpolantX = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the left\n    offsetFromDragPreview.x, // Align at the center\n    offsetFromDragPreview.x / sourceWidth * dragPreviewWidth, // Dock to the right\n    offsetFromDragPreview.x + dragPreviewWidth - sourceWidth]);\n    return interpolantX.interpolate(anchorX);\n  }; // Force offsets if specified in the options.\n\n\n  var offsetX = offsetPoint.offsetX,\n      offsetY = offsetPoint.offsetY;\n  var isManualOffsetX = offsetX === 0 || offsetX;\n  var isManualOffsetY = offsetY === 0 || offsetY;\n  return {\n    x: isManualOffsetX ? offsetX : calculateXOffset(),\n    y: isManualOffsetY ? offsetY : calculateYOffset()\n  };\n}","export var FILE = '__NATIVE_FILE__';\nexport var URL = '__NATIVE_URL__';\nexport var TEXT = '__NATIVE_TEXT__';\nexport var HTML = '__NATIVE_HTML__';","var _nativeTypesConfig;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as NativeTypes from '../NativeTypes';\nimport { getDataFromDataTransfer } from './getDataFromDataTransfer';\nexport var nativeTypesConfig = (_nativeTypesConfig = {}, _defineProperty(_nativeTypesConfig, NativeTypes.FILE, {\n  exposeProperties: {\n    files: function files(dataTransfer) {\n      return Array.prototype.slice.call(dataTransfer.files);\n    },\n    items: function items(dataTransfer) {\n      return dataTransfer.items;\n    }\n  },\n  matchesTypes: ['Files']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.HTML, {\n  exposeProperties: {\n    html: function html(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    }\n  },\n  matchesTypes: ['Html', 'text/html']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.URL, {\n  exposeProperties: {\n    urls: function urls(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\\n');\n    }\n  },\n  matchesTypes: ['Url', 'text/uri-list']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.TEXT, {\n  exposeProperties: {\n    text: function text(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    }\n  },\n  matchesTypes: ['Text', 'text/plain']\n}), _nativeTypesConfig);","export function getDataFromDataTransfer(dataTransfer, typesToTry, defaultValue) {\n  var result = typesToTry.reduce(function (resultSoFar, typeToTry) {\n    return resultSoFar || dataTransfer.getData(typeToTry);\n  }, '');\n  return result != null ? result : defaultValue;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var NativeDragSource = /*#__PURE__*/function () {\n  function NativeDragSource(config) {\n    _classCallCheck(this, NativeDragSource);\n\n    _defineProperty(this, \"item\", void 0);\n\n    _defineProperty(this, \"config\", void 0);\n\n    this.config = config;\n    this.item = {};\n    this.initializeExposedProperties();\n  }\n\n  _createClass(NativeDragSource, [{\n    key: \"initializeExposedProperties\",\n    value: function initializeExposedProperties() {\n      var _this = this;\n\n      Object.keys(this.config.exposeProperties).forEach(function (property) {\n        Object.defineProperty(_this.item, property, {\n          configurable: true,\n          enumerable: true,\n          get: function get() {\n            // eslint-disable-next-line no-console\n            console.warn(\"Browser doesn't allow reading \\\"\".concat(property, \"\\\" until the drop event.\"));\n            return null;\n          }\n        });\n      });\n    }\n  }, {\n    key: \"loadDataTransfer\",\n    value: function loadDataTransfer(dataTransfer) {\n      var _this2 = this;\n\n      if (dataTransfer) {\n        var newProperties = {};\n        Object.keys(this.config.exposeProperties).forEach(function (property) {\n          newProperties[property] = {\n            value: _this2.config.exposeProperties[property](dataTransfer, _this2.config.matchesTypes),\n            configurable: true,\n            enumerable: true\n          };\n        });\n        Object.defineProperties(this.item, newProperties);\n      }\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      return true;\n    }\n  }, {\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      return this.item;\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(monitor, handle) {\n      return handle === monitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {// empty\n    }\n  }]);\n\n  return NativeDragSource;\n}();","import { nativeTypesConfig } from './nativeTypesConfig';\nimport { NativeDragSource } from './NativeDragSource';\nexport function createNativeDragSource(type, dataTransfer) {\n  var result = new NativeDragSource(nativeTypesConfig[type]);\n  result.loadDataTransfer(dataTransfer);\n  return result;\n}\nexport function matchNativeItemType(dataTransfer) {\n  if (!dataTransfer) {\n    return null;\n  }\n\n  var dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || []);\n  return Object.keys(nativeTypesConfig).filter(function (nativeItemType) {\n    var matchesTypes = nativeTypesConfig[nativeItemType].matchesTypes;\n    return matchesTypes.some(function (t) {\n      return dataTransferTypes.indexOf(t) > -1;\n    });\n  })[0] || null;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var OptionsReader = /*#__PURE__*/function () {\n  function OptionsReader(globalContext, options) {\n    _classCallCheck(this, OptionsReader);\n\n    _defineProperty(this, \"ownerDocument\", null);\n\n    _defineProperty(this, \"globalContext\", void 0);\n\n    _defineProperty(this, \"optionsArgs\", void 0);\n\n    this.globalContext = globalContext;\n    this.optionsArgs = options;\n  }\n\n  _createClass(OptionsReader, [{\n    key: \"window\",\n    get: function get() {\n      if (this.globalContext) {\n        return this.globalContext;\n      } else if (typeof window !== 'undefined') {\n        return window;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      var _this$globalContext;\n\n      if ((_this$globalContext = this.globalContext) !== null && _this$globalContext !== void 0 && _this$globalContext.document) {\n        return this.globalContext.document;\n      } else if (this.window) {\n        return this.window.document;\n      } else {\n        return undefined;\n      }\n    }\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      var _this$optionsArgs;\n\n      return ((_this$optionsArgs = this.optionsArgs) === null || _this$optionsArgs === void 0 ? void 0 : _this$optionsArgs.rootElement) || this.window;\n    }\n  }]);\n\n  return OptionsReader;\n}();","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { EnterLeaveCounter } from './EnterLeaveCounter';\nimport { getNodeClientOffset, getEventClientOffset, getDragPreviewOffset } from './OffsetUtils';\nimport { createNativeDragSource, matchNativeItemType } from './NativeDragSources';\nimport * as NativeTypes from './NativeTypes';\nimport { OptionsReader } from './OptionsReader';\nexport var HTML5BackendImpl = /*#__PURE__*/function () {\n  // React-Dnd Components\n  // Internal State\n  function HTML5BackendImpl(manager, globalContext, options) {\n    var _this = this;\n\n    _classCallCheck(this, HTML5BackendImpl);\n\n    _defineProperty(this, \"options\", void 0);\n\n    _defineProperty(this, \"actions\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"registry\", void 0);\n\n    _defineProperty(this, \"enterLeaveCounter\", void 0);\n\n    _defineProperty(this, \"sourcePreviewNodes\", new Map());\n\n    _defineProperty(this, \"sourcePreviewNodeOptions\", new Map());\n\n    _defineProperty(this, \"sourceNodes\", new Map());\n\n    _defineProperty(this, \"sourceNodeOptions\", new Map());\n\n    _defineProperty(this, \"dragStartSourceIds\", null);\n\n    _defineProperty(this, \"dropTargetIds\", []);\n\n    _defineProperty(this, \"dragEnterTargetIds\", []);\n\n    _defineProperty(this, \"currentNativeSource\", null);\n\n    _defineProperty(this, \"currentNativeHandle\", null);\n\n    _defineProperty(this, \"currentDragSourceNode\", null);\n\n    _defineProperty(this, \"altKeyPressed\", false);\n\n    _defineProperty(this, \"mouseMoveTimeoutTimer\", null);\n\n    _defineProperty(this, \"asyncEndDragFrameId\", null);\n\n    _defineProperty(this, \"dragOverTargetIds\", null);\n\n    _defineProperty(this, \"getSourceClientOffset\", function (sourceId) {\n      var source = _this.sourceNodes.get(sourceId);\n\n      return source && getNodeClientOffset(source) || null;\n    });\n\n    _defineProperty(this, \"endDragNativeItem\", function () {\n      if (!_this.isDraggingNativeItem()) {\n        return;\n      }\n\n      _this.actions.endDrag();\n\n      if (_this.currentNativeHandle) {\n        _this.registry.removeSource(_this.currentNativeHandle);\n      }\n\n      _this.currentNativeHandle = null;\n      _this.currentNativeSource = null;\n    });\n\n    _defineProperty(this, \"isNodeInDocument\", function (node) {\n      // Check the node either in the main document or in the current context\n      return Boolean(node && _this.document && _this.document.body && _this.document.body.contains(node));\n    });\n\n    _defineProperty(this, \"endDragIfSourceWasRemovedFromDOM\", function () {\n      var node = _this.currentDragSourceNode;\n\n      if (node == null || _this.isNodeInDocument(node)) {\n        return;\n      }\n\n      if (_this.clearCurrentDragSourceNode() && _this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragStartCapture\", function () {\n      _this.clearCurrentDragSourceNode();\n\n      _this.dragStartSourceIds = [];\n    });\n\n    _defineProperty(this, \"handleTopDragStart\", function (e) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      var dragStartSourceIds = _this.dragStartSourceIds;\n      _this.dragStartSourceIds = null;\n      var clientOffset = getEventClientOffset(e); // Avoid crashing if we missed a drop event or our previous drag died\n\n      if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      } // Don't publish the source just yet (see why below)\n\n\n      _this.actions.beginDrag(dragStartSourceIds || [], {\n        publishSource: false,\n        getSourceClientOffset: _this.getSourceClientOffset,\n        clientOffset: clientOffset\n      });\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (_this.monitor.isDragging()) {\n        if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n          // Use custom drag image if user specifies it.\n          // If child drag source refuses drag but parent agrees,\n          // use parent's node as drag image. Neither works in IE though.\n          var sourceId = _this.monitor.getSourceId();\n\n          var sourceNode = _this.sourceNodes.get(sourceId);\n\n          var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;\n\n          if (dragPreview) {\n            var _this$getCurrentSourc = _this.getCurrentSourcePreviewNodeOptions(),\n                anchorX = _this$getCurrentSourc.anchorX,\n                anchorY = _this$getCurrentSourc.anchorY,\n                offsetX = _this$getCurrentSourc.offsetX,\n                offsetY = _this$getCurrentSourc.offsetY;\n\n            var anchorPoint = {\n              anchorX: anchorX,\n              anchorY: anchorY\n            };\n            var offsetPoint = {\n              offsetX: offsetX,\n              offsetY: offsetY\n            };\n            var dragPreviewOffset = getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n            dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n          }\n        }\n\n        try {\n          // Firefox won't drag without setting data\n          dataTransfer === null || dataTransfer === void 0 ? void 0 : dataTransfer.setData('application/json', {});\n        } catch (err) {// IE doesn't support MIME types in setData\n        } // Store drag source node so we can check whether\n        // it is removed from DOM and trigger endDrag manually.\n\n\n        _this.setCurrentDragSourceNode(e.target); // Now we are ready to publish the drag source.. or are we not?\n\n\n        var _this$getCurrentSourc2 = _this.getCurrentSourcePreviewNodeOptions(),\n            captureDraggingState = _this$getCurrentSourc2.captureDraggingState;\n\n        if (!captureDraggingState) {\n          // Usually we want to publish it in the next tick so that browser\n          // is able to screenshot the current (not yet dragging) state.\n          //\n          // It also neatly avoids a situation where render() returns null\n          // in the same tick for the source element, and browser freaks out.\n          setTimeout(function () {\n            return _this.actions.publishDragSource();\n          }, 0);\n        } else {\n          // In some cases the user may want to override this behavior, e.g.\n          // to work around IE not supporting custom drag previews.\n          //\n          // When using a custom drag layer, the only way to prevent\n          // the default drag preview from drawing in IE is to screenshot\n          // the dragging state in which the node itself has zero opacity\n          // and height. In this case, though, returning null from render()\n          // will abruptly end the dragging, which is not obvious.\n          //\n          // This is the reason such behavior is strictly opt-in.\n          _this.actions.publishDragSource();\n        }\n      } else if (nativeType) {\n        // A native item (such as URL) dragged from inside the document\n        _this.beginDragNativeItem(nativeType);\n      } else if (dataTransfer && !dataTransfer.types && (e.target && !e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n        // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n        // Just let it drag. It's a native type (URL or text) and will be picked up in\n        // dragenter handler.\n        return;\n      } else {\n        // If by this time no drag source reacted, tell browser not to drag.\n        e.preventDefault();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEndCapture\", function () {\n      if (_this.clearCurrentDragSourceNode() && _this.monitor.isDragging()) {\n        // Firefox can dispatch this event in an infinite loop\n        // if dragend handler does something like showing an alert.\n        // Only proceed if we have not handled it already.\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEnterCapture\", function (e) {\n      _this.dragEnterTargetIds = [];\n\n      var isFirstEnter = _this.enterLeaveCounter.enter(e.target);\n\n      if (!isFirstEnter || _this.monitor.isDragging()) {\n        return;\n      }\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (nativeType) {\n        // A native item (such as file or URL) dragged from outside the document\n        _this.beginDragNativeItem(nativeType, dataTransfer);\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEnter\", function (e) {\n      var dragEnterTargetIds = _this.dragEnterTargetIds;\n      _this.dragEnterTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey; // If the target changes position as the result of `dragenter`, `dragover` might still\n      // get dispatched despite target being no longer there. The easy solution is to check\n      // whether there actually is a target before firing `hover`.\n\n      if (dragEnterTargetIds.length > 0) {\n        _this.actions.hover(dragEnterTargetIds, {\n          clientOffset: getEventClientOffset(e)\n        });\n      }\n\n      var canDrop = dragEnterTargetIds.some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // IE requires this to fire dragover events\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragOverCapture\", function () {\n      _this.dragOverTargetIds = [];\n    });\n\n    _defineProperty(this, \"handleTopDragOver\", function (e) {\n      var dragOverTargetIds = _this.dragOverTargetIds;\n      _this.dragOverTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        // Prevent default \"drop and blow away the whole document\" action.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n\n      _this.actions.hover(dragOverTargetIds || [], {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      var canDrop = (dragOverTargetIds || []).some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // Show user-specified drop effect.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      } else if (_this.isDraggingNativeItem()) {\n        // Don't show a nice cursor but still prevent default\n        // \"drop and blow away the whole document\" action.\n        e.preventDefault();\n      } else {\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragLeaveCapture\", function (e) {\n      if (_this.isDraggingNativeItem()) {\n        e.preventDefault();\n      }\n\n      var isLastLeave = _this.enterLeaveCounter.leave(e.target);\n\n      if (!isLastLeave) {\n        return;\n      }\n\n      if (_this.isDraggingNativeItem()) {\n        setTimeout(function () {\n          return _this.endDragNativeItem();\n        }, 0);\n      }\n    });\n\n    _defineProperty(this, \"handleTopDropCapture\", function (e) {\n      _this.dropTargetIds = [];\n\n      if (_this.isDraggingNativeItem()) {\n        var _this$currentNativeSo;\n\n        e.preventDefault();\n        (_this$currentNativeSo = _this.currentNativeSource) === null || _this$currentNativeSo === void 0 ? void 0 : _this$currentNativeSo.loadDataTransfer(e.dataTransfer);\n      } else if (matchNativeItemType(e.dataTransfer)) {\n        // Dragging some elements, like <a> and <img> may still behave like a native drag event,\n        // even if the current drag event matches a user-defined type.\n        // Stop the default behavior when we're not expecting a native item to be dropped.\n        e.preventDefault();\n      }\n\n      _this.enterLeaveCounter.reset();\n    });\n\n    _defineProperty(this, \"handleTopDrop\", function (e) {\n      var dropTargetIds = _this.dropTargetIds;\n      _this.dropTargetIds = [];\n\n      _this.actions.hover(dropTargetIds, {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      _this.actions.drop({\n        dropEffect: _this.getCurrentDropEffect()\n      });\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      } else if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleSelectStart\", function (e) {\n      var target = e.target; // Only IE requires us to explicitly say\n      // we want drag drop operation to start\n\n      if (typeof target.dragDrop !== 'function') {\n        return;\n      } // Inputs and textareas should be selectable\n\n\n      if (target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n        return;\n      } // For other targets, ask IE\n      // to enable drag and drop\n\n\n      e.preventDefault();\n      target.dragDrop();\n    });\n\n    this.options = new OptionsReader(globalContext, options);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.registry = manager.getRegistry();\n    this.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument);\n  }\n  /**\n   * Generate profiling statistics for the HTML5Backend.\n   */\n\n\n  _createClass(HTML5BackendImpl, [{\n    key: \"profile\",\n    value: function profile() {\n      var _this$dragStartSource, _this$dragOverTargetI;\n\n      return {\n        sourcePreviewNodes: this.sourcePreviewNodes.size,\n        sourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n        sourceNodeOptions: this.sourceNodeOptions.size,\n        sourceNodes: this.sourceNodes.size,\n        dragStartSourceIds: ((_this$dragStartSource = this.dragStartSourceIds) === null || _this$dragStartSource === void 0 ? void 0 : _this$dragStartSource.length) || 0,\n        dropTargetIds: this.dropTargetIds.length,\n        dragEnterTargetIds: this.dragEnterTargetIds.length,\n        dragOverTargetIds: ((_this$dragOverTargetI = this.dragOverTargetIds) === null || _this$dragOverTargetI === void 0 ? void 0 : _this$dragOverTargetI.length) || 0\n      };\n    } // public for test\n\n  }, {\n    key: \"window\",\n    get: function get() {\n      return this.options.window;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.options.document;\n    }\n    /**\n     * Get the root element to use for event subscriptions\n     */\n\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      return this.options.rootElement;\n    }\n  }, {\n    key: \"setup\",\n    value: function setup() {\n      var root = this.rootElement;\n\n      if (root === undefined) {\n        return;\n      }\n\n      if (root.__isReactDndBackendSetUp) {\n        throw new Error('Cannot have two HTML5 backends at the same time.');\n      }\n\n      root.__isReactDndBackendSetUp = true;\n      this.addEventListeners(root);\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      var root = this.rootElement;\n\n      if (root === undefined) {\n        return;\n      }\n\n      root.__isReactDndBackendSetUp = false;\n      this.removeEventListeners(this.rootElement);\n      this.clearCurrentDragSourceNode();\n\n      if (this.asyncEndDragFrameId) {\n        var _this$window;\n\n        (_this$window = this.window) === null || _this$window === void 0 ? void 0 : _this$window.cancelAnimationFrame(this.asyncEndDragFrameId);\n      }\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this2 = this;\n\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this2.sourcePreviewNodes.delete(sourceId);\n\n        _this2.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourceNodes.set(sourceId, node);\n      this.sourceNodeOptions.set(sourceId, options);\n\n      var handleDragStart = function handleDragStart(e) {\n        return _this3.handleDragStart(e, sourceId);\n      };\n\n      var handleSelectStart = function handleSelectStart(e) {\n        return _this3.handleSelectStart(e);\n      };\n\n      node.setAttribute('draggable', 'true');\n      node.addEventListener('dragstart', handleDragStart);\n      node.addEventListener('selectstart', handleSelectStart);\n      return function () {\n        _this3.sourceNodes.delete(sourceId);\n\n        _this3.sourceNodeOptions.delete(sourceId);\n\n        node.removeEventListener('dragstart', handleDragStart);\n        node.removeEventListener('selectstart', handleSelectStart);\n        node.setAttribute('draggable', 'false');\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      var handleDragEnter = function handleDragEnter(e) {\n        return _this4.handleDragEnter(e, targetId);\n      };\n\n      var handleDragOver = function handleDragOver(e) {\n        return _this4.handleDragOver(e, targetId);\n      };\n\n      var handleDrop = function handleDrop(e) {\n        return _this4.handleDrop(e, targetId);\n      };\n\n      node.addEventListener('dragenter', handleDragEnter);\n      node.addEventListener('dragover', handleDragOver);\n      node.addEventListener('drop', handleDrop);\n      return function () {\n        node.removeEventListener('dragenter', handleDragEnter);\n        node.removeEventListener('dragover', handleDragOver);\n        node.removeEventListener('drop', handleDrop);\n      };\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.addEventListener) {\n        return;\n      }\n\n      target.addEventListener('dragstart', this.handleTopDragStart);\n      target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.addEventListener('dragenter', this.handleTopDragEnter);\n      target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.addEventListener('dragover', this.handleTopDragOver);\n      target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.addEventListener('drop', this.handleTopDrop);\n      target.addEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.removeEventListener) {\n        return;\n      }\n\n      target.removeEventListener('dragstart', this.handleTopDragStart);\n      target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.removeEventListener('dragenter', this.handleTopDragEnter);\n      target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.removeEventListener('dragover', this.handleTopDragOver);\n      target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.removeEventListener('drop', this.handleTopDrop);\n      target.removeEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"getCurrentSourceNodeOptions\",\n    value: function getCurrentSourceNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);\n      return _objectSpread({\n        dropEffect: this.altKeyPressed ? 'copy' : 'move'\n      }, sourceNodeOptions || {});\n    }\n  }, {\n    key: \"getCurrentDropEffect\",\n    value: function getCurrentDropEffect() {\n      if (this.isDraggingNativeItem()) {\n        // It makes more sense to default to 'copy' for native resources\n        return 'copy';\n      }\n\n      return this.getCurrentSourceNodeOptions().dropEffect;\n    }\n  }, {\n    key: \"getCurrentSourcePreviewNodeOptions\",\n    value: function getCurrentSourcePreviewNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);\n      return _objectSpread({\n        anchorX: 0.5,\n        anchorY: 0.5,\n        captureDraggingState: false\n      }, sourcePreviewNodeOptions || {});\n    }\n  }, {\n    key: \"isDraggingNativeItem\",\n    value: function isDraggingNativeItem() {\n      var itemType = this.monitor.getItemType();\n      return Object.keys(NativeTypes).some(function (key) {\n        return NativeTypes[key] === itemType;\n      });\n    }\n  }, {\n    key: \"beginDragNativeItem\",\n    value: function beginDragNativeItem(type, dataTransfer) {\n      this.clearCurrentDragSourceNode();\n      this.currentNativeSource = createNativeDragSource(type, dataTransfer);\n      this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n      this.actions.beginDrag([this.currentNativeHandle]);\n    }\n  }, {\n    key: \"setCurrentDragSourceNode\",\n    value: function setCurrentDragSourceNode(node) {\n      var _this5 = this;\n\n      this.clearCurrentDragSourceNode();\n      this.currentDragSourceNode = node; // A timeout of > 0 is necessary to resolve Firefox issue referenced\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n\n      var MOUSE_MOVE_TIMEOUT = 1000; // Receiving a mouse event in the middle of a dragging operation\n      // means it has ended and the drag source node disappeared from DOM,\n      // so the browser didn't dispatch the dragend event.\n      //\n      // We need to wait before we start listening for mousemove events.\n      // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n      // immediately in some browsers.\n      //\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n      //\n\n      this.mouseMoveTimeoutTimer = setTimeout(function () {\n        var _this5$rootElement;\n\n        return (_this5$rootElement = _this5.rootElement) === null || _this5$rootElement === void 0 ? void 0 : _this5$rootElement.addEventListener('mousemove', _this5.endDragIfSourceWasRemovedFromDOM, true);\n      }, MOUSE_MOVE_TIMEOUT);\n    }\n  }, {\n    key: \"clearCurrentDragSourceNode\",\n    value: function clearCurrentDragSourceNode() {\n      if (this.currentDragSourceNode) {\n        this.currentDragSourceNode = null;\n\n        if (this.rootElement) {\n          var _this$window2;\n\n          (_this$window2 = this.window) === null || _this$window2 === void 0 ? void 0 : _this$window2.clearTimeout(this.mouseMoveTimeoutTimer || undefined);\n          this.rootElement.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n        }\n\n        this.mouseMoveTimeoutTimer = null;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"handleDragStart\",\n    value: function handleDragStart(e, sourceId) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      if (!this.dragStartSourceIds) {\n        this.dragStartSourceIds = [];\n      }\n\n      this.dragStartSourceIds.unshift(sourceId);\n    }\n  }, {\n    key: \"handleDragEnter\",\n    value: function handleDragEnter(e, targetId) {\n      this.dragEnterTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDragOver\",\n    value: function handleDragOver(e, targetId) {\n      if (this.dragOverTargetIds === null) {\n        this.dragOverTargetIds = [];\n      }\n\n      this.dragOverTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(e, targetId) {\n      this.dropTargetIds.unshift(targetId);\n    }\n  }]);\n\n  return HTML5BackendImpl;\n}();","/**\n * A list of positions in the layout space.\n */\nexport var PositionEnum;\n(function (PositionEnum) {\n    PositionEnum[\"LEFT_OF\"] = \"left-of\";\n    PositionEnum[\"RIGHT_OF\"] = \"right-of\";\n    PositionEnum[\"ABOVE\"] = \"above\";\n    PositionEnum[\"BELOW\"] = \"below\";\n    PositionEnum[\"INLINE_LEFT\"] = \"inline-left\";\n    PositionEnum[\"INLINE_RIGHT\"] = \"inline-right\";\n})(PositionEnum || (PositionEnum = {}));\n/**\n * Is true if built in production mode.\n */\nexport var isProduction = process.env.NODE_ENV === 'production';\n//# sourceMappingURL=const.js.map","import { HTML5Backend } from 'react-dnd-html5-backend';\nimport { DISPLAY_MODE_EDIT } from './actions/display';\nexport var DEFAULT_OPTIONS = {\n    allowMoveInEditMode: true,\n    allowResizeInEditMode: true,\n    childConstraints: null,\n    components: {},\n    languages: null,\n    uiTranslator: null,\n    zoomEnabled: true,\n    zoomFactors: [1, 0.75, 0.5, 0.25],\n    dndBackend: HTML5Backend,\n    blurGateDefaultMode: DISPLAY_MODE_EDIT,\n    blurGateDisabled: false,\n    middleware: [],\n    store: null,\n    hideEditorSidebar: false,\n    showMoveButtonsInBottomToolbar: true,\n    showMoveButtonsInLayoutMode: true,\n};\nexport var DEFAULT_RENDER_OPTIONS = {\n    cellPlugins: [],\n    cellSpacing: null,\n};\n//# sourceMappingURL=defaultOptions.js.map","import { HTML5BackendImpl } from './HTML5BackendImpl';\nimport * as NativeTypes from './NativeTypes';\nexport { getEmptyImage } from './getEmptyImage';\nexport { NativeTypes };\nexport var HTML5Backend = function createBackend(manager, context, options) {\n  return new HTML5BackendImpl(manager, context, options);\n};","import { generateIds } from './helpers';\nexport var UPDATE_VALUE = 'UPDATE_VALUE';\nexport var updateValue = function (value) { return ({\n    type: UPDATE_VALUE,\n    ts: new Date(),\n    value: value,\n    ids: generateIds(),\n}); };\n//# sourceMappingURL=value.js.map","/* eslint-disable @typescript-eslint/ban-types */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { CELL_INSERT_ABOVE, CELL_INSERT_BELOW, CELL_INSERT_INLINE_LEFT, CELL_INSERT_INLINE_RIGHT, CELL_INSERT_LEFT_OF, CELL_INSERT_RIGHT_OF, CELL_REMOVE, CELL_RESIZE, CELL_UPDATE_DATA, CELL_UPDATE_IS_DRAFT, CELL_INSERT_AT_END, CELL_INSERT_AS_NEW_ROW, } from '../../actions/cell';\nimport { createId } from '../../utils/createId';\nimport { removeUndefinedProps } from '../../utils/removeUndefinedProps';\nimport { flatten, optimizeCell, optimizeCells, optimizeRow, optimizeRows, } from './helper/optimize';\nimport { resizeCells } from './helper/sizing';\nvar cell = function (s, a, depth) {\n    return optimizeCell((function (state, action) {\n        var _a, _b;\n        var _c, _d, _e;\n        var reduce = function () {\n            return removeUndefinedProps(__assign(__assign({}, state), { rows: rows(state.rows, action, depth + 1) }));\n        };\n        switch (action.type) {\n            case CELL_UPDATE_IS_DRAFT:\n                if (action.id === state.id) {\n                    var reduced = reduce();\n                    if (action.lang) {\n                        return __assign(__assign({}, reduced), { isDraftI18n: __assign(__assign({}, ((_c = reduced.isDraftI18n) !== null && _c !== void 0 ? _c : {})), (_a = {}, _a[action.lang] = action.isDraft, _a)) });\n                    }\n                    else {\n                        return __assign(__assign({}, reduced), { isDraft: action.isDraft });\n                    }\n                }\n                return reduce();\n            case CELL_UPDATE_DATA:\n                if (action.id === state.id) {\n                    // If this cell is being updated, set the data\n                    var reduced = reduce();\n                    // copy because we mutate afterwards with delete\n                    var newI18nData = __assign({}, ((_d = reduced.dataI18n) !== null && _d !== void 0 ? _d : {}));\n                    var emptyValue = action.data === null;\n                    if (action.lang && emptyValue) {\n                        newI18nData === null || newI18nData === void 0 ? true : delete newI18nData[action.lang];\n                    }\n                    return __assign(__assign({}, reduced), { dataI18n: __assign(__assign({}, (newI18nData !== null && newI18nData !== void 0 ? newI18nData : {})), (!emptyValue\n                            ? (_b = {}, _b[action.lang] = action.data, _b) : {})) });\n                }\n                return reduce();\n            case CELL_INSERT_ABOVE:\n                if (action.hoverId === state.id) {\n                    return {\n                        id: action.ids.cell,\n                        rows: rows([\n                            {\n                                id: action.ids.others[0],\n                                cells: [\n                                    __assign(__assign({}, action.item), { id: action.ids.item, inline: null }),\n                                ],\n                            },\n                            {\n                                id: action.ids.others[1],\n                                cells: [__assign(__assign({}, reduce()), { id: action.ids.others[2] })],\n                            },\n                        ], __assign(__assign({}, action), { hoverId: null }), depth + 1),\n                    };\n                }\n                return reduce();\n            case CELL_INSERT_BELOW:\n                if (action.hoverId === state.id) {\n                    return {\n                        id: action.ids.cell,\n                        rows: rows([\n                            {\n                                id: action.ids.others[0],\n                                cells: [__assign(__assign({}, reduce()), { id: action.ids.others[1] })],\n                            },\n                            {\n                                id: action.ids.others[2],\n                                cells: [\n                                    __assign(__assign({}, action.item), { id: action.ids.item, inline: null }),\n                                ],\n                            },\n                        ], __assign(__assign({}, action), { hoverId: null }), depth + 1),\n                    };\n                }\n                return reduce();\n            case CELL_INSERT_AS_NEW_ROW: {\n                if (action.hoverId === state.id) {\n                    return __assign(__assign({}, state), { rows: __spreadArray(__spreadArray([], __read(((_e = state.rows) !== null && _e !== void 0 ? _e : [])), false), [\n                            {\n                                id: action.ids.others[1],\n                                cells: [\n                                    __assign(__assign({}, action.item), { id: action.ids.item, inline: null }),\n                                ],\n                            },\n                        ], false) });\n                }\n                return reduce();\n            }\n            default:\n                return reduce();\n        }\n    })(s, a));\n};\nvar createEmptyCell = function () { return ({\n    id: createId(),\n    rows: [\n        {\n            id: createId(),\n            cells: [],\n        },\n    ],\n}); };\nexport var cells = function (state, action, depth) {\n    if (state === void 0) { state = []; }\n    if (depth === void 0) { depth = 0; }\n    var newCells = depth === 0 && state.length === 0 ? [createEmptyCell()] : state;\n    switch (action.type) {\n        case CELL_RESIZE:\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            newCells = resizeCells(newCells, action);\n            break;\n        case CELL_INSERT_AT_END:\n        case CELL_INSERT_AS_NEW_ROW:\n        case CELL_INSERT_BELOW:\n        case CELL_INSERT_ABOVE:\n            newCells = newCells.filter(function (c) { return c.id !== action.item.id; }); // this removes the cell if it already exists\n            break;\n        case CELL_INSERT_LEFT_OF:\n            newCells = newCells\n                .filter(function (c) { return c.id !== action.item.id; }) // this removes the cell if it already exists\n                .map(function (c) {\n                return action.hoverId === c.id\n                    ? [\n                        __assign(__assign({}, action.item), { id: action.ids.item, inline: null }),\n                        __assign(__assign({}, c), { id: action.ids.others[0] }),\n                    ]\n                    : [c];\n            })\n                .reduce(flatten, []);\n            break;\n        case CELL_INSERT_RIGHT_OF:\n            newCells = newCells\n                .filter(function (c) { return c.id !== action.item.id; }) // this removes the cell if it already exists\n                .map(function (c) {\n                return action.hoverId === c.id\n                    ? [\n                        __assign(__assign({}, c), { id: action.ids.others[0] }),\n                        __assign(__assign({}, action.item), { id: action.ids.item, inline: null }),\n                    ]\n                    : [c];\n            })\n                .reduce(flatten, []);\n            break;\n        case CELL_INSERT_INLINE_RIGHT:\n        case CELL_INSERT_INLINE_LEFT:\n            newCells = newCells\n                .filter(function (c) { return c.id !== action.item.id; }) // this removes the cell if it already exists\n                .map(function (c) {\n                if (action.hoverId === c.id) {\n                    return [\n                        {\n                            id: action.ids.cell,\n                            rows: [\n                                {\n                                    id: action.ids.others[0],\n                                    cells: [\n                                        __assign(__assign({}, action.item), { inline: action.type === CELL_INSERT_INLINE_RIGHT\n                                                ? 'right'\n                                                : 'left', id: action.ids.item, size: 0 }),\n                                        __assign(__assign({}, c), { id: action.ids.others[1], inline: null, hasInlineNeighbour: action.ids.item, size: 0 }),\n                                    ],\n                                },\n                            ],\n                        },\n                    ];\n                }\n                return [c];\n            })\n                .reduce(flatten, []);\n            break;\n        case CELL_REMOVE:\n            newCells = newCells.filter(function (_a) {\n                var id = _a.id;\n                return !action.ids.includes(id);\n            });\n            break;\n    }\n    var reducedCells = newCells.map(function (c) { return cell(c, action, depth); });\n    return optimizeCells(reducedCells);\n};\nvar row = function (s, a, depth) {\n    return optimizeRow((function (state, action) {\n        var reduce = function () { return (__assign(__assign({}, state), { cells: cells(state.cells, action, depth + 1) })); };\n        switch (action.type) {\n            case CELL_INSERT_LEFT_OF:\n                if (action.hoverId !== state.id) {\n                    return reduce();\n                }\n                return __assign(__assign({}, state), { cells: cells(__spreadArray([\n                        __assign(__assign({}, action.item), { id: action.ids.item, inline: null })\n                    ], __read(state.cells), false), __assign(__assign({}, action), { hoverId: null }), depth + 1) });\n            case CELL_INSERT_RIGHT_OF:\n                if (action.hoverId !== state.id) {\n                    return reduce();\n                }\n                return __assign(__assign({}, state), { cells: cells(__spreadArray(__spreadArray([], __read(state.cells), false), [\n                        __assign(__assign({}, action.item), { id: action.ids.item, inline: null }),\n                    ], false), __assign(__assign({}, action), { hoverId: null }), depth + 1) });\n            /*case CELL_DRAG_HOVER:\n              if (action.hoverId === state.id) {\n                return { ...reduce(), hoverPosition: action.position };\n              }\n              return reduce();\n              */\n            default:\n                return reduce();\n        }\n    })(s, a));\n};\nexport var rows = function (s, a, depth) {\n    if (s === void 0) { s = []; }\n    if (depth === void 0) { depth = 0; }\n    return optimizeRows(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (function (state, action) {\n        var reduce = function () { return state.map(function (r) { return row(r, action, depth); }); };\n        switch (action.type) {\n            case CELL_INSERT_ABOVE:\n                return state\n                    .map(function (r) {\n                    return action.hoverId === r.id\n                        ? [\n                            {\n                                cells: [\n                                    __assign(__assign({}, action.item), { id: action.ids.item, inline: null }),\n                                ],\n                                id: action.ids.others[0],\n                            },\n                            __assign(__assign({}, r), { id: action.ids.others[1] }),\n                        ]\n                        : [r];\n                })\n                    .reduce(flatten, [])\n                    .map(function (r) { return row(r, action, depth); });\n            case CELL_INSERT_BELOW:\n                return state\n                    .map(function (r) {\n                    return action.hoverId === r.id\n                        ? [\n                            __assign(__assign({}, r), { id: action.ids.others[0] }),\n                            {\n                                cells: [\n                                    __assign(__assign({}, action.item), { id: action.ids.item, inline: null }),\n                                ],\n                                id: action.ids.others[1],\n                            },\n                        ]\n                        : [r];\n                })\n                    .reduce(flatten, [])\n                    .map(function (r) { return row(r, action, depth); });\n            case CELL_INSERT_AT_END: {\n                var newRows = depth !== 0\n                    ? state\n                    : __spreadArray(__spreadArray([], __read(state), false), [\n                        {\n                            cells: [\n                                __assign(__assign({}, action.item), { id: action.ids.item, inline: null }),\n                            ],\n                            id: action.ids.others[1],\n                        },\n                    ], false);\n                return newRows.map(function (r) { return row(r, action, depth); });\n            }\n            default:\n                return reduce();\n        }\n    })(s, a));\n};\n//# sourceMappingURL=tree.js.map","import undoable from 'redux-undo';\nimport { set } from 'redux-undo/lib/debug';\nimport { CELL_REMOVE, CELL_RESIZE, CELL_UPDATE_DATA, } from '../../actions/cell/core';\nimport { CELL_INSERT_ABOVE, CELL_INSERT_AS_NEW_ROW, CELL_INSERT_AT_END, CELL_INSERT_BELOW, CELL_INSERT_INLINE_LEFT, CELL_INSERT_INLINE_RIGHT, CELL_INSERT_LEFT_OF, CELL_INSERT_RIGHT_OF, } from '../../actions/cell/insert';\nimport { UPDATE_VALUE } from '../../actions/value';\nimport { isProduction } from '../../const';\nimport { value } from '../value';\nif (!isProduction) {\n    set(true);\n}\nexport var values = undoable(value, {\n    filter: function filterState(action, currentState, previousHistory) {\n        var _a;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if ((_a = action) === null || _a === void 0 ? void 0 : _a.notUndoable) {\n            return false;\n        }\n        var undoable = [\n            UPDATE_VALUE,\n            CELL_UPDATE_DATA,\n            CELL_REMOVE,\n            CELL_RESIZE,\n            CELL_INSERT_ABOVE,\n            CELL_INSERT_BELOW,\n            CELL_INSERT_LEFT_OF,\n            CELL_INSERT_RIGHT_OF,\n            CELL_INSERT_INLINE_LEFT,\n            CELL_INSERT_INLINE_RIGHT,\n            CELL_INSERT_AT_END,\n            CELL_INSERT_AS_NEW_ROW,\n        ].indexOf(action.type) >= 0;\n        return undoable;\n    },\n    neverSkipReducer: true,\n    syncFilter: true,\n});\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { setAllSizesAndOptimize } from './helper/setAllSizesAndOptimize';\nimport { rows } from './tree';\nexport var value = function (state, action) {\n    switch (action.type) {\n        case 'UPDATE_VALUE': {\n            return action.value;\n        }\n    }\n    var newRows = (state === null || state === void 0 ? void 0 : state.rows)\n        ? setAllSizesAndOptimize(rows(state.rows, action, 0))\n        : [];\n    return __assign(__assign({}, state), { rows: newRows });\n};\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { CELL_FOCUS, CELL_BLUR, CELL_BLUR_ALL } from '../../actions/cell';\nvar stateWithout = function (state, idsToRemove) {\n    var _a, _b;\n    var nodeIds = (_b = (_a = state === null || state === void 0 ? void 0 : state.nodeIds) === null || _a === void 0 ? void 0 : _a.filter(function (n) { return !idsToRemove.includes(n); })) !== null && _b !== void 0 ? _b : [];\n    if (nodeIds.length === 0) {\n        return null;\n    }\n    return __assign(__assign({}, state), { nodeIds: nodeIds });\n};\nexport var focus = function (state, action) {\n    var _a, _b;\n    if (state === void 0) { state = null; }\n    switch (action.type) {\n        case 'CELL_REMOVE': {\n            return stateWithout(state, action.ids);\n        }\n        case CELL_FOCUS: {\n            var nodeIds = action.mode === 'add'\n                ? ((_a = state === null || state === void 0 ? void 0 : state.nodeIds) === null || _a === void 0 ? void 0 : _a.includes(action.id))\n                    ? stateWithout(state, [action.id]).nodeIds\n                    : __spreadArray(__spreadArray([], __read(((_b = state === null || state === void 0 ? void 0 : state.nodeIds) !== null && _b !== void 0 ? _b : [])), false), [action.id], false)\n                : [action.id];\n            return {\n                nodeIds: nodeIds,\n                scrollToCell: action.scrollToCell ? new Date().getTime() : null,\n            };\n        }\n        case CELL_BLUR_ALL:\n            return null;\n        case CELL_BLUR: {\n            return stateWithout(state, [action.id]);\n        }\n        default:\n            return state;\n    }\n};\n//# sourceMappingURL=index.js.map","/**\n * @module src/editor/actions/cell/drag\n */\nimport { PositionEnum } from '../../const';\nexport var CELL_DRAG_HOVER = 'CELL_DRAG_HOVER';\nexport var CELL_DRAG = 'CELL_DRAG';\nexport var CELL_DRAG_CANCEL = 'CELL_DRAG_CANCEL';\nexport var CLEAR_CLEAR_HOVER = 'CLEAR_CLEAR_HOVER';\n/**\n * Creates a redux action for when a cell hovers another item.\n *\n * @example\n * // const store = redux.createStore()\n * store.dispatch(cellHover(drag, hover, level, position))\n *\n * @param {PartialCell} drag The cell that is currently being dragged.\n * @param {Cell} hover The cell that is being hovered by the dragged cell.\n * @param {number} level Set the level if the dragged cells should hover over an ancestor of hover.\n * @param {string} position Can be left, right, above, below.\n * @return {Action}\n */\nexport var cellHover = function (drag, hover, level, position) {\n    var _a;\n    if (level === void 0) { level = 0; }\n    var hoverId = level === 0\n        ? hover.id\n        : (_a = hover.ancestorIds[Math.max(0, level - 1)]) !== null && _a !== void 0 ? _a : hover.id;\n    return {\n        type: CELL_DRAG_HOVER,\n        ts: new Date(),\n        dragId: drag.id,\n        hoverId: hoverId,\n        level: level,\n        position: position,\n    };\n};\n/**\n * Creates a redux action for when a cell is hovering another cell on the left.\n *\n * @example\n * // const store = redux.createStore()\n * store.dispatch(cellHoverLeftOf(drag, hover, level))\n *\n * @param {PartialCell} drag The cell that is currently being dragged.\n * @param {Cell} hover The cell that is being hovered by the dragged cell.\n * @param {number} level Set the level if the dragged cells should hover over an ancestor of hover.\n * @return {Action}\n */\nexport var cellHoverLeftOf = function (drag, hover, level) { return cellHover(drag, hover, level, PositionEnum.LEFT_OF); };\n/**\n * Creates a redux action for when a cell is hovering another cell on the right.\n *\n * @example\n * // const store = redux.createStore()\n * store.dispatch(cellHoverRightOf(drag, hover, level))\n *\n * @param {PartialCell} drag The cell that is currently being dragged.\n * @param {Cell} hover The cell that is being hovered by the dragged cell.\n * @param {number} level Set the level if the dragged cells should hover over an ancestor of hover.\n * @return {Action}\n */\nexport var cellHoverRightOf = function (drag, hover, level) { return cellHover(drag, hover, level, PositionEnum.RIGHT_OF); };\n/**\n * Creates a redux action for when a cell is hovering another cell above.\n *\n * @example\n * // const store = redux.createStore()\n * store.dispatch(cellHoverAbove(drag, hover, level))\n *\n * @param {PartialCell} drag The cell that is currently being dragged.\n * @param {Cell} hover The cell that is being hovered by the dragged cell.\n * @param {number} level Set the level if the dragged cells should hover over an ancestor of hover.\n * @return {Action}\n */\nexport var cellHoverAbove = function (drag, hover, level) { return cellHover(drag, hover, level, PositionEnum.ABOVE); };\n/**\n * Creates a redux action for when a cell is hovering another cell below.\n *\n * @example\n * // const store = redux.createStore()\n * store.dispatch(cellHoverBelow(drag, hover, level))\n *\n * @param {PartialCell} drag The cell that is currently being dragged.\n * @param {Cell} hover The cell that is being hovered by the dragged cell.\n * @param {number} level Set the level if the dragged cells should hover over an ancestor of hover.\n * @return {Action}\n */\nexport var cellHoverBelow = function (drag, hover, level) { return cellHover(drag, hover, level, PositionEnum.BELOW); };\n/**\n * Creates a redux action for when a cell is hovering another cell on the left, but inline (css floating).\n *\n * @example\n * // const store = redux.createStore()\n * store.dispatch(cellHoverInlineLeft(drag, hover))\n *\n * @param {PartialCell} drag The cell that is currently being dragged.\n * @param {Cell} hover The cell that is being hovered by the dragged cell.\n * @return {Action}\n */\nexport var cellHoverInlineLeft = function (drag, hover) {\n    return cellHover(drag, hover, 0, PositionEnum.INLINE_LEFT);\n};\n/**\n * Creates a redux action for when a cell is hovering another cell on the right, but inline (css floating).\n *\n * @example\n * // const store = redux.createStore()\n * store.dispatch(cellHoverInlineRight(drag, hover))\n *\n * @param {PartialCell} drag The cell that is currently being dragged.\n * @param {Cell} hover The cell that is being hovered by the dragged cell.\n * @return {Action}\n */\nexport var cellHoverInlineRight = function (drag, hover) {\n    return cellHover(drag, hover, 0, PositionEnum.INLINE_RIGHT);\n};\n/**\n * Creates a redux action for when a cell is being dragged.\n *\n * @example\n * // const store = redux.createStore()\n * // const cell = { id: '1', ... }\n * store.dispatch(dragCell(cell.id))\n *\n * @param {string} id The id of the cell that is being dragged.\n * @return {Action}\n */\nexport var dragCell = function (id) { return ({\n    type: CELL_DRAG,\n    ts: new Date(),\n    id: id,\n}); };\n/**\n * Creates a redux action to clear hover state of all cells.\n *\n * @return {Action}\n */\nexport var clearHover = function () { return ({\n    type: CLEAR_CLEAR_HOVER,\n    ts: new Date(),\n}); };\n/**\n * Creates a redux action for when cell dragging ends.\n *\n * @example\n * // const store = redux.createStore()\n * // const cell = { id: '1', ... }\n * store.dispatch(cancelCellDrag(cell.id))\n *\n * @param {string} id\n * @return {Action}\n */\nexport var cancelCellDrag = function () { return ({\n    type: CELL_DRAG_CANCEL,\n    ts: new Date(),\n}); };\nexport var dragActions = {\n    cancelCellDrag: cancelCellDrag,\n    clearHover: clearHover,\n    dragCell: dragCell,\n    cellHoverInlineRight: cellHoverInlineRight,\n    cellHoverInlineLeft: cellHoverInlineLeft,\n    cellHoverBelow: cellHoverBelow,\n    cellHoverAbove: cellHoverAbove,\n    cellHoverRightOf: cellHoverRightOf,\n    cellHoverLeftOf: cellHoverLeftOf,\n    cellHover: cellHover,\n};\n//# sourceMappingURL=drag.js.map","import { combineReducers } from 'redux';\nimport { values } from './values';\nimport { display } from './display';\nimport { focus } from './focus';\nimport { hover } from './hover';\nimport { settings } from './settings';\nvar reducer = combineReducers({\n    values: values,\n    display: display,\n    focus: focus,\n    settings: settings,\n    hover: hover,\n    __nodeCache: function () { return null; }, // always empty __nodeCache\n});\nexport { reducer };\nexport default combineReducers({ reactPage: reducer });\nexport function initialState(value, lang) {\n    return {\n        reactPage: {\n            __nodeCache: {},\n            hover: null,\n            focus: null,\n            display: {\n                mode: 'edit',\n                zoom: 1,\n            },\n            settings: {\n                lang: lang,\n            },\n            values: {\n                past: [],\n                present: value,\n                future: [],\n            },\n        },\n    };\n}\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { CELL_BLUR_ALL } from '../../actions/cell';\nimport { DEFAULT_DISPLAY_MODE, DISPLAY_SET_ZOOM, SET_DISPLAY_MODE, SET_DISPLAY_REFERENCE_NODE_ID, } from '../../actions/display';\nexport var display = function (state, action) {\n    if (state === void 0) { state = {\n        mode: DEFAULT_DISPLAY_MODE,\n        zoom: 1,\n    }; }\n    switch (action.type) {\n        case DISPLAY_SET_ZOOM: {\n            return __assign(__assign({}, state), { zoom: action.zoom });\n        }\n        case SET_DISPLAY_REFERENCE_NODE_ID:\n            return __assign(__assign({}, state), { referenceNodeId: action.referenceNodeId });\n        case CELL_BLUR_ALL: {\n            return __assign(__assign({}, state), { mode: state.mode, referenceNodeId: null });\n        }\n        case SET_DISPLAY_MODE:\n            return __assign(__assign({}, state), { mode: action.mode, referenceNodeId: action.referenceNodeId || state.referenceNodeId });\n        default:\n            return state;\n    }\n};\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { SET_LANG } from '../../actions/setting';\nexport var settings = function (state, action) {\n    if (state === void 0) { state = {\n        lang: null,\n    }; }\n    switch (action.type) {\n        case SET_LANG:\n            return __assign(__assign({}, state), { lang: action.lang });\n        default:\n            return state;\n    }\n};\n//# sourceMappingURL=index.js.map","import { CELL_DRAG_HOVER, CLEAR_CLEAR_HOVER, } from '../../actions/cell';\nexport var hover = function (state, action) {\n    if (state === void 0) { state = null; }\n    switch (action.type) {\n        case CELL_DRAG_HOVER: {\n            return {\n                nodeId: action.hoverId,\n                position: action.position,\n            };\n        }\n        case CLEAR_CLEAR_HOVER:\n            return null;\n        default:\n            return state;\n    }\n};\n//# sourceMappingURL=index.js.map","import createStore from './store';\nimport { setLang } from './actions/setting';\nimport { findNodeInState } from './selector/editable';\nimport { createContext } from 'react';\nimport { createId } from './utils/createId';\nexport var EditorContext = createContext(null);\nvar EditorStore = /** @class */ (function () {\n    function EditorStore(_a) {\n        var _this = this;\n        var _b = _a.middleware, middleware = _b === void 0 ? [] : _b, store = _a.store, initialState = _a.initialState;\n        this.getNodeWithAncestors = function (nodeId) {\n            return findNodeInState(_this.store.getState(), nodeId);\n        };\n        this.getNode = function (nodeId) {\n            var _a;\n            return (_a = findNodeInState(_this.store.getState(), nodeId)) === null || _a === void 0 ? void 0 : _a.node;\n        };\n        this.store = store || createStore(initialState, middleware);\n        this.middleware = middleware;\n    }\n    EditorStore.prototype.setLang = function (lang) {\n        this.store.dispatch(setLang(lang));\n    };\n    return EditorStore;\n}());\nexport var createEmptyState = function () {\n    return ({ id: createId(), rows: [] });\n};\nexport default EditorStore;\n//# sourceMappingURL=EditorStore.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducer';\nimport { isProduction } from './const';\n/**\n * Returns a new redux store.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport default (function (initialState, middleware) {\n    if (middleware === void 0) { middleware = []; }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var v = !isProduction &&\n        typeof window === 'object' &&\n        window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n        ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\n        : compose;\n    return createStore(rootReducer, initialState, v(applyMiddleware.apply(void 0, __spreadArray(__spreadArray([], __read(middleware), false), [thunk], false))));\n});\n//# sourceMappingURL=store.js.map","export var getLang = function (_a) {\n    var settings = _a.reactPage.settings;\n    return settings.lang;\n};\n//# sourceMappingURL=setting.js.map","import { createContext, useContext, useRef } from 'react';\nimport deepEquals from '../../utils/deepEquals';\nimport { DEFAULT_RENDER_OPTIONS } from '../../defaultOptions';\nexport var RenderOptionsContext = createContext(DEFAULT_RENDER_OPTIONS);\n/**\n * @returns the options object of the current Editor.\n *\n * this object is memoized, alltough its better to use `useOption` instead if you want to use a single option\n */\nexport var useRenderOptions = function () { return useContext(RenderOptionsContext); };\n/**\n * get a single (memoized) option value\n * @param key the option key\n * @returns the option value\n */\nexport var useRenderOption = function (key) {\n    var options = useRenderOptions();\n    var option = options[key];\n    var lastOption = useRef(option);\n    if (!deepEquals(lastOption.current, option)) {\n        lastOption.current = option;\n    }\n    return lastOption.current;\n};\n//# sourceMappingURL=renderOptions.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { createContext, useContext, useRef } from 'react';\nimport deepEquals from '../../utils/deepEquals';\nimport { DEFAULT_OPTIONS } from '../../defaultOptions';\nimport { EditorContext } from '../../EditorStore';\nimport { useSelector } from '../../reduxConnect';\nimport { getLang } from '../../selector/setting';\nimport { normalizeCellSpacing } from '../../utils/getCellSpacing';\nimport NoopProvider from '../Cell/NoopProvider';\nimport { RenderOptionsContext, useRenderOption, useRenderOptions, } from './renderOptions';\n/**\n * @returns the store object of the current editor. Contains the redux store.\n */\nexport var useEditorStore = function () { return useContext(EditorContext); };\nexport var OptionsContext = createContext(DEFAULT_OPTIONS);\n/**\n * @returns the options object of the current Editor.\n *\n * this object is memoized, alltough its better to use `useOption` instead if you want to use a single option\n */\nexport var useOptions = function () { return useContext(OptionsContext); };\n/**\n * get a single (memoized) option value\n * @param key the option key\n * @returns the option value\n */\nexport var useOption = function (key) {\n    var options = useOptions();\n    var option = options[key];\n    var lastOption = useRef(option);\n    if (!deepEquals(lastOption.current, option)) {\n        lastOption.current = option;\n    }\n    return lastOption.current;\n};\n/**\n * @returns the an object with a single `t` function for ui translations\n */\nexport var useUiTranslator = function () {\n    var uiTranslator = useOption('uiTranslator');\n    return {\n        t: function (key) {\n            var _a;\n            return (_a = uiTranslator === null || uiTranslator === void 0 ? void 0 : uiTranslator(key)) !== null && _a !== void 0 ? _a : key;\n        },\n    };\n};\n/**\n * @returns the current language\n */\nexport var useLang = function () {\n    return useSelector(getLang);\n};\n/**\n * @returns cell spacing for the current cell sub-tree\n */\nexport var useCellSpacing = function () {\n    return normalizeCellSpacing(useRenderOption('cellSpacing'));\n};\n/**\n * @returns a Provider/value tuple that can be used to override cell spacing for a subtree of cells\n */\nexport var useCellSpacingProvider = function (cellSpacing) {\n    var renderOptions = useRenderOptions();\n    var value = React.useMemo(function () { return (__assign(__assign({}, renderOptions), { cellSpacing: normalizeCellSpacing(cellSpacing) })); }, [renderOptions, JSON.stringify(cellSpacing)]);\n    if (typeof cellSpacing === 'undefined' || cellSpacing == null) {\n        return [NoopProvider, undefined];\n    }\n    else {\n        return [RenderOptionsContext.Provider, value];\n    }\n};\n//# sourceMappingURL=options.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport debounce from 'lodash.debounce';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { useSelector } from '../../reduxConnect';\nimport { findNodeInState } from '../../selector/editable';\nimport { isRow } from '../../types/node';\nimport deepEquals from '../../utils/deepEquals';\nimport { getAvailablePlugins } from '../../utils/getAvailablePlugins';\nimport { getCellData } from '../../utils/getCellData';\nimport { getCellInnerDivStylingProps } from '../../utils/getCellStylingProps';\nimport { getDropLevels } from '../../utils/getDropLevels';\nimport { useUpdateCellData } from './nodeActions';\nimport { useLang } from './options';\nimport { useRenderOption } from './renderOptions';\n/**\n * Use this function to get derived properties of a node. It prevents unnessesary rerenders when only the nessesary properties are returned by the selector\n *\n * you can also select props from the ancestors of the node. Be aware that the last ancestor is the root document id\n *\n * @param nodeId an id of a node (cell or row)\n * @param selector receives the node object or null (if no node with this id exists) and returns T\n * @returns the selection T\n */\nexport var useNodeProps = function (nodeId, selector) {\n    var node = useSelector(function (state) {\n        var result = findNodeInState(state, nodeId);\n        if (!result) {\n            return selector(null, []);\n        }\n        return selector(result.node, result.ancestors);\n    }, deepEquals);\n    return node;\n};\n/**\n *\n * @param nodeId id of a node\n * @param selector receives the ancestors array and returns T\n * @returns T\n */\nexport var useNodeAncestorProps = function (nodeId, selector) {\n    return useNodeProps(nodeId, function (__, ancestors) { return selector(ancestors); });\n};\n/**\n * This is the same as @see useNodeProps, but only for cells. selector will receive null if the given nodeId is not a cell\n * @param nodeId an id of a cell\n * @param selector receives the cell or null (if no cell with this id exists) object and returns T\n * @returns the selection T\n */\nexport var useCellProps = function (nodeId, selector) {\n    if (!nodeId) {\n        return null;\n    }\n    return useNodeProps(nodeId, function (node, ancestors) {\n        return node && !isRow(node) ? selector(node, ancestors) : selector(null, ancestors);\n    });\n};\n/**\n * better use useCellProps, unless you really need the full cell object\n * @param nodeId an id of a cell\n * @returns full Cell object\n */\nexport var useCell = function (nodeId) {\n    return useNodeProps(nodeId, function (node, ancestors) {\n        return !isRow(node) ? node : null;\n    });\n};\n/**\n * This is the same as @see useNodeProps, but only for rows.\n * @param nodeId an id of a row\n * @param selector receives the row or null (if no row with this id exists) object and returns T\n * @returns the selection T\n */\nexport var useRowProps = function (nodeId, selector) {\n    return useNodeProps(nodeId, function (node, ancestors) {\n        return isRow(node) ? selector(node, ancestors) : null;\n    });\n};\n/**\n *\n * @param nodeId id of a node\n * @returns the relative hover position over the given node, or null if this node is not hovered over\n */\nexport var useNodeHoverPosition = function (nodeId) {\n    return useSelector(function (state) {\n        var _a, _b;\n        return ((_a = state.reactPage.hover) === null || _a === void 0 ? void 0 : _a.nodeId) === nodeId\n            ? (_b = state.reactPage.hover) === null || _b === void 0 ? void 0 : _b.position\n            : null;\n    });\n};\n/**\n *\n * @param nodeId id of a node\n * @returns an array of ids that are ancestors of the given node\n */\nexport var useNodeAncestorIds = function (nodeId) {\n    return useNodeAncestorProps(nodeId, function (ancestors) {\n        return ancestors.map(function (a) { return a.id; });\n    });\n};\n/**\n *\n * @param nodeId the id of a row or cell\n * @returns the nearest ancestor cell of the cell or row that has a plugin\n */\nexport var useParentCellId = function (nodeId) {\n    return useNodeProps(nodeId, function (node, ancestors) {\n        var _a;\n        return node && ancestors\n            ? (_a = ancestors.find(function (node) { return !isRow(node) && node.plugin; })) === null || _a === void 0 ? void 0 : _a.id\n            : null;\n    });\n};\n/**\n * returns a cell as a HoverTarget that is suiteable to be passed to the drop-logic\n *\n * @param nodeId a nodeId\n * @returns a HoverTarget\n */\nexport var useNodeAsHoverTarget = function (nodeId) {\n    return useNodeProps(nodeId, function (node, ancestors) {\n        var _a;\n        return node\n            ? {\n                id: node.id,\n                // the last element is the root element, we can't currenly use that as hover target\n                ancestorIds: ancestors.slice(0, -1).map(function (a) { return a.id; }),\n                hasInlineNeighbour: !isRow(node) ? node.hasInlineNeighbour : null,\n                inline: !isRow(node) ? node.inline : null,\n                levels: getDropLevels(node, ancestors),\n                pluginId: !isRow(node) ? (_a = node.plugin) === null || _a === void 0 ? void 0 : _a.id : null,\n            }\n            : null;\n    });\n};\n/**\n *\n * @deprecated currently unused\n */\nexport var useCellBounds = function (nodeId) {\n    return useNodeProps(nodeId, function (node, ancestors) {\n        var _a;\n        var parent = isRow(ancestors[0]) ? ancestors[0] : null;\n        var myIndex = (_a = parent === null || parent === void 0 ? void 0 : parent.cells.findIndex(function (c) { return c.id === node.id; })) !== null && _a !== void 0 ? _a : -1;\n        var cell = !isRow(node) ? node : null;\n        if (!cell || myIndex < 0) {\n            return null;\n        }\n        if (cell.inline) {\n            return {\n                left: 0,\n                right: 0,\n            };\n        }\n        return {\n            left: myIndex > 0 ? parent.cells[myIndex - 1].size + cell.size - 1 : 0,\n            right: myIndex === parent.cells.length - 1\n                ? 0\n                : cell.size - 1 + parent.cells[myIndex + 1].size,\n        };\n    });\n};\n/**\n *\n * @param nodeId a node id\n * @returns an array of nodeIds that are direct children of the given node\n */\nexport var useNodeChildrenIds = function (nodeId) {\n    return useNodeProps(nodeId, function (node) {\n        var _a, _b, _c, _d;\n        return isRow(node)\n            ? (_b = (_a = node.cells) === null || _a === void 0 ? void 0 : _a.map(function (c) { return c.id; })) !== null && _b !== void 0 ? _b : []\n            : (_d = (_c = node.rows) === null || _c === void 0 ? void 0 : _c.map(function (r) { return r.id; })) !== null && _d !== void 0 ? _d : [];\n    });\n};\n/**\n *\n * @param nodeId a node id\n * @returns true if node has children\n */\nexport var useNodeHasChildren = function (nodeId) {\n    return useNodeProps(nodeId, function (node) {\n        var _a, _b, _c, _d;\n        return isRow(node)\n            ? (_b = ((_a = node.cells) === null || _a === void 0 ? void 0 : _a.length) > 0) !== null && _b !== void 0 ? _b : false\n            : (_d = ((_c = node.rows) === null || _c === void 0 ? void 0 : _c.length) > 0) !== null && _d !== void 0 ? _d : false;\n    });\n};\n/**\n *\n * @param nodeId an id of a cell\n * @returns true if this cell has a configured plugin. It does not check if this plugin exists (in @see Options)\n */\nexport var useCellHasPlugin = function (nodeId) {\n    return useCellProps(nodeId, function (c) { return Boolean(c.plugin); });\n};\n/**\n * @param parentNodeId the parent node id, or null if its the root\n * @returns all configured CellPlugin that are allowed in the given parentCellId\n */\nexport var useAllCellPluginsForNode = function (parentNodeId) {\n    var currentLang = useLang();\n    var ancestors = useNodeProps(parentNodeId, function (node, ancestors) {\n        return __spreadArray([node], __read(ancestors), false).reverse().map(function (a) {\n            var _a;\n            return {\n                pluginId: !a || isRow(a) ? null : (_a = a.plugin) === null || _a === void 0 ? void 0 : _a.id,\n                data: !a || isRow(a) ? null : getCellData(a, currentLang),\n            };\n        });\n    });\n    // pluginIdsOfAncestors is an array of ids, the last one is the\n    var rootCellPlugins = useRenderOption('cellPlugins');\n    return useMemo(function () {\n        return getAvailablePlugins(rootCellPlugins, ancestors);\n    }, [rootCellPlugins, ancestors]);\n};\nexport var useCellIsAllowedHere = function (nodeId) {\n    var availablePlugins = useAllCellPluginsForNode(nodeId);\n    return useCallback(function (item) {\n        var _a, _b, _c;\n        if (!(item === null || item === void 0 ? void 0 : item.cell)) {\n            return false;\n        }\n        var itemPluginId = typeof ((_a = item.cell) === null || _a === void 0 ? void 0 : _a.plugin) === 'string'\n            ? item.cell.plugin\n            : (_b = item.cell) === null || _b === void 0 ? void 0 : _b.plugin.id;\n        var allowed = !((_c = item.cell) === null || _c === void 0 ? void 0 : _c.plugin) ||\n            availablePlugins.some(function (p) { return p.id === itemPluginId; });\n        return allowed;\n    }, [availablePlugins]);\n};\n/**\n * Use this function to get the plugin of a cell.\n * @param nodeId an id of a cell\n * @returns the plugin of the given cell\n *\n */\nexport var usePluginOfCell = function (nodeId) {\n    var _a = useCellProps(nodeId, function (c, ancestors) {\n        var _a, _b;\n        return ({\n            pluginId: (_a = c === null || c === void 0 ? void 0 : c.plugin) === null || _a === void 0 ? void 0 : _a.id,\n            parentNodeId: (_b = ancestors === null || ancestors === void 0 ? void 0 : ancestors[0]) === null || _b === void 0 ? void 0 : _b.id,\n        });\n    }), pluginId = _a.pluginId, parentNodeId = _a.parentNodeId;\n    var plugins = useAllCellPluginsForNode(parentNodeId);\n    return plugins.find(function (p) { return p.id === pluginId; });\n};\n/**\n *\n * @param nodeId a cell id\n * @returns the raw localized data of the cell\n */\nexport var useCellDataI18nRaw = function (nodeId) {\n    return useCellProps(nodeId, function (c) { return c === null || c === void 0 ? void 0 : c.dataI18n; });\n};\n/**\n *\n * @param nodeId a cell id\n * @param lang a language key\n * @returns the data object in the given language of the given cell\n */\nexport var useCellData = function (nodeId, lang) {\n    var currentLang = useLang();\n    var theLang = lang !== null && lang !== void 0 ? lang : currentLang;\n    return useCellProps(nodeId, function (c) { var _a; return (_a = getCellData(c, theLang)) !== null && _a !== void 0 ? _a : {}; });\n};\n/**\n *returns style and classname of a cell's inner div\n * @param nodeId a cell id\n * @param lang a language key (optionally)\n * @returns the data object in the given language of the given cell\n */\nexport var useCellInnerDivStylingProps = function (nodeId, lang) {\n    var plugin = usePluginOfCell(nodeId);\n    var currentLang = useLang();\n    var theLang = lang !== null && lang !== void 0 ? lang : currentLang;\n    return useCellProps(nodeId, function (c) {\n        var data = getCellData(c, theLang);\n        return getCellInnerDivStylingProps(c, plugin, data);\n    });\n};\n/**\n *\n * @returns [data, onChangeData] pair, with setData debouncing the propagation\n * also data is always partially updated\n * @param nodeId the id of a cell\n */\nexport var useDebouncedCellData = function (nodeId) {\n    var cellData = useCellData(nodeId);\n    var _a = __read(useState(cellData), 2), setData = _a[1];\n    var dataRef = useRef(cellData);\n    var cellDataRef = useRef(cellData);\n    var updateCellData = useUpdateCellData(nodeId);\n    var updateCellDataDebounced = useCallback(debounce(function (options) {\n        cellDataRef.current = dataRef.current;\n        updateCellData(dataRef.current, options);\n    }, 200), [updateCellData]);\n    var changed = useMemo(function () { return !deepEquals(cellData, cellDataRef.current); }, [cellData]);\n    useEffect(function () {\n        // changed from \"outside\" overwrite whatever is pending\n        if (changed) {\n            cellDataRef.current = cellData;\n            dataRef.current = cellData;\n            setData(cellData);\n        }\n    }, [changed, cellData]);\n    var onChange = useCallback(function (partialData, options) {\n        dataRef.current = __assign(__assign({}, dataRef.current), partialData);\n        setData(dataRef.current);\n        updateCellDataDebounced(options);\n    }, [updateCellDataDebounced, setData]);\n    return [dataRef.current, onChange];\n};\n//# sourceMappingURL=node.js.map","import { DISPLAY_MODE_EDIT, DISPLAY_MODE_LAYOUT, DISPLAY_MODE_PREVIEW, DISPLAY_MODE_INSERT, DISPLAY_MODE_RESIZING, } from '../../actions/display';\nexport var isPreviewMode = function (_a) {\n    var mode = _a.reactPage.display.mode;\n    return mode === DISPLAY_MODE_PREVIEW;\n};\nexport var isLayoutMode = function (_a) {\n    var mode = _a.reactPage.display.mode;\n    return mode === DISPLAY_MODE_LAYOUT;\n};\nexport var isEditMode = function (_a) {\n    var mode = _a.reactPage.display.mode;\n    return mode === DISPLAY_MODE_EDIT;\n};\nexport var isInsertMode = function (_a) {\n    var mode = _a.reactPage.display.mode;\n    return mode === DISPLAY_MODE_INSERT;\n};\nexport var isResizeMode = function (_a) {\n    var mode = _a.reactPage.display.mode;\n    return mode === DISPLAY_MODE_RESIZING;\n};\n//# sourceMappingURL=index.js.map","import { useCallback } from 'react';\nimport { DISPLAY_MODE_EDIT, DISPLAY_MODE_INSERT, DISPLAY_MODE_LAYOUT, DISPLAY_MODE_PREVIEW, DISPLAY_MODE_RESIZING, setMode, } from '../../actions/display';\nimport { useDispatch, useSelector } from '../../reduxConnect';\nimport { isEditMode, isInsertMode, isLayoutMode, isPreviewMode, isResizeMode, } from '../../selector/display';\n/**\n * @returns true whether the editor is in edit mode\n */\nexport var useIsEditMode = function () {\n    return useSelector(isEditMode);\n};\n/**\n * @returns true whether the editor is in insert mode\n */\nexport var useIsInsertMode = function () {\n    return useSelector(isInsertMode);\n};\n/**\n * @returns true whether the editor is in layout mode\n */\nexport var useIsLayoutMode = function () {\n    return useSelector(isLayoutMode);\n};\n/**\n * @returns true whether the editor is in preview mode mode\n */\nexport var useIsPreviewMode = function () {\n    return useSelector(isPreviewMode);\n};\n/**\n * @returns true whether the editor is in resize mode mode\n */\nexport var useIsResizeMode = function () {\n    return useSelector(isResizeMode);\n};\n/**\n * @returns the current display mode\n */\nexport var useDisplayMode = function () {\n    return useSelector(function (state) { return state.reactPage.display.mode; });\n};\n/**\n * experimental, used internaly for the add new button.\n * @returns a referenced nodeId for the current display mode.\n *\n *\n */\nexport var useDisplayModeReferenceNodeId = function () {\n    return useSelector(function (state) { var _a, _b; return (_b = (_a = state.reactPage) === null || _a === void 0 ? void 0 : _a.display) === null || _b === void 0 ? void 0 : _b.referenceNodeId; });\n};\n/**\n * @returns function to set the display mode\n */\nexport var useSetMode = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (mode, referenceNodeId) {\n        dispatch(setMode(mode, referenceNodeId));\n    }, [dispatch]);\n};\n/**\n * @returns function to change to resize mode\n */\nexport var useSetResizeMode = function () {\n    var setMode = useSetMode();\n    return useCallback(function () { return setMode(DISPLAY_MODE_RESIZING); }, [setMode]);\n};\n/**\n * @returns function to change to edit mode mode\n */\nexport var useSetEditMode = function () {\n    var setMode = useSetMode();\n    return useCallback(function () { return setMode(DISPLAY_MODE_EDIT); }, [setMode]);\n};\n/**\n * @returns function to change to layout mode\n */\nexport var useSetLayoutMode = function () {\n    var setMode = useSetMode();\n    return useCallback(function () { return setMode(DISPLAY_MODE_LAYOUT); }, [setMode]);\n};\n/**\n * @returns function to change to insert mode\n */\nexport var useSetInsertMode = function () {\n    var setMode = useSetMode();\n    return useCallback(function () { return setMode(DISPLAY_MODE_INSERT); }, [setMode]);\n};\n/**\n * @returns function to change to preview mode\n */\nexport var useSetPreviewMode = function () {\n    var setMode = useSetMode();\n    return useCallback(function () { return setMode(DISPLAY_MODE_PREVIEW); }, [setMode]);\n};\n//# sourceMappingURL=displayMode.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useCallback } from 'react';\nimport { useDrop } from 'react-dnd';\nimport { getCommonAncestorTree } from '../../utils/ancestorTree';\nimport { blurAllCells } from '../../actions/cell';\nimport { blurCell, focusCell, removeCells, resizeCell, updateCellData, updateCellIsDraft, } from '../../actions/cell/core';\nimport { duplicateCell, duplicateNode, insertCellAtTheEnd, insertCellNewAsNewRow, } from '../../actions/cell/insert';\nimport { setDisplayReferenceNodeId } from '../../actions/display';\nimport { setLang } from '../../actions/setting';\nimport { useDispatch } from '../../reduxConnect';\nimport { isRow } from '../../types/node';\nimport { useAllCellPluginsForNode } from './node';\nimport { useEditorStore, useLang } from './options';\nimport { cloneWithNewIds } from '../../../core/utils/cloneWithNewIds';\nimport { useDisplayModeReferenceNodeId } from './displayMode';\n/**\n * @param id id of a node\n * @returns function, that sets a cell in draft mode (will be invisible in readonly / preview)\n */\nexport var useSetDraft = function (id) {\n    var dispatch = useDispatch();\n    return useCallback(function (isDraft, lang) {\n        return dispatch(updateCellIsDraft(id, isDraft, lang));\n    }, [dispatch, id]);\n};\n/**\n * @returns function to resize a cell\n */\nexport var useResizeCellById = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (nodeId, size) { return dispatch(resizeCell(nodeId)(size)); }, [dispatch]);\n};\n/**\n *\n * @param id a cell id\n * @returns a function to resize the given cell\n */\nexport var useResizeCell = function (id) {\n    var resizeById = useResizeCellById();\n    return useCallback(function (size) { return resizeById(id, size); }, [resizeById, id]);\n};\n/**\n *\n * @returns a function to change the current language\n */\nexport var useSetLang = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (lang) { return dispatch(setLang(lang)); }, [dispatch]);\n};\n/**\n *\n * @param id a cell id\n * @returns function to update the data of the given cell. Sets the data in the current language, unless options.lang is set\n */\nexport var useUpdateCellData = function (id) {\n    var dispatch = useDispatch();\n    var currentLang = useLang();\n    return useCallback(function (data, options) {\n        if (options === void 0) { options = {}; }\n        dispatch(updateCellData(id)(data, __assign({ notUndoable: false, lang: currentLang }, options)));\n    }, [dispatch, id, currentLang]);\n};\n/**\n * @returns a function to remove a cell by id\n */\nexport var useRemoveCellById = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (id) { return dispatch(removeCells([id])); }, [dispatch]);\n};\n/**\n * @param id a cell id\n * @returns a function to remove the given cell\n */\nexport var useRemoveCell = function (id) {\n    var removeById = useRemoveCellById();\n    return useCallback(function () { return removeById(id); }, [removeById, id]);\n};\n/**\n *\n * @returns a function to remove muliple nodeids\n */\nexport var useRemoveMultipleNodeIds = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (nodeIds) {\n        dispatch(removeCells(nodeIds));\n    }, [dispatch]);\n};\n/**\n * @returns a function that duplicates a cell\n */\nexport var useDuplicateCellById = function () {\n    var dispatch = useDispatch();\n    var editor = useEditorStore();\n    return useCallback(function (id) { return dispatch(duplicateCell(editor.getNode(id))); }, [dispatch]);\n};\nexport var useInsertAfter = function () {\n    var dispatch = useDispatch();\n    var insertNew = useInsertNew();\n    return useCallback(function (node, insertAfterNodeId) {\n        if (insertAfterNodeId) {\n            dispatch(duplicateNode(node, {\n                insertAfterNodeId: insertAfterNodeId,\n            }));\n        }\n        else {\n            // insert at the end\n            insertNew(cloneWithNewIds(node));\n        }\n    }, [dispatch, insertNew]);\n};\n/**\n * @returns a function that duplicates multiple cell\n */\nexport var useDuplicateMultipleCells = function () {\n    var editor = useEditorStore();\n    var insertAfter = useInsertAfter();\n    return useCallback(function (cellIds) {\n        var node = getCommonAncestorTree(editor, cellIds);\n        var insertAfterNodeId = isRow(node)\n            ? node.id\n            : node.rows[node.rows.length - 1].id;\n        insertAfter(node, insertAfterNodeId);\n    }, [editor, insertAfter]);\n};\n/**\n * @param a cell id\n * @returns a function that duplicates the given cell\n */\nexport var useDuplicateCell = function (id) {\n    var duplicate = useDuplicateCellById();\n    return useCallback(function () { return duplicate(id); }, [duplicate, id]);\n};\n/**\n * experimental\n * @returns function to set the reference node id. used internally\n */\nexport var useSetDisplayReferenceNodeId = function () {\n    var dispatch = useDispatch();\n    var referenceId = useDisplayModeReferenceNodeId();\n    return useCallback(function (nodeId) {\n        if (nodeId !== referenceId)\n            dispatch(setDisplayReferenceNodeId(nodeId));\n    }, [dispatch, referenceId]);\n};\n/**\n * @returns a function to focus a cell by id\n */\nexport var useFocusCellById = function () {\n    var dispatch = useDispatch();\n    var editor = useEditorStore();\n    return useCallback(function (id, scrollToCell, mode) {\n        var _a, _b, _c;\n        var parentCellId = (_c = (_b = (_a = editor\n            .getNodeWithAncestors(id)) === null || _a === void 0 ? void 0 : _a.ancestors) === null || _b === void 0 ? void 0 : _b.find(function (node) { return !isRow(node); })) === null || _c === void 0 ? void 0 : _c.id;\n        dispatch(setDisplayReferenceNodeId(parentCellId));\n        dispatch(focusCell(id, scrollToCell, mode));\n    }, [dispatch, editor]);\n};\n/**\n * @returns a function to focus a cell by id\n */\nexport var useFocusCell = function (id) {\n    var focusCellById = useFocusCellById();\n    return useCallback(function (scrollToCell, mode) {\n        return focusCellById(id, scrollToCell, mode);\n    }, [focusCellById]);\n};\n/**\n * @returns function to blur a cell by id\n */\nexport var useBlurCell = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (id) {\n        dispatch(blurCell(id));\n    }, [dispatch]);\n};\n/**\n * @returns function to blur all cells\n */\nexport var useBlurAllCells = function () {\n    var dispatch = useDispatch();\n    return useCallback(function () {\n        dispatch(blurAllCells());\n    }, [dispatch]);\n};\n/**\n * @returns function to insert a cell at the end of the document or the end of the parent cell\n *\n * if the id already exists, it will move that cell\n */\nexport var useInsertNew = function (parentCellId) {\n    var dispatch = useDispatch();\n    var cellPlugins = useAllCellPluginsForNode(parentCellId);\n    var editor = useEditorStore();\n    var lang = useLang();\n    return useCallback(function (partialCell) {\n        var action = parentCellId ? insertCellNewAsNewRow : insertCellAtTheEnd;\n        dispatch(action({\n            cellPlugins: cellPlugins,\n            lang: lang,\n        })(partialCell, { id: parentCellId }, { focusAfter: true }));\n    }, [dispatch, editor, cellPlugins, parentCellId]);\n};\n/**\n * used for the trash target\n */\nexport var useTrashDrop = function () {\n    var removeCell = useRemoveCellById();\n    return useDrop({\n        accept: 'cell',\n        collect: function (monitor) { return ({\n            isHovering: monitor.isOver({ shallow: true }),\n        }); },\n        drop: function (item, monitor) { return removeCell(item.cell.id); },\n    });\n};\n//# sourceMappingURL=nodeActions.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React from 'react';\nimport { useCallback } from 'react';\nimport { useDrop } from 'react-dnd';\nimport { useCellIsAllowedHere, useInsertNew, useSetDisplayReferenceNodeId, } from '../hooks';\nvar FallbackDropArea = function (_a) {\n    var children = _a.children;\n    var insertNew = useInsertNew();\n    var isAllowed = useCellIsAllowedHere();\n    var _b = __read(useDrop({\n        accept: 'cell',\n        canDrop: function (item) { return isAllowed(item); },\n        drop: function (item, monitor) {\n            // fallback drop\n            if (!monitor.didDrop()) {\n                insertNew(item.cell);\n            }\n        },\n    }), 2), dropRef = _b[1];\n    var setReference = useSetDisplayReferenceNodeId();\n    var clearReference = useCallback(function (e) {\n        var _a;\n        // if click was on the root, clear reference\n        if ((_a = e.target.classList) === null || _a === void 0 ? void 0 : _a.contains('react-page-editable'))\n            setReference(null);\n    }, [setReference]);\n    return (React.createElement(\"div\", { ref: dropRef, onClick: clearReference }, children));\n};\nexport default FallbackDropArea;\n//# sourceMappingURL=FallbackDropArea.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useCallback } from 'react';\nimport { useDispatch, useSelector } from '../../reduxConnect';\nimport { setZoom } from '../../actions/display';\nimport { useOption } from './options';\nexport var useSetZoom = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (zoom) { return dispatch(setZoom(zoom)); }, [dispatch]);\n};\n/**\n * @returns the current zoom\n */\nexport var useZoom = function () {\n    return useSelector(function (state) { return state.reactPage.display.zoom; });\n};\nexport var useZoomOut = function () {\n    var zoom = useZoom();\n    var zoomFactors = useOption('zoomFactors');\n    var setZoom = useSetZoom();\n    return useCallback(function () {\n        var newZoom = zoomFactors.find(function (z) { return z < zoom; });\n        if (newZoom)\n            setZoom(newZoom);\n    }, [zoom, setZoom, zoomFactors]);\n};\nexport var useZoomIn = function () {\n    var zoom = useZoom();\n    var setZoom = useSetZoom();\n    var zoomFactors = useOption('zoomFactors');\n    return useCallback(function () {\n        var newZoom = __spreadArray([], __read(zoomFactors), false).reverse().find(function (z) { return z > zoom; });\n        if (newZoom)\n            setZoom(newZoom);\n    }, [zoom, setZoom, zoomFactors]);\n};\nexport var useCanZoomOut = function () {\n    var zoom = useZoom();\n    var zoomFactors = useOption('zoomFactors');\n    return zoomFactors.some(function (z) { return z < zoom; });\n};\nexport var useCanZoomIn = function () {\n    var zoom = useZoom();\n    var zoomFactors = useOption('zoomFactors');\n    return zoomFactors.some(function (z) { return z > zoom; });\n};\n//# sourceMappingURL=display.js.map","export default (function (element, offset, behavior) {\n    if (offset === void 0) { offset = 0; }\n    if (behavior === void 0) { behavior = 'smooth'; }\n    if (!element) {\n        return;\n    }\n    var bodyRect = document.body.getBoundingClientRect().top;\n    var elementRect = element.getBoundingClientRect().top;\n    var elementPosition = elementRect - bodyRect;\n    var offsetPosition = elementPosition - offset;\n    window.scrollTo({\n        top: offsetPosition,\n        behavior: behavior,\n    });\n});\n//# sourceMappingURL=scrollIntoViewWithOffset.js.map","import throttle from 'lodash.throttle';\nimport React, { useEffect } from 'react';\nimport scrollIntoViewWithOffset from '../../Cell/utils/scrollIntoViewWithOffset';\nimport { useDisplayMode } from '../../hooks';\nfunction isElementInViewport(el) {\n    var rect = el.getBoundingClientRect();\n    return (rect.top >= 0 &&\n        rect.left >= 0 &&\n        rect.bottom <=\n            (window.innerHeight ||\n                document.documentElement.clientHeight) /*or $(window).height() */ &&\n        rect.right <=\n            (window.innerWidth ||\n                document.documentElement.clientWidth) /*or $(window).width() */);\n}\nexport var useKeepScrollPosition = function (ref) {\n    var mode = useDisplayMode();\n    var firstElementInViewPortref = React.useRef();\n    useEffect(function () {\n        var onScroll = throttle(function () {\n            if (ref.current) {\n                var firstInViewport = Array.prototype.find.call(ref.current.getElementsByClassName('react-page-cell'), function (cell) { return isElementInViewport(cell); });\n                if (firstInViewport) {\n                    firstElementInViewPortref.current = {\n                        el: firstInViewport,\n                        topOffset: firstInViewport.getBoundingClientRect().top,\n                    };\n                }\n                else {\n                    firstElementInViewPortref.current = null;\n                }\n            }\n        }, 600);\n        window.addEventListener('scroll', onScroll);\n        return function () {\n            window.removeEventListener('scroll', onScroll);\n        };\n    }, []);\n    useEffect(function () {\n        if (firstElementInViewPortref.current) {\n            var _a = firstElementInViewPortref.current, el_1 = _a.el, topOffset_1 = _a.topOffset;\n            setTimeout(function () {\n                scrollIntoViewWithOffset(el_1, topOffset_1, 'auto');\n            }, 0);\n        }\n    }, [mode]);\n};\n//# sourceMappingURL=useKeepScrollPosition.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React from 'react';\nimport { useDrop } from 'react-dnd';\nimport { useCellIsAllowedHere, useInsertNew, useIsLayoutMode, useIsPreviewMode, useSetDisplayReferenceNodeId, useSetInsertMode, } from '../hooks';\nvar InsertNew = function (_a) {\n    var parentCellId = _a.parentCellId;\n    var setInsertMode = useSetInsertMode();\n    var insertNew = useInsertNew(parentCellId);\n    var isPreviewMode = useIsPreviewMode();\n    var isLayoutMode = useIsLayoutMode();\n    var setReferenceNodeId = useSetDisplayReferenceNodeId();\n    var checkIfAllowed = useCellIsAllowedHere(parentCellId);\n    var _b = __read(useDrop({\n        accept: 'cell',\n        canDrop: function (item) {\n            return checkIfAllowed(item);\n        },\n        collect: function (monitor) { return ({\n            isOver: monitor.isOver(),\n            isAllowed: checkIfAllowed(monitor.getItem()),\n        }); },\n        drop: function (item, monitor) {\n            // fallback drop\n            if (!monitor.didDrop()) {\n                insertNew(item.cell);\n            }\n        },\n    }), 2), _c = _b[0], isOver = _c.isOver, isAllowed = _c.isAllowed, dropRef = _b[1];\n    if (isPreviewMode)\n        return null;\n    return (React.createElement(\"div\", { ref: dropRef, className: 'react-page-cell-insert-new' + (isOver && isAllowed ? ' hover' : ''), style: {\n            pointerEvents: 'all',\n            zIndex: isLayoutMode ? 10 : 1,\n            overflow: 'hidden',\n            width: '50%',\n            minWidth: 120,\n            margin: 'auto',\n            cursor: isOver && !isAllowed ? 'not-allowed' : 'pointer',\n        }, onClick: function (e) {\n            e.stopPropagation();\n            setReferenceNodeId(parentCellId);\n            setInsertMode();\n        } }));\n};\nexport default React.memo(InsertNew);\n//# sourceMappingURL=InsertNew.js.map","export var noop = function () { };\nexport function on(obj) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    if (obj && obj.addEventListener) {\n        obj.addEventListener.apply(obj, args);\n    }\n}\nexport function off(obj) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    if (obj && obj.removeEventListener) {\n        obj.removeEventListener.apply(obj, args);\n    }\n}\nexport var isBrowser = typeof window !== 'undefined';\nexport var isNavigator = typeof navigator !== 'undefined';\n","import { useEffect, useLayoutEffect } from 'react';\nimport { isBrowser } from './misc/util';\nvar useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\nexport default useIsomorphicLayoutEffect;\n","import { useMemo, useState } from 'react';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect';\nimport { isBrowser, noop } from './misc/util';\nvar defaultState = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0,\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n};\nfunction useMeasure() {\n    var _a = useState(null), element = _a[0], ref = _a[1];\n    var _b = useState(defaultState), rect = _b[0], setRect = _b[1];\n    var observer = useMemo(function () {\n        return new window.ResizeObserver(function (entries) {\n            if (entries[0]) {\n                var _a = entries[0].contentRect, x = _a.x, y = _a.y, width = _a.width, height = _a.height, top_1 = _a.top, left = _a.left, bottom = _a.bottom, right = _a.right;\n                setRect({ x: x, y: y, width: width, height: height, top: top_1, left: left, bottom: bottom, right: right });\n            }\n        });\n    }, []);\n    useIsomorphicLayoutEffect(function () {\n        if (!element)\n            return;\n        observer.observe(element);\n        return function () {\n            observer.disconnect();\n        };\n    }, [element]);\n    return [ref, rect];\n}\nexport default isBrowser && typeof window.ResizeObserver !== 'undefined'\n    ? useMeasure\n    : (function () { return [noop, defaultState]; });\n","import { useMemo } from 'react';\nimport { cancelCellDrag, cellHoverAbove, cellHoverBelow, cellHoverInlineLeft, cellHoverInlineRight, cellHoverLeftOf, cellHoverRightOf, clearHover, dragCell, } from '../../actions/cell';\nimport { insertCellAbove, insertCellBelow, insertCellLeftInline, insertCellLeftOf, insertCellRightInline, insertCellRightOf, } from '../../actions/cell/insert';\nimport { useDispatch } from '../../reduxConnect';\nimport { useAllCellPluginsForNode } from './node';\nimport { useLang } from './options';\n/**\n * @returns object of actions for hovering\n */\nexport var useHoverActions = function () {\n    var dispatch = useDispatch();\n    return useMemo(function () { return ({\n        dragCell: function (id) { return dispatch(dragCell(id)); },\n        clear: function () { return dispatch(clearHover()); },\n        cancelCellDrag: function () { return dispatch(cancelCellDrag()); },\n        above: function (drag, hover, options) {\n            return dispatch(cellHoverAbove(drag, hover, options === null || options === void 0 ? void 0 : options.level));\n        },\n        below: function (drag, hover, options) {\n            return dispatch(cellHoverBelow(drag, hover, options === null || options === void 0 ? void 0 : options.level));\n        },\n        leftOf: function (drag, hover, options) {\n            return dispatch(cellHoverLeftOf(drag, hover, options === null || options === void 0 ? void 0 : options.level));\n        },\n        rightOf: function (drag, hover, options) {\n            return dispatch(cellHoverRightOf(drag, hover, options === null || options === void 0 ? void 0 : options.level));\n        },\n        inlineLeft: function (drag, hover) { return dispatch(cellHoverInlineLeft(drag, hover)); },\n        inlineRight: function (drag, hover) { return dispatch(cellHoverInlineRight(drag, hover)); },\n    }); }, [dispatch]);\n};\n/**\n * @param nodeId the parent reference node id\n * @returns object of actions for dropping a cell\n */\nexport var useDropActions = function (parentNodeId) {\n    var dispatch = useDispatch();\n    var lang = useLang();\n    var cellPlugins = useAllCellPluginsForNode(parentNodeId);\n    return useMemo(function () { return ({\n        above: function (drag, hover, level) {\n            return dispatch(insertCellAbove({ cellPlugins: cellPlugins, lang: lang })(drag, hover, level));\n        },\n        below: function (drag, hover, level) {\n            return dispatch(insertCellBelow({ cellPlugins: cellPlugins, lang: lang })(drag, hover, level));\n        },\n        leftOf: function (drag, hover, level) {\n            return dispatch(insertCellLeftOf({ cellPlugins: cellPlugins, lang: lang })(drag, hover, level));\n        },\n        rightOf: function (drag, hover, level) {\n            return dispatch(insertCellRightOf({ cellPlugins: cellPlugins, lang: lang })(drag, hover, level));\n        },\n        inlineLeft: function (drag, hover) {\n            return dispatch(insertCellLeftInline({ cellPlugins: cellPlugins, lang: lang })(drag, hover));\n        },\n        inlineRight: function (drag, hover) {\n            return dispatch(insertCellRightInline({ cellPlugins: cellPlugins, lang: lang })(drag, hover));\n        },\n        dragCell: function (id) { return dispatch(dragCell(id)); },\n        clear: function () { return dispatch(clearHover()); },\n        cancelCellDrag: function () { return dispatch(cancelCellDrag()); },\n    }); }, [dispatch, lang, cellPlugins]);\n};\n//# sourceMappingURL=dragDropActions.js.map","// tslint:disable:no-console\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar trace = function () {\n    var e = new Error('dummy');\n    return e.stack\n        .replace(/^[^(]+?[\\n$]/gm, '')\n        .replace(/^\\s+at\\s+/gm, '')\n        .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@')\n        .split('\\n');\n};\nvar Logger = /** @class */ (function () {\n    function Logger() {\n    }\n    /**\n     * Logs a warning. Warnings are things that are exceptional, but easily to recover from.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Logger.prototype.warn = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        console.warn.apply(console, __spreadArray(['Warning:'], __read(args), false));\n    };\n    /**\n     * Logs a debug message. Debug messages are things that help developers debugging things.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Logger.prototype.debug = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        console.log.apply(console, __spreadArray(['Debug:'], __read(args), false));\n    };\n    /**\n     * Logs an info. Infos are things that might be interesting for someone who needs to take a closer look.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Logger.prototype.info = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        console.log.apply(console, __spreadArray(['Info:'], __read(args), false));\n    };\n    /**\n     * Logs an error. Error are things that are exceptional, but can be recovered from.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Logger.prototype.error = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        console.error.apply(console, __spreadArray(['Error:'], __read(args), false));\n        console.error('Trace:', trace());\n    };\n    /**\n     * Logs a fatal error. Fatal errors are things that are exceptional and can not be recovered from.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Logger.prototype.fatal = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        console.error.apply(console, __spreadArray(['Fatal:'], __read(args), false));\n        console.error('Trace:', trace());\n        throw new Error(args.join(' '));\n    };\n    /**\n     * Logs a message.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Logger.prototype.log = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        console.log.apply(console, __spreadArray(['Fatal:'], __read(args), false));\n        console.log('Trace:', trace());\n    };\n    return Logger;\n}());\nexport { Logger };\nvar instance = new Logger();\nexport default instance;\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar _a;\nimport { isRow } from '../../types';\nimport deepEquals from '../../utils/deepEquals';\nimport logger from '../logger';\n/**\n * NO (None): No drop zone.\n *\n * Corners are counted clockwise, beginning top left\n * C1 (Corner top left): Position decided by top left corner function\n * C2 (Corner top right): Position decided by top right corner function\n * C3 (Corner bottom right): Position decided by bottom right corner function\n * C4 (Corner bottom left): Position decided by bottom left corner function\n *\n * Above:\n * AH (Above here): above, same level\n * AA (Above of self or some ancestor): Above, compute active level using classification functions, e.g. log, sin, mx + t\n *\n * Below:\n * BH (Below here)\n * BA (Below of self or some ancestor)\n *\n * Left of:\n * LH (Left of here)\n * LA (Left of self or some ancestor)\n *\n * Right of:\n * RH (Right of here)\n * RA (Right of self or some ancestor)\n *\n * Inside / inline\n * IL (Inline left)\n * IR (Inline right)\n */\nexport var classes = {\n    NO: 0,\n    C1: 10,\n    C2: 11,\n    C3: 12,\n    C4: 13,\n    AH: 200,\n    AA: 201,\n    BH: 210,\n    BA: 211,\n    LH: 220,\n    LA: 221,\n    RH: 230,\n    RA: 231,\n    IL: 300,\n    IR: 301,\n};\nvar c = classes;\n/**\n * A list of matrices that are used to define the callback function.\n *\n * @type {{10x10: *[], 10x10-no-inline: *[]}}\n */\nvar MATRIX_LIST = {\n    '10x10': [\n        [c.C1, c.AA, c.AA, c.AA, c.AA, c.AA, c.AA, c.AA, c.AA, c.C2],\n        [c.LA, c.IL, c.IL, c.IL, c.AH, c.AH, c.IR, c.IR, c.IR, c.RA],\n        [c.LA, c.IL, c.IL, c.IL, c.AH, c.AH, c.IR, c.IR, c.IR, c.RA],\n        [c.LA, c.IL, c.IL, c.IL, c.AH, c.AH, c.IR, c.IR, c.IR, c.RA],\n        [c.LA, c.LH, c.LH, c.LH, c.C1, c.C2, c.RH, c.RH, c.RH, c.RA],\n        [c.LA, c.LH, c.LH, c.LH, c.C4, c.C3, c.RH, c.RH, c.RH, c.RA],\n        [c.LA, c.LH, c.LH, c.C4, c.BH, c.BH, c.C3, c.IR, c.RH, c.RA],\n        [c.LA, c.LH, c.C4, c.BH, c.BH, c.BH, c.BH, c.C3, c.RH, c.RA],\n        [c.LA, c.C4, c.BH, c.BH, c.BH, c.BH, c.BH, c.BH, c.C3, c.RA],\n        [c.C4, c.BA, c.BA, c.BA, c.BA, c.BA, c.BA, c.BA, c.BA, c.C3],\n    ],\n    '10x10-no-inline': [\n        [c.C1, c.AA, c.AA, c.AA, c.AA, c.AA, c.AA, c.AA, c.AA, c.C2],\n        [c.LA, c.C1, c.AH, c.AH, c.AH, c.AH, c.AH, c.AH, c.C2, c.RA],\n        [c.LA, c.LH, c.C1, c.AH, c.AH, c.AH, c.AH, c.C2, c.RH, c.RA],\n        [c.LA, c.LH, c.LH, c.C1, c.AH, c.AH, c.C2, c.RH, c.RH, c.RA],\n        [c.LA, c.LH, c.LH, c.LH, c.C1, c.C2, c.RH, c.RH, c.RH, c.RA],\n        [c.LA, c.LH, c.LH, c.LH, c.C4, c.C3, c.RH, c.RH, c.RH, c.RA],\n        [c.LA, c.LH, c.LH, c.C4, c.BH, c.BH, c.C3, c.RH, c.RH, c.RA],\n        [c.LA, c.LH, c.C4, c.BH, c.BH, c.BH, c.BH, c.C3, c.RH, c.RA],\n        [c.LA, c.C4, c.BH, c.BH, c.BH, c.BH, c.BH, c.BH, c.C3, c.RA],\n        [c.C4, c.BA, c.BA, c.BA, c.BA, c.BA, c.BA, c.BA, c.BA, c.C3],\n    ],\n};\n/**\n * Computes the average width and height for cells in a room.\n *\n * @param room\n * @param matrix\n * @returns {{x: number, y: number}}\n */\nvar getRoomScale = function (_a) {\n    var room = _a.room, matrix = _a.matrix;\n    var rows = matrix.length;\n    var cells = matrix[0].length;\n    var scalingX = room.width / cells;\n    var scalingY = room.height / rows;\n    return {\n        x: scalingX,\n        y: scalingY,\n    };\n};\n/**\n * Returns the index of the hover cell.\n *\n * @param mouse\n * @param scale\n */\nvar getMouseHoverCell = function (_a) {\n    var mouse = _a.mouse, scale = _a.scale;\n    return ({\n        cell: Math.floor(mouse.x / scale.x),\n        row: Math.floor(mouse.y / scale.y),\n    });\n};\n/**\n * Used for caching.\n */\nvar last = { '10x10': null, '10x10-no-inline': null };\nexport var computeHover = function (drag, hover, actions, _a) {\n    var _b, _c;\n    var room = _a.room, mouse = _a.mouse, cellPlugins = _a.cellPlugins;\n    var allowInlineNeighbours = (_c = (_b = cellPlugins.find(function (p) { return p.id === hover.pluginId; })) === null || _b === void 0 ? void 0 : _b.allowInlineNeighbours) !== null && _c !== void 0 ? _c : false;\n    var matrixName = \"10x10\" + (allowInlineNeighbours ? '' : '-no-inline');\n    var matrix = MATRIX_LIST[matrixName];\n    var scale = getRoomScale({ room: room, matrix: matrix });\n    var hoverCell = getMouseHoverCell({ mouse: mouse, scale: scale });\n    var rows = matrix.length;\n    var cells = matrix[0].length;\n    if (hoverCell.row >= rows) {\n        hoverCell.row = rows - 1;\n    }\n    else if (hoverCell.row < 0) {\n        hoverCell.row = 0;\n    }\n    if (hoverCell.cell >= cells) {\n        hoverCell.cell = cells - 1;\n    }\n    else if (hoverCell.cell < 0) {\n        hoverCell.cell = 0;\n    }\n    var cell = matrix[hoverCell.row][hoverCell.cell];\n    if (!CALLBACK_LIST[cell]) {\n        logger.error('Matrix callback not found.', {\n            room: room,\n            mouse: mouse,\n            matrix: matrix,\n            scale: scale,\n            hoverCell: hoverCell,\n            rows: rows,\n            cells: cells,\n        });\n        return;\n    }\n    var all = {\n        item: drag.id,\n        hover: hover.id,\n        actions: actions,\n        ctx: {\n            room: room,\n            mouse: mouse,\n            position: hoverCell,\n            size: { rows: rows, cells: cells },\n            scale: scale,\n        },\n    };\n    if (deepEquals(all, last[matrixName])) {\n        return;\n    }\n    last[matrixName] = all;\n    return CALLBACK_LIST[cell](drag, hover, actions, {\n        room: room,\n        mouse: mouse,\n        position: hoverCell,\n        size: { rows: rows, cells: cells },\n        cellPlugins: cellPlugins,\n        scale: scale,\n    });\n};\n/**\n * Return the mouse position relative to the cell.\n */\nvar relativeMousePosition = function (_a) {\n    var mouse = _a.mouse, position = _a.position, scale = _a.scale;\n    return ({\n        x: Math.round(mouse.x - position.cell * scale.x),\n        y: Math.round(mouse.y - position.row * scale.y),\n    });\n};\n/**\n * Computes the drop level based on the mouse position and the cell width.\n */\nexport var computeLevel = function (_a) {\n    var size = _a.size, levels = _a.levels, position = _a.position;\n    if (size <= (levels + 1) * 2) {\n        return Math.round(position / (size / levels));\n    }\n    var spare = size - (levels + 1) * 2;\n    var steps = [0];\n    var current = spare;\n    for (var i = 0; i <= levels; i++) {\n        steps.push(steps[i] + current / 2);\n        current /= 2;\n        if (position >= steps[i] + i * 2 && position < steps[i + 1] + (i + 1) * 2) {\n            return i;\n        }\n    }\n    return levels;\n};\n/**\n * Computes the horizontal drop level based on the mouse position.\n *\n * @param mouse\n * @param position\n * @param hover\n * @param scale\n * @param level\n * @param inv returns the inverse drop level. Usually true for left and above drop level computation.\n * @returns number\n */\nvar computeHorizontal = function (_a, inv) {\n    var mouse = _a.mouse, position = _a.position, hover = _a.hover, scale = _a.scale, level = _a.level;\n    if (inv === void 0) { inv = false; }\n    var x = relativeMousePosition({ mouse: mouse, position: position, scale: scale }).x;\n    var at = computeLevel({ size: scale.x, position: x, levels: level });\n    if (isRow(hover)) {\n        // Is row, always opt for lowest level\n        return level;\n    }\n    // If the hovered element is an inline element, level 0 would be directly besides it which doesn't work.\n    // Set it to 1 instead.\n    if (hover.inline && at === 0) {\n        at = 1;\n    }\n    return inv ? level - at : at;\n};\n/**\n * Computes the vertical drop level based on the mouse position.\n *\n * @returns number\n */\nvar computeVertical = function (_a, inv) {\n    var level = _a.level, mouse = _a.mouse, hover = _a.hover, position = _a.position, scale = _a.scale;\n    if (inv === void 0) { inv = false; }\n    var y = relativeMousePosition({ mouse: mouse, position: position, scale: scale }).y;\n    var at = computeLevel({ size: scale.y, position: y, levels: level });\n    if (isRow(hover)) {\n        // Is row, always opt for lowest level\n        return level;\n    }\n    // If the hovered element is an inline element, level 0 would be directly besides it which doesn't work.\n    // Set it to 1 instead.\n    if (hover.inline && at === 0) {\n        at = 1;\n    }\n    return inv ? level - at : at;\n};\nvar getDropLevel = function (hover) {\n    return !isRow(hover) && hover.inline ? 1 : 0;\n};\n/**\n * A list of callbacks.\n */\nexport var CALLBACK_LIST = (_a = {},\n    _a[c.NO] = function (item, hover, _a) {\n        var clear = _a.clear;\n        return clear();\n    },\n    /* corners */\n    _a[c.C1] = function (item, hover, _a, ctx) {\n        var leftOf = _a.leftOf, above = _a.above;\n        var mouse = relativeMousePosition(ctx);\n        var level = getDropLevel(hover);\n        if (mouse.x < mouse.y) {\n            return leftOf(item, hover, { level: level });\n        }\n        above(item, hover, { level: level });\n    },\n    _a[c.C2] = function (item, hover, _a, ctx) {\n        var rightOf = _a.rightOf, above = _a.above;\n        var mouse = relativeMousePosition(ctx);\n        var level = getDropLevel(hover);\n        if (mouse.x > mouse.y) {\n            return rightOf(item, hover, { level: level });\n        }\n        above(item, hover, { level: level });\n    },\n    _a[c.C3] = function (item, hover, _a, ctx) {\n        var rightOf = _a.rightOf, below = _a.below;\n        var mouse = relativeMousePosition(ctx);\n        var level = getDropLevel(hover);\n        if (mouse.x > mouse.y) {\n            return rightOf(item, hover, { level: level });\n        }\n        below(item, hover, { level: level });\n    },\n    _a[c.C4] = function (item, hover, _a, ctx) {\n        var leftOf = _a.leftOf, below = _a.below;\n        var mouse = relativeMousePosition(ctx);\n        var level = getDropLevel(hover);\n        if (mouse.x < mouse.y) {\n            return leftOf(item, hover, { level: level });\n        }\n        below(item, hover, { level: level });\n    },\n    /* heres */\n    _a[c.AH] = function (item, hover, _a) {\n        var above = _a.above;\n        var level = getDropLevel(hover);\n        above(item, hover, { level: level });\n    },\n    _a[c.BH] = function (item, hover, _a) {\n        var below = _a.below;\n        var level = getDropLevel(hover);\n        below(item, hover, { level: level });\n    },\n    _a[c.LH] = function (item, hover, _a) {\n        var leftOf = _a.leftOf;\n        var level = getDropLevel(hover);\n        leftOf(item, hover, { level: level });\n    },\n    _a[c.RH] = function (item, hover, _a) {\n        var rightOf = _a.rightOf;\n        var level = getDropLevel(hover);\n        rightOf(item, hover, { level: level });\n    },\n    /* ancestors */\n    _a[c.AA] = function (item, hover, _a, ctx) {\n        var above = _a.above;\n        return above(item, hover, {\n            level: computeVertical(__assign(__assign({}, ctx), { hover: hover, level: hover.levels.above }), true),\n        });\n    },\n    _a[c.BA] = function (item, hover, _a, ctx) {\n        var below = _a.below;\n        return below(item, hover, {\n            level: computeVertical(__assign(__assign({}, ctx), { hover: hover, level: hover.levels.below })),\n        });\n    },\n    _a[c.LA] = function (item, hover, _a, ctx) {\n        var leftOf = _a.leftOf;\n        return leftOf(item, hover, {\n            level: computeHorizontal(__assign(__assign({}, ctx), { hover: hover, level: hover.levels.left }), true),\n        });\n    },\n    _a[c.RA] = function (item, hover, _a, ctx) {\n        var rightOf = _a.rightOf;\n        return rightOf(item, hover, {\n            level: computeHorizontal(__assign(__assign({}, ctx), { hover: hover, level: hover.levels.right })),\n        });\n    },\n    /* inline */\n    _a[c.IL] = function (item, hover, _a, _b) {\n        var _c;\n        var inlineLeft = _a.inlineLeft, leftOf = _a.leftOf;\n        var cellPlugins = _b.cellPlugins;\n        if (isRow(item) || isRow(hover)) {\n            return;\n        }\n        var inline = hover.inline, hasInlineNeighbour = hover.hasInlineNeighbour;\n        var plugin = cellPlugins.find(function (p) {\n            var _a;\n            return p.id ===\n                (typeof item.plugin === 'string' ? item.plugin : (_a = item.plugin) === null || _a === void 0 ? void 0 : _a.id);\n        });\n        var isInlineable = (_c = plugin === null || plugin === void 0 ? void 0 : plugin.isInlineable) !== null && _c !== void 0 ? _c : false;\n        if (inline || !isInlineable) {\n            return leftOf(item, hover, { level: 2 });\n        }\n        if (hasInlineNeighbour && hasInlineNeighbour !== item.id) {\n            return leftOf(item, hover, { level: 2 });\n        }\n        if (hasInlineNeighbour &&\n            hasInlineNeighbour === item.id &&\n            item.inline === 'left') {\n            return leftOf(item, hover, { level: 2 });\n        }\n        inlineLeft(item, hover);\n    },\n    _a[c.IR] = function (item, hover, _a, _b) {\n        var _c;\n        var inlineRight = _a.inlineRight, rightOf = _a.rightOf;\n        var cellPlugins = _b.cellPlugins;\n        if (isRow(item) || isRow(hover)) {\n            return;\n        }\n        var inline = hover.inline, hasInlineNeighbour = hover.hasInlineNeighbour;\n        var plugin = cellPlugins.find(function (p) {\n            var _a;\n            return p.id ===\n                (typeof item.plugin === 'string' ? item.plugin : (_a = item.plugin) === null || _a === void 0 ? void 0 : _a.id);\n        });\n        var isInlineable = (_c = plugin === null || plugin === void 0 ? void 0 : plugin.isInlineable) !== null && _c !== void 0 ? _c : false;\n        if (inline || !isInlineable) {\n            return rightOf(item, hover, { level: 2 });\n        }\n        if (hasInlineNeighbour && hasInlineNeighbour !== item.id) {\n            return rightOf(item, hover, { level: 2 });\n        }\n        if (hasInlineNeighbour &&\n            hasInlineNeighbour === item.id &&\n            item.inline === 'right') {\n            return rightOf(item, hover, { level: 2 });\n        }\n        inlineRight(item, hover);\n    },\n    _a);\n//# sourceMappingURL=computeHover.js.map","import { computeHover } from './computeHover';\nvar computeCurrentDropPosition = function (actions, hover, drag, monitor, element, cellPlugins) {\n    var mousePosition = monitor.getClientOffset();\n    var componentPosition = element.getBoundingClientRect();\n    var room = {\n        height: componentPosition.bottom - componentPosition.top,\n        width: componentPosition.right - componentPosition.left,\n    };\n    var mouse = {\n        y: mousePosition.y - componentPosition.top,\n        x: mousePosition.x - componentPosition.left,\n    };\n    computeHover(drag, hover, actions, {\n        room: room,\n        mouse: mouse,\n        cellPlugins: cellPlugins,\n    });\n};\nexport var computeAndDispatchInsert = function (hover, drag, monitor, element, actions, cellPlugins) {\n    return computeCurrentDropPosition(actions, hover, drag, monitor, element, cellPlugins);\n};\nexport var computeAndDispatchHover = function (hover, drag, monitor, element, actions, cellPlugins) {\n    return computeCurrentDropPosition(actions, hover, drag, monitor, element, cellPlugins);\n};\n//# sourceMappingURL=input.js.map","import throttle from 'lodash.throttle';\nimport { delay } from '../../../../helper/throttle';\nimport { computeAndDispatchHover, computeAndDispatchInsert, } from '../../../../service/hover/input';\nimport logger from '../../../../service/logger';\nvar last = { hoverId: '', dragId: '' };\nvar shouldClear = function (hoverId, dragId) {\n    if (hoverId === last.hoverId && dragId === last.dragId) {\n        return false;\n    }\n    last = { hoverId: hoverId, dragId: dragId };\n    return true;\n};\nexport var onHover = throttle(function (target, monitor, element, actions, cellPlugins) {\n    var drag = monitor.getItem();\n    if (!drag || !target) {\n        // item undefined, happens when throttle triggers after drop\n        return;\n    }\n    if (drag.cell.id === target.id) {\n        // If hovering over itself, do nothing\n        if (shouldClear(target.id, drag.cell.id)) {\n            actions.clear();\n        }\n        return;\n    }\n    else if (!monitor.isOver({ shallow: true })) {\n        // If hovering over ancestor cell, do nothing (we are going to propagate later in the tree anyways)\n        return;\n    }\n    else if (target.ancestorIds.includes(drag.cell.id)) {\n        if (shouldClear(target.id, drag.cell.id)) {\n            actions.clear();\n        }\n        return;\n    }\n    else if (!target.id) {\n        // If hovering over something that isn't a cell or hasn't an id, do nothing. Should be an edge case\n        logger.warn('Canceled cell drop, no id given.', target, drag);\n        return;\n    }\n    last = { hoverId: target.id, dragId: drag.cell.id };\n    computeAndDispatchHover(target, drag.cell, monitor, element, actions, cellPlugins);\n}, delay, { leading: false });\nexport var onDrop = function (target, monitor, element, actions, cellPlugins) {\n    var drag = monitor.getItem();\n    if (monitor.didDrop() || !monitor.isOver({ shallow: true }) || !target) {\n        // If the item drop occurred deeper down the tree, don't do anything\n        return;\n    }\n    else if (drag.cell.id === target.id) {\n        // If the item being dropped on itself do nothing\n        actions.cancelCellDrag();\n        return;\n    }\n    else if (target.ancestorIds.includes(drag.cell.id)) {\n        // If hovering over a child of itself, don't propagate further\n        actions.cancelCellDrag();\n        return;\n    }\n    last = { hoverId: target.id, dragId: drag.cell.id };\n    computeAndDispatchInsert(target, drag.cell, monitor, element, actions, cellPlugins);\n};\n//# sourceMappingURL=dnd.js.map","import { isProduction } from '../../const';\nexport var delay = isProduction ? 40 : 60;\n//# sourceMappingURL=index.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport classNames from 'classnames';\nimport React, { useCallback, useEffect } from 'react';\nimport { useDrop } from 'react-dnd';\nimport { useSelector } from '../../../reduxConnect';\nimport { useNodeAsHoverTarget, useCellHasPlugin, useCellIsAllowedHere, useCellSpacing, useDropActions, useHoverActions, useIsInsertMode, useIsLayoutMode, useNodeHoverPosition, usePluginOfCell, useOption, useAllCellPluginsForNode, } from '../../hooks';\nimport { onDrop, onHover } from './helper/dnd';\nexport var useCellDrop = function (nodeId) {\n    var _a;\n    var ref = React.useRef(null);\n    var hoverTarget = useNodeAsHoverTarget(nodeId);\n    var targetParentNodeId = (_a = hoverTarget === null || hoverTarget === void 0 ? void 0 : hoverTarget.ancestorIds) === null || _a === void 0 ? void 0 : _a[0];\n    var checkIfAllowed = useCellIsAllowedHere(targetParentNodeId);\n    var plugin = usePluginOfCell(nodeId);\n    var cellPlugins = useAllCellPluginsForNode(targetParentNodeId);\n    var hoverActions = useHoverActions();\n    var dropActions = useDropActions(targetParentNodeId);\n    var isHoveringOverThis = useSelector(function (state) { var _a; return ((_a = state.reactPage.hover) === null || _a === void 0 ? void 0 : _a.nodeId) === nodeId; });\n    var _b = __read(useDrop({\n        accept: 'cell',\n        canDrop: function (item) {\n            // check if plugin is allowed here\n            if (!checkIfAllowed(item)) {\n                return false;\n            }\n            if (plugin === null || plugin === void 0 ? void 0 : plugin.allowNeighbour) {\n                if (!plugin.allowNeighbour(item.cell)) {\n                    return false;\n                }\n            }\n            return (item.cell.id !== nodeId &&\n                !(hoverTarget === null || hoverTarget === void 0 ? void 0 : hoverTarget.ancestorIds.includes(item.cell.id)));\n        },\n        collect: function (monitor) { return ({\n            isOver: monitor.isOver(),\n            isAllowed: checkIfAllowed(monitor.getItem()),\n        }); },\n        hover: function (item, monitor) {\n            if (plugin === null || plugin === void 0 ? void 0 : plugin.allowNeighbour) {\n                if (!plugin.allowNeighbour(item.cell)) {\n                    return false;\n                }\n            }\n            onHover(hoverTarget, monitor, ref.current, hoverActions, cellPlugins);\n        },\n        drop: function (item, monitor) {\n            onDrop(hoverTarget, monitor, ref.current, dropActions, cellPlugins);\n        },\n    }), 2), _c = _b[0], isOver = _c.isOver, isAllowed = _c.isAllowed, dropRef = _b[1];\n    useEffect(function () {\n        if (!isOver && isHoveringOverThis) {\n            hoverActions.clear();\n        }\n    }, [isOver, isHoveringOverThis, hoverActions.clear]);\n    // see https://github.com/react-dnd/react-dnd/issues/1955\n    var attach = useCallback(function (domElement) {\n        dropRef(domElement);\n        ref.current = domElement;\n        // use dom element here for measuring\n    }, [dropRef]);\n    return [attach, isAllowed];\n};\nvar Droppable = function (props) {\n    var _a;\n    var isLayoutMode = useIsLayoutMode();\n    var isInsertMode = useIsInsertMode();\n    var _b = __read(useCellDrop(props.nodeId), 2), attach = _b[0], isAllowed = _b[1];\n    var hoverPosition = useNodeHoverPosition(props.nodeId);\n    var allowMoveInEditMode = useOption('allowMoveInEditMode');\n    var hasPlugin = useCellHasPlugin(props.nodeId);\n    var cellSpacingY = useCellSpacing().y;\n    var needVerticalMargin = !props.isLeaf && !hasPlugin;\n    if (!(isLayoutMode || isInsertMode) && !allowMoveInEditMode) {\n        return (React.createElement(\"div\", { className: 'react-page-cell-droppable-container' }, props.children));\n    }\n    return (React.createElement(\"div\", { ref: attach, style: {\n            height: '100%',\n        }, className: \"react-page-cell-droppable\" },\n        React.createElement(\"div\", { style: {\n                position: 'absolute',\n                pointerEvents: 'none',\n                top: needVerticalMargin ? cellSpacingY / 2 + \"px\" : 0,\n                left: 0,\n                bottom: needVerticalMargin ? cellSpacingY / 2 + \"px\" : 0,\n                right: 0,\n            }, className: classNames((_a = {\n                    'react-page-cell-droppable-not-allowed': !isAllowed,\n                    'react-page-cell-droppable-is-over-current': isAllowed && hoverPosition\n                },\n                _a[\"react-page-cell-droppable-is-over-\" + hoverPosition] = isAllowed && hoverPosition,\n                _a['react-page-cell-droppable-leaf'] = props.isLeaf,\n                _a)) }),\n        props.children));\n};\nexport default Droppable;\n//# sourceMappingURL=index.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React from 'react';\nimport { useCellDrop } from '../../Cell/Droppable';\nimport { useIsInsertMode, useIsLayoutMode } from '../../hooks';\nvar Droppable = function (_a) {\n    var children = _a.children, nodeId = _a.nodeId;\n    var isLayoutMode = useIsLayoutMode();\n    var isInsertMode = useIsInsertMode();\n    var _b = __read(useCellDrop(nodeId), 2), ref = _b[0], isAllowed = _b[1];\n    if (!(isLayoutMode || isInsertMode)) {\n        return React.createElement(\"div\", { className: \"react-page-row-droppable-container\" }, children);\n    }\n    return (React.createElement(\"div\", { ref: ref, className: \"react-page-row-droppable\" }, children));\n};\nexport default Droppable;\n//# sourceMappingURL=index.js.map","import { findNodeInState } from './editable';\nexport var focus = function (state) {\n    return state && state.reactPage && state.reactPage.focus;\n};\nexport var allFocusedNodeIds = function (state) {\n    var _a, _b, _c;\n    return ((_c = (_b = (_a = focus(state)) === null || _a === void 0 ? void 0 : _a.nodeIds) === null || _b === void 0 ? void 0 : _b.filter(function (n) { var _a; return (_a = findNodeInState(state, n)) === null || _a === void 0 ? void 0 : _a.node; })) !== null && _c !== void 0 ? _c : []);\n};\nexport var singleFocusedNode = function (state) {\n    var nodeIds = allFocusedNodeIds(state);\n    if ((nodeIds === null || nodeIds === void 0 ? void 0 : nodeIds.length) === 1)\n        return nodeIds[0];\n    return null;\n};\n//# sourceMappingURL=focus.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useEffect } from 'react';\nimport { useSelector } from '../../reduxConnect';\nimport { allFocusedNodeIds, focus, singleFocusedNode, } from '../../selector/focus';\n/**\n * @returns the current focused nodeId if just one or null\n */\nexport var useFocusedNodeId = function () {\n    return useSelector(singleFocusedNode);\n};\nexport var useAllFocusedNodeIds = function () {\n    return useSelector(allFocusedNodeIds);\n};\n/**\n *\n * @param id the id of the node (row/cell)\n * @returns true if the given node id is focused\n */\nexport var useIsFocused = function (id) {\n    return useSelector(function (state) { return allFocusedNodeIds(state).includes(id); });\n};\n/**\n *\n * @param id the id of the node (row/cell)\n * @returns true if ONLY the given node id is focused\n */\nexport var useIsExclusivlyFocused = function (id) {\n    return useSelector(function (state) { return singleFocusedNode(state) === id; });\n};\n/**\n *\n * @param id the id of the node\n * @param effect callback that is run when the given node is focused and the focus action demanded scrollToCell\n * @param deps effect deps array\n */\nexport var useScrollToViewEffect = function (id, effect, deps) {\n    var scrollToCell = useSelector(function (state) {\n        var f = focus(state);\n        var nodeId = singleFocusedNode(state);\n        if (!f || nodeId !== id) {\n            return null;\n        }\n        return f.scrollToCell;\n    });\n    useEffect(function () {\n        if (scrollToCell) {\n            return effect();\n        }\n    }, __spreadArray([scrollToCell], __read(deps), false));\n};\n//# sourceMappingURL=focus.js.map","import React from 'react';\nimport { useIsEditMode, useRemoveCell, useUiTranslator } from '../../hooks';\nvar ErrorCell = function (_a) {\n    var nodeId = _a.nodeId, error = _a.error;\n    var isEditMode = useIsEditMode();\n    var removeCell = useRemoveCell(nodeId);\n    var t = useUiTranslator().t;\n    return (React.createElement(\"div\", { className: \"react-page-cell-error\" },\n        React.createElement(\"strong\", null, t('An error occurred!')),\n        React.createElement(\"small\", null,\n            React.createElement(\"dl\", null,\n                React.createElement(\"dt\", null, t('Cause:')),\n                React.createElement(\"dd\", null, error.message),\n                React.createElement(\"dt\", null, t('Cell:')),\n                React.createElement(\"dd\", null, nodeId))),\n        isEditMode ? (React.createElement(\"button\", { onClick: function () { return removeCell(); } }, t('Remove'))) : null));\n};\nexport default ErrorCell;\n//# sourceMappingURL=index.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var DragSourceImpl = /*#__PURE__*/function () {\n  function DragSourceImpl(spec, monitor, connector) {\n    _classCallCheck(this, DragSourceImpl);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"connector\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.connector = connector;\n  }\n\n  _createClass(DragSourceImpl, [{\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      var _result;\n\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var result = null;\n\n      if (_typeof(spec.item) === 'object') {\n        result = spec.item;\n      } else if (typeof spec.item === 'function') {\n        result = spec.item(monitor);\n      } else {\n        result = {};\n      }\n\n      return (_result = result) !== null && _result !== void 0 ? _result : null;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (typeof spec.canDrag === 'boolean') {\n        return spec.canDrag;\n      } else if (typeof spec.canDrag === 'function') {\n        return spec.canDrag(monitor);\n      } else {\n        return true;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(globalMonitor, target) {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var isDragging = spec.isDragging;\n      return isDragging ? isDragging(monitor) : target === globalMonitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var connector = this.connector;\n      var end = spec.end;\n\n      if (end) {\n        end(monitor.getItem(), monitor);\n      }\n\n      connector.reconnect();\n    }\n  }]);\n\n  return DragSourceImpl;\n}();","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { registerSource } from '../../internals';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nimport { useDragSource } from './useDragSource';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useDragType } from './useDragType';\nexport function useRegisteredDragSource(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var handler = useDragSource(spec, monitor, connector);\n  var itemType = useDragType(spec);\n  useIsomorphicLayoutEffect(function registerDragSource() {\n    if (itemType != null) {\n      var _registerSource = registerSource(itemType, handler, manager),\n          _registerSource2 = _slicedToArray(_registerSource, 2),\n          handlerId = _registerSource2[0],\n          unregister = _registerSource2[1];\n\n      monitor.receiveHandlerId(handlerId);\n      connector.receiveHandlerId(handlerId);\n      return unregister;\n    }\n  }, [manager, monitor, connector, handler, itemType]);\n}","import { useEffect, useMemo } from 'react';\nimport { DragSourceImpl } from './DragSourceImpl';\nexport function useDragSource(spec, monitor, connector) {\n  var handler = useMemo(function () {\n    return new DragSourceImpl(spec, monitor, connector);\n  }, [monitor, connector]);\n  useEffect(function () {\n    handler.spec = spec;\n  }, [spec]);\n  return handler;\n}","import { invariant } from '@react-dnd/invariant';\nimport { useMemo } from 'react';\nexport function useDragType(spec) {\n  return useMemo(function () {\n    var result = spec.type;\n    invariant(result != null, 'spec.type must be defined');\n    return result;\n  }, [spec]);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrag = false;\nvar isCallingIsDragging = false;\nexport var DragSourceMonitorImpl = /*#__PURE__*/function () {\n  function DragSourceMonitorImpl(manager) {\n    _classCallCheck(this, DragSourceMonitorImpl);\n\n    _defineProperty(this, \"internalMonitor\", void 0);\n\n    _defineProperty(this, \"sourceId\", null);\n\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DragSourceMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(sourceId) {\n      this.sourceId = sourceId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.sourceId;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      invariant(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingCanDrag = true;\n        return this.internalMonitor.canDragSource(this.sourceId);\n      } finally {\n        isCallingCanDrag = false;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      if (!this.sourceId) {\n        return false;\n      }\n\n      invariant(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingIsDragging = true;\n        return this.internalMonitor.isDraggingSource(this.sourceId);\n      } finally {\n        isCallingIsDragging = false;\n      }\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      return this.internalMonitor.isDraggingSource(sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId, options) {\n      return this.internalMonitor.isOverTarget(targetId, options);\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.internalMonitor.getTargetIds();\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return this.internalMonitor.isSourcePublic();\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.internalMonitor.getSourceId();\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      return this.internalMonitor.subscribeToOffsetChange(listener);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      return this.internalMonitor.canDragSource(sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      return this.internalMonitor.canDropOnTarget(targetId);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DragSourceMonitorImpl;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from './isRef';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nexport var SourceConnector = /*#__PURE__*/function () {\n  // The drop target may either be attached via ref or connect function\n  // The drag preview may either be attached via ref or connect function\n  function SourceConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, SourceConnector);\n\n    _defineProperty(this, \"hooks\", wrapConnectorHooks({\n      dragSource: function dragSource(node, options) {\n        _this.clearDragSource();\n\n        _this.dragSourceOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragSourceRef = node;\n        } else {\n          _this.dragSourceNode = node;\n        }\n\n        _this.reconnectDragSource();\n      },\n      dragPreview: function dragPreview(node, options) {\n        _this.clearDragPreview();\n\n        _this.dragPreviewOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragPreviewRef = node;\n        } else {\n          _this.dragPreviewNode = node;\n        }\n\n        _this.reconnectDragPreview();\n      }\n    }));\n\n    _defineProperty(this, \"handlerId\", null);\n\n    _defineProperty(this, \"dragSourceRef\", null);\n\n    _defineProperty(this, \"dragSourceNode\", void 0);\n\n    _defineProperty(this, \"dragSourceOptionsInternal\", null);\n\n    _defineProperty(this, \"dragSourceUnsubscribe\", void 0);\n\n    _defineProperty(this, \"dragPreviewRef\", null);\n\n    _defineProperty(this, \"dragPreviewNode\", void 0);\n\n    _defineProperty(this, \"dragPreviewOptionsInternal\", null);\n\n    _defineProperty(this, \"dragPreviewUnsubscribe\", void 0);\n\n    _defineProperty(this, \"lastConnectedHandlerId\", null);\n\n    _defineProperty(this, \"lastConnectedDragSource\", null);\n\n    _defineProperty(this, \"lastConnectedDragSourceOptions\", null);\n\n    _defineProperty(this, \"lastConnectedDragPreview\", null);\n\n    _defineProperty(this, \"lastConnectedDragPreviewOptions\", null);\n\n    _defineProperty(this, \"backend\", void 0);\n\n    this.backend = backend;\n  }\n\n  _createClass(SourceConnector, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (this.handlerId === newHandlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dragSource;\n    }\n  }, {\n    key: \"dragSourceOptions\",\n    get: function get() {\n      return this.dragSourceOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragSourceOptionsInternal = options;\n    }\n  }, {\n    key: \"dragPreviewOptions\",\n    get: function get() {\n      return this.dragPreviewOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragPreviewOptionsInternal = options;\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      this.reconnectDragSource();\n      this.reconnectDragPreview();\n    }\n  }, {\n    key: \"reconnectDragSource\",\n    value: function reconnectDragSource() {\n      var dragSource = this.dragSource; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragSourceChange() || this.didDragSourceOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragSource();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragSource) {\n        this.lastConnectedDragSource = dragSource;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragSource = dragSource;\n        this.lastConnectedDragSourceOptions = this.dragSourceOptions;\n        this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);\n      }\n    }\n  }, {\n    key: \"reconnectDragPreview\",\n    value: function reconnectDragPreview() {\n      var dragPreview = this.dragPreview; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragPreviewChange() || this.didDragPreviewOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragPreview();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragPreview) {\n        this.lastConnectedDragPreview = dragPreview;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragPreview = dragPreview;\n        this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;\n        this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);\n      }\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didConnectedDragSourceChange\",\n    value: function didConnectedDragSourceChange() {\n      return this.lastConnectedDragSource !== this.dragSource;\n    }\n  }, {\n    key: \"didConnectedDragPreviewChange\",\n    value: function didConnectedDragPreviewChange() {\n      return this.lastConnectedDragPreview !== this.dragPreview;\n    }\n  }, {\n    key: \"didDragSourceOptionsChange\",\n    value: function didDragSourceOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragSourceOptions, this.dragSourceOptions);\n    }\n  }, {\n    key: \"didDragPreviewOptionsChange\",\n    value: function didDragPreviewOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);\n    }\n  }, {\n    key: \"disconnectDragSource\",\n    value: function disconnectDragSource() {\n      if (this.dragSourceUnsubscribe) {\n        this.dragSourceUnsubscribe();\n        this.dragSourceUnsubscribe = undefined;\n      }\n    }\n  }, {\n    key: \"disconnectDragPreview\",\n    value: function disconnectDragPreview() {\n      if (this.dragPreviewUnsubscribe) {\n        this.dragPreviewUnsubscribe();\n        this.dragPreviewUnsubscribe = undefined;\n        this.dragPreviewNode = null;\n        this.dragPreviewRef = null;\n      }\n    }\n  }, {\n    key: \"dragSource\",\n    get: function get() {\n      return this.dragSourceNode || this.dragSourceRef && this.dragSourceRef.current;\n    }\n  }, {\n    key: \"dragPreview\",\n    get: function get() {\n      return this.dragPreviewNode || this.dragPreviewRef && this.dragPreviewRef.current;\n    }\n  }, {\n    key: \"clearDragSource\",\n    value: function clearDragSource() {\n      this.dragSourceNode = null;\n      this.dragSourceRef = null;\n    }\n  }, {\n    key: \"clearDragPreview\",\n    value: function clearDragPreview() {\n      this.dragPreviewNode = null;\n      this.dragPreviewRef = null;\n    }\n  }]);\n\n  return SourceConnector;\n}();","import { useMemo } from 'react';\nexport function useConnectDragSource(connector) {\n  return useMemo(function () {\n    return connector.hooks.dragSource();\n  }, [connector]);\n}\nexport function useConnectDragPreview(connector) {\n  return useMemo(function () {\n    return connector.hooks.dragPreview();\n  }, [connector]);\n}","import { useRegisteredDragSource } from './useRegisteredDragSource';\nimport { useOptionalFactory } from '../useOptionalFactory';\nimport { useDragSourceMonitor } from './useDragSourceMonitor';\nimport { useDragSourceConnector } from './useDragSourceConnector';\nimport { useCollectedProps } from '../useCollectedProps';\nimport { useConnectDragPreview, useConnectDragSource } from './connectors';\nimport { invariant } from '@react-dnd/invariant';\n/**\n * useDragSource hook\n * @param sourceSpec The drag source specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\n\nexport function useDrag(specArg, deps) {\n  var spec = useOptionalFactory(specArg, deps);\n  invariant(!spec.begin, \"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)\");\n  var monitor = useDragSourceMonitor();\n  var connector = useDragSourceConnector(spec.options, spec.previewOptions);\n  useRegisteredDragSource(spec, monitor, connector);\n  return [useCollectedProps(spec.collect, monitor, connector), useConnectDragSource(connector), useConnectDragPreview(connector)];\n}","import { useMemo } from 'react';\nimport { DragSourceMonitorImpl } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nexport function useDragSourceMonitor() {\n  var manager = useDragDropManager();\n  return useMemo(function () {\n    return new DragSourceMonitorImpl(manager);\n  }, [manager]);\n}","import { useMemo } from 'react';\nimport { SourceConnector } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nexport function useDragSourceConnector(dragSourceOptions, dragPreviewOptions) {\n  var manager = useDragDropManager();\n  var connector = useMemo(function () {\n    return new SourceConnector(manager.getBackend());\n  }, [manager]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragSourceOptions = dragSourceOptions || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDragSource();\n    };\n  }, [connector, dragSourceOptions]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragPreviewOptions = dragPreviewOptions || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDragPreview();\n    };\n  }, [connector, dragPreviewOptions]);\n  return connector;\n}","import { useEffect, memo } from 'react';\n/**\n * A utility for rendering a drag preview image\n */\n\nexport var DragPreviewImage = memo(function DragPreviewImage(_ref) {\n  var connect = _ref.connect,\n      src = _ref.src;\n  useEffect(function () {\n    if (typeof Image === 'undefined') return;\n    var connected = false;\n    var img = new Image();\n    img.src = src;\n\n    img.onload = function () {\n      connect(img);\n      connected = true;\n    };\n\n    return function () {\n      if (connected) {\n        connect(null);\n      }\n    };\n  });\n  return null;\n});","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { useDrag, DragPreviewImage } from 'react-dnd';\nimport { useCell, useHoverActions } from '../../hooks';\nimport React from 'react';\nexport var dragIcon = \n// tslint:disable-next-line:max-line-length\n'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAhCAYAAACbffiEAAAA6UlEQVRYhe2ZQQ6CMBBFX0njHg7ESXTp1p3uvIBewc3Em3AfdelSFwRDCAm01JRO+pa0lP8zzc9kMCKyAa7AFqhIixdwB44WuACHuHq8KWm1vwtgF1lMCPaWkevUNE3Qr9R17XTu1P5uvUdV+IpbG2qMGBH5xBYRAjUVUWPEjj10SS3XRFry3kha/VBTETVGcmqtDTVGFqdWn7k9ku96f88QNRVRYySn1tpQY8QptXz7qinmnpt7rZTIqbU21BgJ2mv1+XfCDVFTETVGjIg8SG8KP+RZ0I7lU+dmgRNgaKfyZVw9znT/R85fOHJJE77U6UcAAAAASUVORK5CYII=';\nexport var useDragHandle = function (nodeId, enabled) {\n    if (enabled === void 0) { enabled = true; }\n    var actions = useHoverActions();\n    var cell = useCell(nodeId);\n    var _a = __read(useDrag({\n        canDrag: enabled,\n        item: function () {\n            actions.dragCell(nodeId);\n            return { cell: cell };\n        },\n        type: 'cell',\n        collect: function (monitor) { return ({\n            isDragging: monitor.isDragging(),\n        }); },\n        end: function (item, monitor) {\n            if (monitor.didDrop()) {\n                // If the item drop occurred deeper down the tree, don't do anything\n                return;\n            }\n            // If drag ended but drop did not occur, cancel dragging\n            actions.cancelCellDrag();\n        },\n    }), 3), isDragging = _a[0].isDragging, dragRef = _a[1], preview = _a[2];\n    var previewElement = React.createElement(DragPreviewImage, { connect: preview, src: dragIcon });\n    return [isDragging, dragRef, previewElement];\n};\n//# sourceMappingURL=useDragHandle.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useFocusCell, useIsLayoutMode, useOption, usePluginOfCell, useUiTranslator, } from '../../hooks';\nimport { useDragHandle } from '../Draggable/useDragHandle';\nvar Handle = function (_a) {\n    var nodeId = _a.nodeId;\n    var allowMoveInEditMode = useOption('allowMoveInEditMode');\n    var isLayoutMode = useIsLayoutMode();\n    var dragEnabled = allowMoveInEditMode || isLayoutMode;\n    var _b = __read(useDragHandle(nodeId, dragEnabled), 3), isDragging = _b[0], dragRef = _b[1], previewElement = _b[2];\n    var focus = useFocusCell(nodeId);\n    var plugin = usePluginOfCell(nodeId);\n    var t = useUiTranslator().t;\n    if (!plugin) {\n        return null;\n    }\n    return (React.createElement(React.Fragment, null,\n        previewElement,\n        React.createElement(\"div\", { className: classNames('react-page-cell-handle', {\n                'react-page-cell-handle-drag-enabled': dragEnabled,\n                'react-page-cell-handle-is-dragging': isDragging,\n            }), ref: dragRef, onClick: function (e) {\n                var mode = e.metaKey || e.ctrlKey ? 'add' : 'replace';\n                focus(false, mode);\n            } }, t((plugin === null || plugin === void 0 ? void 0 : plugin.title) || (plugin === null || plugin === void 0 ? void 0 : plugin.text)))));\n};\nexport default React.memo(Handle);\n//# sourceMappingURL=index.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useCell, useFocusCell, useIsLayoutMode, useOption } from '../../hooks';\nimport { useDragHandle } from './useDragHandle';\nvar DefaultSmallHandle = function (_a) {\n    var onClick = _a.onClick;\n    return (React.createElement(\"div\", { className: \"react-page-cell-draggable-overlay-handle\", onClick: onClick },\n        React.createElement(\"div\", { className: \"react-page-cell-draggable-overlay-handle-icon\" })));\n};\nvar Draggable = function (_a) {\n    var _b;\n    var _c;\n    var isLeaf = _a.isLeaf, children = _a.children, nodeId = _a.nodeId;\n    var cell = useCell(nodeId);\n    var _d = __read(useDragHandle(nodeId), 3), isDragging = _d[0], dragRef = _d[1], previewElement = _d[2];\n    var focus = useFocusCell(nodeId);\n    var isLayoutMode = useIsLayoutMode();\n    var allowMoveInEditMode = useOption('allowMoveInEditMode');\n    var components = useOption('components');\n    var ResizeHandle = (_c = components === null || components === void 0 ? void 0 : components.EditModeResizeHandle) !== null && _c !== void 0 ? _c : DefaultSmallHandle;\n    return (React.createElement(React.Fragment, null,\n        previewElement,\n        React.createElement(\"div\", { ref: isLayoutMode ? dragRef : undefined, style: {\n                height: '100%',\n            }, className: classNames({\n                'react-page-cell-draggable-in-edit': !isLayoutMode && allowMoveInEditMode,\n                'react-page-cell-draggable': isLayoutMode,\n                'react-page-cell-draggable-is-dragging': isDragging,\n            }) },\n            isLayoutMode ? (React.createElement(\"div\", { onClick: function (e) {\n                    var mode = e.metaKey || e.ctrlKey ? 'add' : 'replace';\n                    focus(false, mode);\n                }, className: classNames((_b = {\n                        'react-page-cell-draggable-overlay': isLayoutMode\n                    },\n                    _b[\"react-page-cell-draggable-inline-\" + cell.inline] = cell.inline,\n                    _b['react-page-cell-draggable-leaf'] = isLeaf,\n                    _b)) })) : allowMoveInEditMode ? (React.createElement(\"div\", { ref: dragRef },\n                React.createElement(ResizeHandle, { onClick: focus }))) : null,\n            children)));\n};\nexport default Draggable;\n//# sourceMappingURL=index.js.map","import React from 'react';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { ThemeProvider as MaterialUiThemeProvider, StylesProvider, } from '@material-ui/styles';\nimport { createGenerateClassName } from '@material-ui/styles';\nimport darkTheme from './DarkTheme/index';\nimport { themeOptions } from './themeOptions';\nexport { darkTheme };\nvar generateClassName = createGenerateClassName({\n    disableGlobal: true,\n    seed: 'reactPage',\n    productionPrefix: 'reactPage',\n});\nvar theme = createMuiTheme(themeOptions);\nexport var ThemeProvider = function (props) {\n    return (React.createElement(StylesProvider, { injectFirst: true, generateClassName: generateClassName },\n        React.createElement(MaterialUiThemeProvider, { theme: props.theme || theme }, props.children)));\n};\n//# sourceMappingURL=index.js.map","export var themeOptions = {};\n//# sourceMappingURL=themeOptions.js.map","import { createMuiTheme } from '@material-ui/core/styles';\nvar theme = createMuiTheme({\n    palette: {\n        type: 'dark',\n    },\n});\nexport default theme;\n//# sourceMappingURL=index.js.map","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport { alpha } from '../styles/colorManipulator';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      height: 1,\n      margin: 0,\n      // Reset browser default style.\n      border: 'none',\n      flexShrink: 0,\n      backgroundColor: theme.palette.divider\n    },\n\n    /* Styles applied to the root element if `absolute={true}`. */\n    absolute: {\n      position: 'absolute',\n      bottom: 0,\n      left: 0,\n      width: '100%'\n    },\n\n    /* Styles applied to the root element if `variant=\"inset\"`. */\n    inset: {\n      marginLeft: 72\n    },\n\n    /* Styles applied to the root element if `light={true}`. */\n    light: {\n      backgroundColor: alpha(theme.palette.divider, 0.08)\n    },\n\n    /* Styles applied to the root element if `variant=\"middle\"`. */\n    middle: {\n      marginLeft: theme.spacing(2),\n      marginRight: theme.spacing(2)\n    },\n\n    /* Styles applied to the root element if `orientation=\"vertical\"`. */\n    vertical: {\n      height: '100%',\n      width: 1\n    },\n\n    /* Styles applied to the root element if `flexItem={true}`. */\n    flexItem: {\n      alignSelf: 'stretch',\n      height: 'auto'\n    }\n  };\n};\nvar Divider = /*#__PURE__*/React.forwardRef(function Divider(props, ref) {\n  var _props$absolute = props.absolute,\n      absolute = _props$absolute === void 0 ? false : _props$absolute,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'hr' : _props$component,\n      _props$flexItem = props.flexItem,\n      flexItem = _props$flexItem === void 0 ? false : _props$flexItem,\n      _props$light = props.light,\n      light = _props$light === void 0 ? false : _props$light,\n      _props$orientation = props.orientation,\n      orientation = _props$orientation === void 0 ? 'horizontal' : _props$orientation,\n      _props$role = props.role,\n      role = _props$role === void 0 ? Component !== 'hr' ? 'separator' : undefined : _props$role,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'fullWidth' : _props$variant,\n      other = _objectWithoutProperties(props, [\"absolute\", \"classes\", \"className\", \"component\", \"flexItem\", \"light\", \"orientation\", \"role\", \"variant\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className, variant !== 'fullWidth' && classes[variant], absolute && classes.absolute, flexItem && classes.flexItem, light && classes.light, orientation === 'vertical' && classes.vertical),\n    role: role,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Divider.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Absolutely position the element.\n   */\n  absolute: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * If `true`, a vertical divider will have the correct height when used in flex container.\n   * (By default, a vertical divider will have a calculated height of `0px` if it is the child of a flex container.)\n   */\n  flexItem: PropTypes.bool,\n\n  /**\n   * If `true`, the divider will have a lighter color.\n   */\n  light: PropTypes.bool,\n\n  /**\n   * The divider orientation.\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n  /**\n   * @ignore\n   */\n  role: PropTypes.string,\n\n  /**\n   * The variant to use.\n   */\n  variant: PropTypes.oneOf(['fullWidth', 'inset', 'middle'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiDivider'\n})(Divider);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport Modal from '../Modal';\nimport Backdrop from '../Backdrop';\nimport withStyles from '../styles/withStyles';\nimport Slide from '../Slide';\nimport Paper from '../Paper';\nimport capitalize from '../utils/capitalize';\nimport { duration } from '../styles/transitions';\nimport useTheme from '../styles/useTheme';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {},\n\n    /* Styles applied to the root element if `variant=\"permanent or persistent\"`. */\n    docked: {\n      flex: '0 0 auto'\n    },\n\n    /* Styles applied to the `Paper` component. */\n    paper: {\n      overflowY: 'auto',\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100%',\n      flex: '1 0 auto',\n      zIndex: theme.zIndex.drawer,\n      WebkitOverflowScrolling: 'touch',\n      // Add iOS momentum scrolling.\n      // temporary style\n      position: 'fixed',\n      top: 0,\n      // We disable the focus ring for mouse, touch and keyboard users.\n      // At some point, it would be better to keep it for keyboard users.\n      // :focus-ring CSS pseudo-class will help.\n      outline: 0\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"left\"`. */\n    paperAnchorLeft: {\n      left: 0,\n      right: 'auto'\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"right\"`. */\n    paperAnchorRight: {\n      left: 'auto',\n      right: 0\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"top\"`. */\n    paperAnchorTop: {\n      top: 0,\n      left: 0,\n      bottom: 'auto',\n      right: 0,\n      height: 'auto',\n      maxHeight: '100%'\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"bottom\"`. */\n    paperAnchorBottom: {\n      top: 'auto',\n      left: 0,\n      bottom: 0,\n      right: 0,\n      height: 'auto',\n      maxHeight: '100%'\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"left\"` and `variant` is not \"temporary\". */\n    paperAnchorDockedLeft: {\n      borderRight: \"1px solid \".concat(theme.palette.divider)\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"top\"` and `variant` is not \"temporary\". */\n    paperAnchorDockedTop: {\n      borderBottom: \"1px solid \".concat(theme.palette.divider)\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"right\"` and `variant` is not \"temporary\". */\n    paperAnchorDockedRight: {\n      borderLeft: \"1px solid \".concat(theme.palette.divider)\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"bottom\"` and `variant` is not \"temporary\". */\n    paperAnchorDockedBottom: {\n      borderTop: \"1px solid \".concat(theme.palette.divider)\n    },\n\n    /* Styles applied to the `Modal` component. */\n    modal: {}\n  };\n};\nvar oppositeDirection = {\n  left: 'right',\n  right: 'left',\n  top: 'down',\n  bottom: 'up'\n};\nexport function isHorizontal(anchor) {\n  return ['left', 'right'].indexOf(anchor) !== -1;\n}\nexport function getAnchor(theme, anchor) {\n  return theme.direction === 'rtl' && isHorizontal(anchor) ? oppositeDirection[anchor] : anchor;\n}\nvar defaultTransitionDuration = {\n  enter: duration.enteringScreen,\n  exit: duration.leavingScreen\n};\n/**\n * The props of the [Modal](/api/modal/) component are available\n * when `variant=\"temporary\"` is set.\n */\n\nvar Drawer = /*#__PURE__*/React.forwardRef(function Drawer(props, ref) {\n  var _props$anchor = props.anchor,\n      anchorProp = _props$anchor === void 0 ? 'left' : _props$anchor,\n      BackdropProps = props.BackdropProps,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$elevation = props.elevation,\n      elevation = _props$elevation === void 0 ? 16 : _props$elevation,\n      _props$ModalProps = props.ModalProps;\n  _props$ModalProps = _props$ModalProps === void 0 ? {} : _props$ModalProps;\n\n  var BackdropPropsProp = _props$ModalProps.BackdropProps,\n      ModalProps = _objectWithoutProperties(_props$ModalProps, [\"BackdropProps\"]),\n      onClose = props.onClose,\n      _props$open = props.open,\n      open = _props$open === void 0 ? false : _props$open,\n      _props$PaperProps = props.PaperProps,\n      PaperProps = _props$PaperProps === void 0 ? {} : _props$PaperProps,\n      SlideProps = props.SlideProps,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Slide : _props$TransitionComp,\n      _props$transitionDura = props.transitionDuration,\n      transitionDuration = _props$transitionDura === void 0 ? defaultTransitionDuration : _props$transitionDura,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'temporary' : _props$variant,\n      other = _objectWithoutProperties(props, [\"anchor\", \"BackdropProps\", \"children\", \"classes\", \"className\", \"elevation\", \"ModalProps\", \"onClose\", \"open\", \"PaperProps\", \"SlideProps\", \"TransitionComponent\", \"transitionDuration\", \"variant\"]);\n\n  var theme = useTheme(); // Let's assume that the Drawer will always be rendered on user space.\n  // We use this state is order to skip the appear transition during the\n  // initial mount of the component.\n\n  var mounted = React.useRef(false);\n  React.useEffect(function () {\n    mounted.current = true;\n  }, []);\n  var anchor = getAnchor(theme, anchorProp);\n  var drawer = /*#__PURE__*/React.createElement(Paper, _extends({\n    elevation: variant === 'temporary' ? elevation : 0,\n    square: true\n  }, PaperProps, {\n    className: clsx(classes.paper, classes[\"paperAnchor\".concat(capitalize(anchor))], PaperProps.className, variant !== 'temporary' && classes[\"paperAnchorDocked\".concat(capitalize(anchor))])\n  }), children);\n\n  if (variant === 'permanent') {\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      className: clsx(classes.root, classes.docked, className),\n      ref: ref\n    }, other), drawer);\n  }\n\n  var slidingDrawer = /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    in: open,\n    direction: oppositeDirection[anchor],\n    timeout: transitionDuration,\n    appear: mounted.current\n  }, SlideProps), drawer);\n\n  if (variant === 'persistent') {\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      className: clsx(classes.root, classes.docked, className),\n      ref: ref\n    }, other), slidingDrawer);\n  } // variant === temporary\n\n\n  return /*#__PURE__*/React.createElement(Modal, _extends({\n    BackdropProps: _extends({}, BackdropProps, BackdropPropsProp, {\n      transitionDuration: transitionDuration\n    }),\n    BackdropComponent: Backdrop,\n    className: clsx(classes.root, classes.modal, className),\n    open: open,\n    onClose: onClose,\n    ref: ref\n  }, other, ModalProps), slidingDrawer);\n});\nprocess.env.NODE_ENV !== \"production\" ? Drawer.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Side from which the drawer will appear.\n   */\n  anchor: PropTypes.oneOf(['bottom', 'left', 'right', 'top']),\n\n  /**\n   * @ignore\n   */\n  BackdropProps: PropTypes.object,\n\n  /**\n   * The contents of the drawer.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The elevation of the drawer.\n   */\n  elevation: PropTypes.number,\n\n  /**\n   * Props applied to the [`Modal`](/api/modal/) element.\n   */\n  ModalProps: PropTypes.object,\n\n  /**\n   * Callback fired when the component requests to be closed.\n   *\n   * @param {object} event The event source of the callback.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * If `true`, the drawer is open.\n   */\n  open: PropTypes.bool,\n\n  /**\n   * Props applied to the [`Paper`](/api/paper/) element.\n   */\n  PaperProps: PropTypes.object,\n\n  /**\n   * Props applied to the [`Slide`](/api/slide/) element.\n   */\n  SlideProps: PropTypes.object,\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   */\n  transitionDuration: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })]),\n\n  /**\n   * The variant to use.\n   */\n  variant: PropTypes.oneOf(['permanent', 'persistent', 'temporary'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiDrawer',\n  flip: false\n})(Drawer);","// Source from https://github.com/alitaheri/normalize-scroll-left\nvar cachedType;\n/**\n * Based on the jquery plugin https://github.com/othree/jquery.rtl-scroll-type\n *\n * Types of scrollLeft, assuming scrollWidth=100 and direction is rtl.\n *\n * Type             | <- Most Left | Most Right -> | Initial\n * ---------------- | ------------ | ------------- | -------\n * default          | 0            | 100           | 100\n * negative (spec*) | -100         | 0             | 0\n * reverse          | 100          | 0             | 0\n *\n * Edge 85: default\n * Safari 14: negative\n * Chrome 85: negative\n * Firefox 81: negative\n * IE 11: reverse\n *\n * spec* https://drafts.csswg.org/cssom-view/#dom-window-scroll\n */\n\nexport function detectScrollType() {\n  if (cachedType) {\n    return cachedType;\n  }\n\n  var dummy = document.createElement('div');\n  var container = document.createElement('div');\n  container.style.width = '10px';\n  container.style.height = '1px';\n  dummy.appendChild(container);\n  dummy.dir = 'rtl';\n  dummy.style.fontSize = '14px';\n  dummy.style.width = '4px';\n  dummy.style.height = '1px';\n  dummy.style.position = 'absolute';\n  dummy.style.top = '-1000px';\n  dummy.style.overflow = 'scroll';\n  document.body.appendChild(dummy);\n  cachedType = 'reverse';\n\n  if (dummy.scrollLeft > 0) {\n    cachedType = 'default';\n  } else {\n    dummy.scrollLeft = 1;\n\n    if (dummy.scrollLeft === 0) {\n      cachedType = 'negative';\n    }\n  }\n\n  document.body.removeChild(dummy);\n  return cachedType;\n} // Based on https://stackoverflow.com/a/24394376\n\nexport function getNormalizedScrollLeft(element, direction) {\n  var scrollLeft = element.scrollLeft; // Perform the calculations only when direction is rtl to avoid messing up the ltr bahavior\n\n  if (direction !== 'rtl') {\n    return scrollLeft;\n  }\n\n  var type = detectScrollType();\n\n  switch (type) {\n    case 'negative':\n      return element.scrollWidth - element.clientWidth + scrollLeft;\n\n    case 'reverse':\n      return element.scrollWidth - element.clientWidth - scrollLeft;\n\n    default:\n      return scrollLeft;\n  }\n}","import { useMediaQuery, useTheme } from '@material-ui/core';\nexport var useIsSmallScreen = function () {\n    var theme = useTheme();\n    return useMediaQuery(theme.breakpoints.down('sm'));\n};\n//# sourceMappingURL=screen.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { Divider, Drawer, Portal } from '@material-ui/core';\nimport React, { Fragment } from 'react';\nimport { useIsSmallScreen } from '../../core/components/hooks';\nvar darkBlack = 'rgba(0, 0, 0, 0.87)';\nvar bright = 'rgba(255,255,255, 0.98)';\nvar brightBorder = 'rgba(0, 0, 0, 0.12)';\nexport var BottomToolbarDrawer = function (_a) {\n    var className = _a.className, anchor = _a.anchor, open = _a.open, dark = _a.dark, _b = _a.scale, scale = _b === void 0 ? 1 : _b, children = _a.children, _c = _a.style, style = _c === void 0 ? {} : _c;\n    var divider = (React.createElement(Divider, { style: {\n            marginLeft: -24,\n            marginRight: -24,\n            marginTop: 12,\n            marginBottom: 12,\n        } }));\n    var theChildren = React.Children.toArray(children).filter(Boolean);\n    var isSmall = useIsSmallScreen();\n    return (React.createElement(Portal, null,\n        React.createElement(Drawer, { SlideProps: {\n                mountOnEnter: true,\n                unmountOnExit: true,\n            }, variant: \"persistent\", className: className, open: open, anchor: anchor, PaperProps: {\n                style: {\n                    zIndex: 10,\n                    backgroundColor: 'transparent',\n                    border: 'none',\n                    overflow: 'visible',\n                    pointerEvents: 'none',\n                },\n            } },\n            React.createElement(\"div\", { style: __assign(__assign(__assign({ pointerEvents: 'all', border: (dark ? darkBlack : brightBorder) + \" 1px solid\", borderRadius: '4px 4px 0 0', backgroundColor: dark ? darkBlack : bright, padding: '12px 24px' }, (isSmall\n                    ? {\n                        marginLeft: 20,\n                        marginRight: 80,\n                    }\n                    : {\n                        marginLeft: 'auto',\n                        marginRight: 'auto',\n                        minWidth: '50vw',\n                        maxWidth: 'min(1280px, calc(100vw - 250px))',\n                    })), { boxShadow: '0px 1px 8px -1px rgba(0,0,0,0.4)', position: 'relative', transformOrigin: 'bottom', transform: \"scale(\" + scale + \")\", transition: 'scale 0.3s' }), style) }, theChildren.map(function (child, index) { return (React.createElement(Fragment, { key: index },\n                child,\n                index < theChildren.length - 1 ? divider : null)); })))));\n};\n//# sourceMappingURL=Drawer.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nimport { isRow } from '../../../types';\n/**\n *\n * @param nodeId a cell or row\n * @param ancestors the ancestors of the node\n *\n * @returns the previous row if any or null\n */\nexport var findSiblingRow = function (nodeId, ancestors, direction) {\n    var step = direction === 'previous' ? -1 : 1;\n    var _a = __read(ancestors), parent = _a[0], olderAncestors = _a.slice(1);\n    if (!parent)\n        return null;\n    var greatParent = olderAncestors[0];\n    if (isRow(parent)) {\n        if (greatParent && !isRow(greatParent)) {\n            var parentIndex = greatParent.rows.findIndex(function (r) { return r.id === parent.id; });\n            var siblingRow = greatParent.rows[parentIndex + step];\n            if (siblingRow) {\n                return findInnerRow(siblingRow, direction);\n            }\n        }\n    }\n    else {\n        // so parent is a cell, so i am a row, previous row is therefor\n        var myIndex = parent.rows.findIndex(function (r) { return r.id === nodeId; });\n        var siblingRow = parent.rows[myIndex + step];\n        if (siblingRow) {\n            return findInnerRow(siblingRow, direction);\n        }\n    }\n    // nothing found, go one level deeper\n    return findSiblingRow(parent.id, olderAncestors, direction);\n};\nvar findInnerRow = function (node, direction) {\n    var e_1, _a, e_2, _b;\n    var found = null;\n    if (isRow(node)) {\n        var cells = direction === 'previous' ? __spreadArray([], __read(node.cells), false).reverse() : node.cells;\n        try {\n            for (var cells_1 = __values(cells), cells_1_1 = cells_1.next(); !cells_1_1.done; cells_1_1 = cells_1.next()) {\n                var cell = cells_1_1.value;\n                found = findInnerRow(cell, direction);\n                if (found) {\n                    break;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (cells_1_1 && !cells_1_1.done && (_a = cells_1.return)) _a.call(cells_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        if (!found) {\n            found = node;\n        }\n    }\n    else {\n        if (node.rows) {\n            var rows = direction === 'previous' ? __spreadArray([], __read(node.rows), false).reverse() : node.rows;\n            try {\n                for (var rows_1 = __values(rows), rows_1_1 = rows_1.next(); !rows_1_1.done; rows_1_1 = rows_1.next()) {\n                    var row = rows_1_1.value;\n                    found = findInnerRow(row, direction);\n                    if (found) {\n                        break;\n                    }\n                }\n            }\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n            finally {\n                try {\n                    if (rows_1_1 && !rows_1_1.done && (_b = rows_1.return)) _b.call(rows_1);\n                }\n                finally { if (e_2) throw e_2.error; }\n            }\n        }\n    }\n    return found;\n};\n//# sourceMappingURL=findSiblingRow.js.map","import { useMemo } from 'react';\nimport { isRow } from '../../../core/types';\nimport { useIsEditMode } from './displayMode';\nimport { useDropActions } from './dragDropActions';\nimport { useNodeAsHoverTarget, useNodeProps } from './node';\nimport { findSiblingRow } from './utils/findSiblingRow';\nexport var getTargetIndexForUpAndDownMove = function (currentRowLength, targetRowLength, myIndex) {\n    var factor = (targetRowLength + 1) / currentRowLength;\n    var target = myIndex * factor;\n    var wasLast = myIndex === currentRowLength - 1;\n    var index = wasLast\n        ? targetRowLength - 1\n        : Math.min(Math.floor(target), targetRowLength - 1);\n    return {\n        action: wasLast || target - index > 0.5 ? 'rightOf' : 'leftOf',\n        index: index,\n    };\n};\nvar useMoveCellAction = function (nodeId, selector) {\n    var actions = useDropActions(nodeId);\n    var _a = useNodeProps(nodeId, selector), node = _a.node, targetNodeId = _a.targetNodeId, action = _a.action;\n    var isEditMode = useIsEditMode();\n    var hoverTarget = useNodeAsHoverTarget(targetNodeId);\n    return useMemo(function () {\n        // skip if no target\n        if (!hoverTarget) {\n            return null;\n        }\n        return function () {\n            actions[action](node, hoverTarget, { focusAfter: isEditMode });\n        };\n    }, [isEditMode, actions, hoverTarget, node]);\n};\nexport var useMoveNodeUp = function (nodeId) {\n    return useMoveCellAction(nodeId, function (node, ancestors) {\n        var _a, _b, _c;\n        // if node is not the only sibling in the row, put it above the row to stretch it\n        var rowWithMoreThanOneCell = searchAncestorRows(ancestors, function (row) {\n            if ((row === null || row === void 0 ? void 0 : row.cells.length) > 1) {\n                return row;\n            }\n            return null;\n        }, \n        // breakIf\n        // break if a parent row is not the first row of a cell, because then we would \"jump\" a parent\n        function (row, parentOfRow) {\n            var _a;\n            return (parentOfRow &&\n                ((_a = parentOfRow === null || parentOfRow === void 0 ? void 0 : parentOfRow.rows) === null || _a === void 0 ? void 0 : _a.findIndex(function (r) { return r.id === row.id; })) !== 0);\n        });\n        if (rowWithMoreThanOneCell) {\n            return {\n                action: 'above',\n                node: node,\n                targetNodeId: rowWithMoreThanOneCell === null || rowWithMoreThanOneCell === void 0 ? void 0 : rowWithMoreThanOneCell.id,\n            };\n        }\n        var parent = isRow(ancestors === null || ancestors === void 0 ? void 0 : ancestors[0]) ? ancestors === null || ancestors === void 0 ? void 0 : ancestors[0] : null;\n        // else move it into previous row as sibling\n        var myIndexInParent = parent === null || parent === void 0 ? void 0 : parent.cells.findIndex(function (c) { return c.id === nodeId; });\n        var previousRow = findSiblingRow(nodeId, ancestors, 'previous');\n        var previousRowCells = previousRow === null || previousRow === void 0 ? void 0 : previousRow.cells;\n        var _d = getTargetIndexForUpAndDownMove((_b = (_a = parent === null || parent === void 0 ? void 0 : parent.cells) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0, previousRowCells === null || previousRowCells === void 0 ? void 0 : previousRowCells.length, myIndexInParent), index = _d.index, action = _d.action;\n        return {\n            action: action,\n            node: node,\n            targetNodeId: (_c = previousRowCells === null || previousRowCells === void 0 ? void 0 : previousRowCells[index]) === null || _c === void 0 ? void 0 : _c.id,\n        };\n    });\n};\nexport var useMoveNodeDown = function (nodeId) {\n    return useMoveCellAction(nodeId, function (node, ancestors) {\n        var _a, _b, _c;\n        // if node is not the only sibling in the row, put it below the row to stretch it\n        var rowWithMoreThanOneCell = searchAncestorRows(ancestors, function (row) {\n            if ((row === null || row === void 0 ? void 0 : row.cells.length) > 1) {\n                return row;\n            }\n            return null;\n        }, \n        // breakIf\n        // break if a parent row is not the last row of a cell, because then we would \"jump\" a parent\n        function (row, parentOfRow) {\n            var _a;\n            return (parentOfRow &&\n                ((_a = parentOfRow === null || parentOfRow === void 0 ? void 0 : parentOfRow.rows) === null || _a === void 0 ? void 0 : _a.findIndex(function (r) { return r.id === row.id; })) !==\n                    parentOfRow.rows.length - 1);\n        });\n        if (rowWithMoreThanOneCell) {\n            return {\n                action: 'below',\n                node: node,\n                targetNodeId: rowWithMoreThanOneCell === null || rowWithMoreThanOneCell === void 0 ? void 0 : rowWithMoreThanOneCell.id,\n            };\n        }\n        // else move it into next row as sibling\n        var parent = isRow(ancestors === null || ancestors === void 0 ? void 0 : ancestors[0]) ? ancestors === null || ancestors === void 0 ? void 0 : ancestors[0] : null;\n        var nextRow = findSiblingRow(nodeId, ancestors, 'next');\n        var myIndexInParent = parent === null || parent === void 0 ? void 0 : parent.cells.findIndex(function (c) { return c.id === nodeId; });\n        var nextRowCells = nextRow === null || nextRow === void 0 ? void 0 : nextRow.cells;\n        var _d = getTargetIndexForUpAndDownMove((_b = (_a = parent === null || parent === void 0 ? void 0 : parent.cells) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0, nextRowCells === null || nextRowCells === void 0 ? void 0 : nextRowCells.length, myIndexInParent), index = _d.index, action = _d.action;\n        return {\n            action: action,\n            node: node,\n            targetNodeId: (_c = nextRowCells === null || nextRowCells === void 0 ? void 0 : nextRowCells[index]) === null || _c === void 0 ? void 0 : _c.id,\n        };\n    });\n};\nvar searchAncestorRows = function (ancestors, find, breakIf) {\n    for (var i = 0; i < ancestors.length; i++) {\n        var parent_1 = ancestors[i];\n        var greatParent = ancestors[i + 1];\n        var parentRow = isRow(parent_1) ? parent_1 : null;\n        var greatParentCell = greatParent && isRow(greatParent) ? null : greatParent;\n        if (parentRow) {\n            var found = find(parentRow, greatParentCell);\n            if (found)\n                return found;\n        }\n        if (breakIf && breakIf(parentRow, greatParentCell)) {\n            return null;\n        }\n    }\n    return null;\n};\nexport var useMoveNodeLeft = function (nodeId) {\n    return useMoveCellAction(nodeId, function (node, ancestors) {\n        var previousSibling = searchAncestorRows(ancestors, function (row) {\n            var myIndexInParent = row === null || row === void 0 ? void 0 : row.cells.findIndex(function (c) { return c.id === nodeId; });\n            return row === null || row === void 0 ? void 0 : row.cells[myIndexInParent - 1];\n        });\n        return {\n            action: 'leftOf',\n            node: node,\n            targetNodeId: previousSibling === null || previousSibling === void 0 ? void 0 : previousSibling.id,\n        };\n    });\n};\nexport var useMoveNodeRight = function (nodeId) {\n    return useMoveCellAction(nodeId, function (node, ancestors) {\n        var nextSibling = searchAncestorRows(ancestors, function (row) {\n            var myIndexInParent = row === null || row === void 0 ? void 0 : row.cells.findIndex(function (c) { return c.id === nodeId; });\n            return row === null || row === void 0 ? void 0 : row.cells[myIndexInParent + 1];\n        });\n        return {\n            action: 'rightOf',\n            node: node,\n            targetNodeId: nextSibling === null || nextSibling === void 0 ? void 0 : nextSibling.id,\n        };\n    });\n};\n//# sourceMappingURL=nodeMove.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { Fab } from '@material-ui/core';\nimport React from 'react';\nimport IconUp from '@material-ui/icons/ArrowDropUp';\nimport IconDown from '@material-ui/icons/ArrowDropDown';\nimport IconRight from '@material-ui/icons/ArrowRight';\nimport IconLeft from '@material-ui/icons/ArrowLeft';\nimport { useMoveNodeDown, useMoveNodeUp, useMoveNodeLeft, useMoveNodeRight, } from '../../core/components/hooks';\nvar Base = function (_a) {\n    // don't show at all\n    var onClick = _a.onClick, icon = _a.icon, style = _a.style;\n    return (React.createElement(Fab, { disabled: !onClick, style: __assign({ margin: 10, pointerEvents: 'all' }, style), size: \"small\", onClick: onClick, color: \"primary\" }, icon));\n};\nexport var MoveUp = function (_a) {\n    var nodeId = _a.nodeId, style = _a.style;\n    var moveUp = useMoveNodeUp(nodeId);\n    return React.createElement(Base, { onClick: moveUp, icon: React.createElement(IconUp, null), style: style });\n};\nexport var MoveDown = function (_a) {\n    var nodeId = _a.nodeId, style = _a.style;\n    var moveDown = useMoveNodeDown(nodeId);\n    return React.createElement(Base, { onClick: moveDown, icon: React.createElement(IconDown, null), style: style });\n};\nexport var MoveLeft = function (_a) {\n    var nodeId = _a.nodeId, style = _a.style;\n    var moveLeft = useMoveNodeLeft(nodeId);\n    return React.createElement(Base, { onClick: moveLeft, icon: React.createElement(IconLeft, null), style: style });\n};\nexport var MoveRight = function (_a) {\n    var nodeId = _a.nodeId, style = _a.style;\n    var moveRight = useMoveNodeRight(nodeId);\n    return React.createElement(Base, { onClick: moveRight, icon: React.createElement(IconRight, null), style: style });\n};\n//# sourceMappingURL=index.js.map","import React from 'react';\nimport { MoveLeft, MoveRight, MoveDown, MoveUp } from '../moveButtons';\nvar MoveActions = function (_a) {\n    var nodeId = _a.nodeId;\n    return (React.createElement(\"div\", null,\n        React.createElement(MoveLeft, { nodeId: nodeId }),\n        React.createElement(MoveUp, { nodeId: nodeId }),\n        React.createElement(MoveDown, { nodeId: nodeId }),\n        React.createElement(MoveRight, { nodeId: nodeId })));\n};\nexport default MoveActions;\n//# sourceMappingURL=MoveActions.js.map","import { FormControlLabel, Switch, Tooltip } from '@material-ui/core';\nimport VisibleIcon from '@material-ui/icons/Visibility';\nimport NonVisibleIcon from '@material-ui/icons/VisibilityOff';\nimport React from 'react';\nimport { useCellProps, useLang, useSetDraft, useUiTranslator, } from '../../core/components/hooks';\nvar DraftSwitch = function (_a) {\n    var _b, _c;\n    var nodeId = _a.nodeId, lang = _a.lang;\n    var t = useUiTranslator().t;\n    var cell = useCellProps(nodeId, function (c) { return ({\n        isDraft: c === null || c === void 0 ? void 0 : c.isDraft,\n        isDraftI18n: c === null || c === void 0 ? void 0 : c.isDraftI18n,\n    }); });\n    var setDraft = useSetDraft(nodeId);\n    var currentLang = useLang();\n    if (!cell) {\n        return null;\n    }\n    var theLang = lang !== null && lang !== void 0 ? lang : currentLang;\n    var hasI18n = Boolean(cell.isDraftI18n);\n    var isDraft = (_c = (_b = cell === null || cell === void 0 ? void 0 : cell.isDraftI18n) === null || _b === void 0 ? void 0 : _b[theLang]) !== null && _c !== void 0 ? _c : cell === null || cell === void 0 ? void 0 : cell.isDraft; // fallback to legacy\n    var title = t(isDraft ? 'Content is hidden' : 'Content is visible');\n    return cell ? (React.createElement(Tooltip, { title: title + (hasI18n ? ' in ' + theLang : '') },\n        React.createElement(FormControlLabel, { style: { marginRight: 5 }, labelPlacement: \"start\", control: React.createElement(Switch, { color: \"primary\", checked: !isDraft, onChange: function (e) {\n                    setDraft(!e.target.checked, theLang);\n                } }), label: isDraft ? (React.createElement(NonVisibleIcon, { style: { marginTop: 5 } })) : (React.createElement(VisibleIcon, { style: { marginTop: 5 } })) }))) : null;\n};\nexport default DraftSwitch;\n//# sourceMappingURL=index.js.map","import { IconButton, Tooltip } from '@material-ui/core';\nimport Icon from '@material-ui/icons/FileCopy';\nimport React from 'react';\nimport { useDuplicateCell, useUiTranslator } from '../../core/components/hooks';\nexport var DuplicateButton = React.memo(function (_a) {\n    var nodeId = _a.nodeId;\n    var duplicateCell = useDuplicateCell(nodeId);\n    var t = useUiTranslator().t;\n    return (React.createElement(Tooltip, { title: t('Duplicate Plugin') },\n        React.createElement(IconButton, { onClick: duplicateCell, \"aria-label\": \"delete\", color: \"default\" },\n            React.createElement(Icon, null))));\n});\n//# sourceMappingURL=index.js.map","import { Select } from '@material-ui/core';\nimport React, { memo } from 'react';\nimport { useLang, useOption, useSetLang } from '../../core/components/hooks';\nvar SelectLang = function () {\n    var languages = useOption('languages');\n    var lang = useLang();\n    var setLang = useSetLang();\n    if ((languages === null || languages === void 0 ? void 0 : languages.length) > 0) {\n        return (React.createElement(Select, { value: lang || '', onChange: function (e) { return setLang(e.target.value); } }, languages.map(function (l) { return (React.createElement(\"option\", { key: l.lang, value: l.lang }, l.label)); })));\n    }\n    return null;\n};\nexport default memo(SelectLang);\n//# sourceMappingURL=SelectLang.js.map","import { Button, DialogContent, Table } from '@material-ui/core';\nimport Translate from '@material-ui/icons/Translate';\nimport React, { useCallback } from 'react';\nimport { useCellDataI18nRaw, useLang, useOption, useSetLang, useUiTranslator, useUpdateCellData, } from '../../core/components/hooks';\nimport DraftSwitch from '../DraftSwitch';\nimport SelectLang from './SelectLang';\nvar I18nDialog = function (_a) {\n    var _b;\n    var nodeId = _a.nodeId, onClose = _a.onClose;\n    var currentLang = useLang();\n    var languages = useOption('languages');\n    var t = useUiTranslator().t;\n    var setLang = useSetLang();\n    var dataI18n = useCellDataI18nRaw(nodeId);\n    var updateCellData = useUpdateCellData(nodeId);\n    var reset = useCallback(function (lang) {\n        updateCellData(null, {\n            lang: lang,\n        });\n    }, [updateCellData]);\n    var defaultLangLabel = (_b = languages === null || languages === void 0 ? void 0 : languages[0]) === null || _b === void 0 ? void 0 : _b.label;\n    return (React.createElement(DialogContent, null,\n        React.createElement(\"div\", { style: { display: 'flex', alignItems: 'center' } },\n            React.createElement(Translate, { style: { marginRight: 'auto' } }),\n            \" \",\n            React.createElement(SelectLang, null)),\n        React.createElement(\"hr\", null),\n        React.createElement(Table, null,\n            React.createElement(\"tbody\", null, languages.map(function (l, index) {\n                var data = dataI18n === null || dataI18n === void 0 ? void 0 : dataI18n[l.lang];\n                var isCurrent = currentLang === l.lang;\n                var hasData = Boolean(data);\n                return (React.createElement(\"tr\", { key: l.lang },\n                    React.createElement(\"th\", { style: {\n                            textAlign: 'left',\n                            textDecoration: isCurrent ? 'underline' : undefined,\n                        } },\n                        React.createElement(Button, { onClick: function () { return setLang(l.lang); } },\n                            l.label,\n                            \" \",\n                            index === 0 ? t('(default)') : null)),\n                    React.createElement(\"td\", null,\n                        React.createElement(DraftSwitch, { nodeId: nodeId, lang: l.lang })),\n                    React.createElement(\"td\", null, hasData ? '' : ' '),\n                    React.createElement(\"td\", null, hasData && index !== 0 ? (React.createElement(Button, { onClick: function () {\n                            reset(l.lang);\n                        } }, t(\"Reset to \" + defaultLangLabel + \" \\u26A0\\uFE0F\"))) : null)));\n            }))),\n        React.createElement(Button, { onClick: function () { return onClose(); } }, t('Close'))));\n};\nexport default I18nDialog;\n//# sourceMappingURL=I18nDialog.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { IconButton, Dialog } from '@material-ui/core';\nimport Translate from '@material-ui/icons/Translate';\nimport React, { useState } from 'react';\nimport SelectLang from './SelectLang';\nimport I18nDialog from './I18nDialog';\nimport { useOption } from '../../core/components/hooks';\nexport var I18nTools = React.memo(function (_a) {\n    var nodeId = _a.nodeId;\n    var languages = useOption('languages');\n    var _b = __read(useState(false), 2), showI18nDialog = _b[0], setShowI18nDialog = _b[1];\n    var hasI18n = (languages === null || languages === void 0 ? void 0 : languages.length) > 0;\n    var onClose = function () { return setShowI18nDialog(false); };\n    if (!hasI18n) {\n        return null;\n    }\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Dialog, { open: showI18nDialog, onClose: onClose },\n            React.createElement(I18nDialog, { nodeId: nodeId, onClose: onClose })),\n        React.createElement(\"div\", { style: { display: 'flex', alignItems: 'center' } },\n            React.createElement(IconButton, { onClick: function () { return setShowI18nDialog(true); }, \"aria-label\": \"i18n\", color: \"secondary\" },\n                React.createElement(Translate, null)),\n            React.createElement(SelectLang, null))));\n});\n//# sourceMappingURL=index.js.map","import IconButton from '@material-ui/core/IconButton';\nimport VerticalAlignTopIcon from '@material-ui/icons/VerticalAlignTop';\nimport React from 'react';\nimport { useFocusCell, useParentCellId, useUiTranslator, } from '../../core/components/hooks';\nexport var SelectParentButton = React.memo(function (_a) {\n    var nodeId = _a.nodeId;\n    var parentCellId = useParentCellId(nodeId);\n    var t = useUiTranslator().t;\n    var focusParent = useFocusCell(parentCellId);\n    return parentCellId ? (React.createElement(IconButton, { className: \"bottomToolbar__selectParentButton\", onClick: function () { return focusParent(); }, color: \"default\", title: t('Select parent') },\n        React.createElement(VerticalAlignTopIcon, null))) : null;\n});\n//# sourceMappingURL=index.js.map","import { IconButton, Tooltip } from '@material-ui/core';\nimport Delete from '@material-ui/icons/Delete';\nimport React from 'react';\nimport { useRemoveCell, useUiTranslator } from '../../core/components/hooks';\nimport DraftSwitch from '../DraftSwitch';\nimport { DuplicateButton } from '../DuplicateButton';\nimport { I18nTools } from '../I18nTools';\nimport { SelectParentButton } from '../SelectParentButton';\nexport var BottomToolbarTools = React.memo(function (_a) {\n    var nodeId = _a.nodeId;\n    var t = useUiTranslator().t;\n    var removeCell = useRemoveCell(nodeId);\n    return (React.createElement(\"div\", { style: { display: 'flex', alignItems: 'center' } },\n        React.createElement(I18nTools, { nodeId: nodeId }),\n        React.createElement(DraftSwitch, { nodeId: nodeId }),\n        React.createElement(SelectParentButton, { nodeId: nodeId }),\n        React.createElement(DuplicateButton, { nodeId: nodeId }),\n        React.createElement(Tooltip, { title: t('Remove Plugin') },\n            React.createElement(IconButton, { onClick: function () { return removeCell(); }, \"aria-label\": \"delete\", color: \"secondary\" },\n                React.createElement(Delete, null)))));\n});\n//# sourceMappingURL=Tools.js.map","import { Avatar, Grid, Typography } from '@material-ui/core';\nimport React from 'react';\nimport { useFocusCell, useOption, usePluginOfCell, useUiTranslator, } from '../../core/components/hooks';\nimport MoveActions from './MoveActions';\nimport { BottomToolbarTools } from './Tools';\nexport var BottomToolbarMainBar = React.memo(function (_a) {\n    var _b;\n    var nodeId = _a.nodeId, actionsLeft = _a.actionsLeft;\n    var _c = (_b = usePluginOfCell(nodeId)) !== null && _b !== void 0 ? _b : {}, title = _c.title, icon = _c.icon;\n    var t = useUiTranslator().t;\n    var focus = useFocusCell(nodeId);\n    var showMoveButtons = useOption('showMoveButtonsInBottomToolbar');\n    return (React.createElement(\"div\", null,\n        React.createElement(Grid, { container: true, direction: \"row\", alignItems: \"center\" },\n            icon || title ? (React.createElement(Grid, { item: true },\n                React.createElement(Avatar, { onClick: function () { return focus(true); }, children: icon || (title ? title[0] : ''), style: {\n                        cursor: 'pointer',\n                        marginRight: 16,\n                    } }))) : null,\n            React.createElement(Grid, { item: true },\n                React.createElement(Typography, { variant: \"subtitle1\" }, t(title))),\n            actionsLeft &&\n                React.Children.map(actionsLeft, function (action, index) { return (React.createElement(Grid, { item: true, key: index }, action)); }),\n            showMoveButtons ? (React.createElement(Grid, { item: true, style: { marginLeft: 'auto' } },\n                React.createElement(MoveActions, { nodeId: nodeId }))) : null,\n            React.createElement(Grid, { item: true, style: { marginLeft: 'auto' } },\n                React.createElement(BottomToolbarTools, { nodeId: nodeId })))));\n});\n//# sourceMappingURL=NodeTools.js.map","import { IconButton, Tooltip } from '@material-ui/core';\nimport ScaleIcon from '@material-ui/icons/AspectRatio';\nimport React from 'react';\nimport { useUiTranslator } from '../../core/components/hooks';\nvar SCALING_FACTORS = [1, 0.8, 0.6, 1.2];\nvar lastScale = SCALING_FACTORS[0]; // poor mans redux\nexport var ScaleButton = function (_a) {\n    var scale = _a.scale, setScale = _a.setScale;\n    var t = useUiTranslator().t;\n    var toggleScale = React.useCallback(function () {\n        var newScalingFactor = SCALING_FACTORS[(SCALING_FACTORS.indexOf(lastScale !== null && lastScale !== void 0 ? lastScale : scale) + 1) %\n            SCALING_FACTORS.length];\n        setScale(newScalingFactor);\n        // poor man's redux\n        lastScale = newScalingFactor;\n    }, [scale, lastScale, setScale]);\n    return (React.createElement(Tooltip, { title: t('Change size of this window') },\n        React.createElement(IconButton, { onClick: toggleScale, \"aria-label\": \"Change size of this window\", color: \"primary\" },\n            React.createElement(ScaleIcon, null))));\n};\n//# sourceMappingURL=ScaleButton.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React from 'react';\nimport { darkTheme, ThemeProvider } from '../ThemeProvider';\nimport { BottomToolbarDrawer } from './Drawer';\nimport { BottomToolbarMainBar } from './NodeTools';\nimport { ScaleButton } from './ScaleButton';\nexport * from './types';\nexport * from './Drawer';\nexport * from './NodeTools';\nexport * from './Tools';\nexport var BottomToolbar = React.memo(function (_a) {\n    var _b = _a.open, open = _b === void 0 ? false : _b, className = _a.className, _c = _a.dark, dark = _c === void 0 ? false : _c, theme = _a.theme, _d = _a.anchor, anchor = _d === void 0 ? 'bottom' : _d, pluginControls = _a.pluginControls, nodeId = _a.nodeId, actionsLeft = _a.actionsLeft, style = _a.style, children = _a.children;\n    var _e = __read(React.useState(1), 2), scale = _e[0], setScale = _e[1];\n    return (React.createElement(ThemeProvider, { theme: theme ? theme : dark ? darkTheme : null },\n        React.createElement(BottomToolbarDrawer, { className: className, open: open, anchor: anchor, scale: scale, dark: dark, style: style },\n            children,\n            pluginControls,\n            React.createElement(BottomToolbarMainBar, { nodeId: nodeId, actionsLeft: __spreadArray([\n                    React.createElement(ScaleButton, { key: \"scalebutton\", scale: scale, setScale: setScale })\n                ], __read(React.Children.toArray(actionsLeft)), false) }))));\n});\n//# sourceMappingURL=index.js.map","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport ButtonBase from '../ButtonBase';\nimport capitalize from '../utils/capitalize';\nimport unsupportedProp from '../utils/unsupportedProp';\nexport var styles = function styles(theme) {\n  var _extends2;\n\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.button, (_extends2 = {\n      maxWidth: 264,\n      minWidth: 72,\n      position: 'relative',\n      boxSizing: 'border-box',\n      minHeight: 48,\n      flexShrink: 0,\n      padding: '6px 12px'\n    }, _defineProperty(_extends2, theme.breakpoints.up('sm'), {\n      padding: '6px 24px'\n    }), _defineProperty(_extends2, \"overflow\", 'hidden'), _defineProperty(_extends2, \"whiteSpace\", 'normal'), _defineProperty(_extends2, \"textAlign\", 'center'), _defineProperty(_extends2, theme.breakpoints.up('sm'), {\n      minWidth: 160\n    }), _extends2)),\n\n    /* Styles applied to the root element if both `icon` and `label` are provided. */\n    labelIcon: {\n      minHeight: 72,\n      paddingTop: 9,\n      '& $wrapper > *:first-child': {\n        marginBottom: 6\n      }\n    },\n\n    /* Styles applied to the root element if the parent [`Tabs`](/api/tabs/) has `textColor=\"inherit\"`. */\n    textColorInherit: {\n      color: 'inherit',\n      opacity: 0.7,\n      '&$selected': {\n        opacity: 1\n      },\n      '&$disabled': {\n        opacity: 0.5\n      }\n    },\n\n    /* Styles applied to the root element if the parent [`Tabs`](/api/tabs/) has `textColor=\"primary\"`. */\n    textColorPrimary: {\n      color: theme.palette.text.secondary,\n      '&$selected': {\n        color: theme.palette.primary.main\n      },\n      '&$disabled': {\n        color: theme.palette.text.disabled\n      }\n    },\n\n    /* Styles applied to the root element if the parent [`Tabs`](/api/tabs/) has `textColor=\"secondary\"`. */\n    textColorSecondary: {\n      color: theme.palette.text.secondary,\n      '&$selected': {\n        color: theme.palette.secondary.main\n      },\n      '&$disabled': {\n        color: theme.palette.text.disabled\n      }\n    },\n\n    /* Pseudo-class applied to the root element if `selected={true}` (controlled by the Tabs component). */\n    selected: {},\n\n    /* Pseudo-class applied to the root element if `disabled={true}` (controlled by the Tabs component). */\n    disabled: {},\n\n    /* Styles applied to the root element if `fullWidth={true}` (controlled by the Tabs component). */\n    fullWidth: {\n      flexShrink: 1,\n      flexGrow: 1,\n      flexBasis: 0,\n      maxWidth: 'none'\n    },\n\n    /* Styles applied to the root element if `wrapped={true}`. */\n    wrapped: {\n      fontSize: theme.typography.pxToRem(12),\n      lineHeight: 1.5\n    },\n\n    /* Styles applied to the `icon` and `label`'s wrapper element. */\n    wrapper: {\n      display: 'inline-flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      width: '100%',\n      flexDirection: 'column'\n    }\n  };\n};\nvar Tab = /*#__PURE__*/React.forwardRef(function Tab(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      _props$disableFocusRi = props.disableFocusRipple,\n      disableFocusRipple = _props$disableFocusRi === void 0 ? false : _props$disableFocusRi,\n      fullWidth = props.fullWidth,\n      icon = props.icon,\n      indicator = props.indicator,\n      label = props.label,\n      onChange = props.onChange,\n      onClick = props.onClick,\n      onFocus = props.onFocus,\n      selected = props.selected,\n      selectionFollowsFocus = props.selectionFollowsFocus,\n      _props$textColor = props.textColor,\n      textColor = _props$textColor === void 0 ? 'inherit' : _props$textColor,\n      value = props.value,\n      _props$wrapped = props.wrapped,\n      wrapped = _props$wrapped === void 0 ? false : _props$wrapped,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"disabled\", \"disableFocusRipple\", \"fullWidth\", \"icon\", \"indicator\", \"label\", \"onChange\", \"onClick\", \"onFocus\", \"selected\", \"selectionFollowsFocus\", \"textColor\", \"value\", \"wrapped\"]);\n\n  var handleClick = function handleClick(event) {\n    if (onChange) {\n      onChange(event, value);\n    }\n\n    if (onClick) {\n      onClick(event);\n    }\n  };\n\n  var handleFocus = function handleFocus(event) {\n    if (selectionFollowsFocus && !selected && onChange) {\n      onChange(event, value);\n    }\n\n    if (onFocus) {\n      onFocus(event);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(ButtonBase, _extends({\n    focusRipple: !disableFocusRipple,\n    className: clsx(classes.root, classes[\"textColor\".concat(capitalize(textColor))], className, disabled && classes.disabled, selected && classes.selected, label && icon && classes.labelIcon, fullWidth && classes.fullWidth, wrapped && classes.wrapped),\n    ref: ref,\n    role: \"tab\",\n    \"aria-selected\": selected,\n    disabled: disabled,\n    onClick: handleClick,\n    onFocus: handleFocus,\n    tabIndex: selected ? 0 : -1\n  }, other), /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.wrapper\n  }, icon, label), indicator);\n});\nprocess.env.NODE_ENV !== \"production\" ? Tab.propTypes = {\n  /**\n   * This prop isn't supported.\n   * Use the `component` prop if you need to change the children structure.\n   */\n  children: unsupportedProp,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the tab will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the  keyboard focus ripple will be disabled.\n   */\n  disableFocusRipple: PropTypes.bool,\n\n  /**\n   * If `true`, the ripple effect will be disabled.\n   */\n  disableRipple: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  fullWidth: PropTypes.bool,\n\n  /**\n   * The icon element.\n   */\n  icon: PropTypes.node,\n\n  /**\n   * @ignore\n   * For server-side rendering consideration, we let the selected tab\n   * render the indicator.\n   */\n  indicator: PropTypes.node,\n\n  /**\n   * The label element.\n   */\n  label: PropTypes.node,\n\n  /**\n   * @ignore\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  selected: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  selectionFollowsFocus: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  textColor: PropTypes.oneOf(['secondary', 'primary', 'inherit']),\n\n  /**\n   * You can provide your own value. Otherwise, we fallback to the child position index.\n   */\n  value: PropTypes.any,\n\n  /**\n   * Tab labels appear in a single row.\n   * They can use a second line if needed.\n   */\n  wrapped: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiTab'\n})(Tab);","function easeInOutSin(time) {\n  return (1 + Math.sin(Math.PI * time - Math.PI / 2)) / 2;\n}\n\nexport default function animate(property, element, to) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var cb = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : function () {};\n  var _options$ease = options.ease,\n      ease = _options$ease === void 0 ? easeInOutSin : _options$ease,\n      _options$duration = options.duration,\n      duration = _options$duration === void 0 ? 300 : _options$duration;\n  var start = null;\n  var from = element[property];\n  var cancelled = false;\n\n  var cancel = function cancel() {\n    cancelled = true;\n  };\n\n  var step = function step(timestamp) {\n    if (cancelled) {\n      cb(new Error('Animation cancelled'));\n      return;\n    }\n\n    if (start === null) {\n      start = timestamp;\n    }\n\n    var time = Math.min(1, (timestamp - start) / duration);\n    element[property] = ease(time) * (to - from) + from;\n\n    if (time >= 1) {\n      requestAnimationFrame(function () {\n        cb(null);\n      });\n      return;\n    }\n\n    requestAnimationFrame(step);\n  };\n\n  if (from === to) {\n    cb(new Error('Element already at target position'));\n    return cancel;\n  }\n\n  requestAnimationFrame(step);\n  return cancel;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport debounce from '../utils/debounce';\nvar styles = {\n  width: 99,\n  height: 99,\n  position: 'absolute',\n  top: -9999,\n  overflow: 'scroll'\n};\n/**\n * @ignore - internal component.\n * The component originates from https://github.com/STORIS/react-scrollbar-size.\n * It has been moved into the core in order to minimize the bundle size.\n */\n\nexport default function ScrollbarSize(props) {\n  var onChange = props.onChange,\n      other = _objectWithoutProperties(props, [\"onChange\"]);\n\n  var scrollbarHeight = React.useRef();\n  var nodeRef = React.useRef(null);\n\n  var setMeasurements = function setMeasurements() {\n    scrollbarHeight.current = nodeRef.current.offsetHeight - nodeRef.current.clientHeight;\n  };\n\n  React.useEffect(function () {\n    var handleResize = debounce(function () {\n      var prevHeight = scrollbarHeight.current;\n      setMeasurements();\n\n      if (prevHeight !== scrollbarHeight.current) {\n        onChange(scrollbarHeight.current);\n      }\n    });\n    window.addEventListener('resize', handleResize);\n    return function () {\n      handleResize.clear();\n      window.removeEventListener('resize', handleResize);\n    };\n  }, [onChange]);\n  React.useEffect(function () {\n    setMeasurements();\n    onChange(scrollbarHeight.current);\n  }, [onChange]);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    style: styles,\n    ref: nodeRef\n  }, other));\n}\nprocess.env.NODE_ENV !== \"production\" ? ScrollbarSize.propTypes = {\n  onChange: PropTypes.func.isRequired\n} : void 0;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    root: {\n      position: 'absolute',\n      height: 2,\n      bottom: 0,\n      width: '100%',\n      transition: theme.transitions.create()\n    },\n    colorPrimary: {\n      backgroundColor: theme.palette.primary.main\n    },\n    colorSecondary: {\n      backgroundColor: theme.palette.secondary.main\n    },\n    vertical: {\n      height: '100%',\n      width: 2,\n      right: 0\n    }\n  };\n};\n/**\n * @ignore - internal component.\n */\n\nvar TabIndicator = /*#__PURE__*/React.forwardRef(function TabIndicator(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      color = props.color,\n      orientation = props.orientation,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"orientation\"]);\n\n  return /*#__PURE__*/React.createElement(\"span\", _extends({\n    className: clsx(classes.root, classes[\"color\".concat(capitalize(color))], className, orientation === 'vertical' && classes.vertical),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? TabIndicator.propTypes = {\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * @ignore\n   * The color of the tab indicator.\n   */\n  color: PropTypes.oneOf(['primary', 'secondary']).isRequired,\n\n  /**\n   * The tabs orientation (layout flow direction).\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']).isRequired\n} : void 0;\nexport default withStyles(styles, {\n  name: 'PrivateTabIndicator'\n})(TabIndicator);","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z\"\n}), 'KeyboardArrowLeft');","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z\"\n}), 'KeyboardArrowRight');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\n/* eslint-disable jsx-a11y/aria-role */\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport KeyboardArrowLeft from '../internal/svg-icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '../internal/svg-icons/KeyboardArrowRight';\nimport withStyles from '../styles/withStyles';\nimport ButtonBase from '../ButtonBase';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    width: 40,\n    flexShrink: 0,\n    opacity: 0.8,\n    '&$disabled': {\n      opacity: 0\n    }\n  },\n\n  /* Styles applied to the root element if `orientation=\"vertical\"`. */\n  vertical: {\n    width: '100%',\n    height: 40,\n    '& svg': {\n      transform: 'rotate(90deg)'\n    }\n  },\n\n  /* Pseudo-class applied to the root element if `disabled={true}`. */\n  disabled: {}\n};\n\nvar _ref = /*#__PURE__*/React.createElement(KeyboardArrowLeft, {\n  fontSize: \"small\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(KeyboardArrowRight, {\n  fontSize: \"small\"\n});\n\nvar TabScrollButton = /*#__PURE__*/React.forwardRef(function TabScrollButton(props, ref) {\n  var classes = props.classes,\n      classNameProp = props.className,\n      direction = props.direction,\n      orientation = props.orientation,\n      disabled = props.disabled,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"direction\", \"orientation\", \"disabled\"]);\n\n  return /*#__PURE__*/React.createElement(ButtonBase, _extends({\n    component: \"div\",\n    className: clsx(classes.root, classNameProp, disabled && classes.disabled, orientation === 'vertical' && classes.vertical),\n    ref: ref,\n    role: null,\n    tabIndex: null\n  }, other), direction === 'left' ? _ref : _ref2);\n});\nprocess.env.NODE_ENV !== \"production\" ? TabScrollButton.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * Which direction should the button indicate?\n   */\n  direction: PropTypes.oneOf(['left', 'right']).isRequired,\n\n  /**\n   * If `true`, the element will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * The tabs orientation (layout flow direction).\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']).isRequired\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiTabScrollButton'\n})(TabScrollButton);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport { isFragment } from 'react-is';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { refType } from '@material-ui/utils';\nimport debounce from '../utils/debounce';\nimport ownerWindow from '../utils/ownerWindow';\nimport { getNormalizedScrollLeft, detectScrollType } from '../utils/scrollLeft';\nimport animate from '../internal/animate';\nimport ScrollbarSize from './ScrollbarSize';\nimport withStyles from '../styles/withStyles';\nimport TabIndicator from './TabIndicator';\nimport TabScrollButton from '../TabScrollButton';\nimport useEventCallback from '../utils/useEventCallback';\nimport useTheme from '../styles/useTheme';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      overflow: 'hidden',\n      minHeight: 48,\n      WebkitOverflowScrolling: 'touch',\n      // Add iOS momentum scrolling.\n      display: 'flex'\n    },\n\n    /* Styles applied to the root element if `orientation=\"vertical\"`. */\n    vertical: {\n      flexDirection: 'column'\n    },\n\n    /* Styles applied to the flex container element. */\n    flexContainer: {\n      display: 'flex'\n    },\n\n    /* Styles applied to the flex container element if `orientation=\"vertical\"`. */\n    flexContainerVertical: {\n      flexDirection: 'column'\n    },\n\n    /* Styles applied to the flex container element if `centered={true}` & `!variant=\"scrollable\"`. */\n    centered: {\n      justifyContent: 'center'\n    },\n\n    /* Styles applied to the tablist element. */\n    scroller: {\n      position: 'relative',\n      display: 'inline-block',\n      flex: '1 1 auto',\n      whiteSpace: 'nowrap'\n    },\n\n    /* Styles applied to the tablist element if `!variant=\"scrollable\"`\b\b\b. */\n    fixed: {\n      overflowX: 'hidden',\n      width: '100%'\n    },\n\n    /* Styles applied to the tablist element if `variant=\"scrollable\"`. */\n    scrollable: {\n      overflowX: 'scroll',\n      // Hide dimensionless scrollbar on MacOS\n      scrollbarWidth: 'none',\n      // Firefox\n      '&::-webkit-scrollbar': {\n        display: 'none' // Safari + Chrome\n\n      }\n    },\n\n    /* Styles applied to the `ScrollButtonComponent` component. */\n    scrollButtons: {},\n\n    /* Styles applied to the `ScrollButtonComponent` component if `scrollButtons=\"auto\"` or scrollButtons=\"desktop\"`. */\n    scrollButtonsDesktop: _defineProperty({}, theme.breakpoints.down('xs'), {\n      display: 'none'\n    }),\n\n    /* Styles applied to the `TabIndicator` component. */\n    indicator: {}\n  };\n};\nvar Tabs = /*#__PURE__*/React.forwardRef(function Tabs(props, ref) {\n  var ariaLabel = props['aria-label'],\n      ariaLabelledBy = props['aria-labelledby'],\n      action = props.action,\n      _props$centered = props.centered,\n      centered = _props$centered === void 0 ? false : _props$centered,\n      childrenProp = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      _props$indicatorColor = props.indicatorColor,\n      indicatorColor = _props$indicatorColor === void 0 ? 'secondary' : _props$indicatorColor,\n      onChange = props.onChange,\n      _props$orientation = props.orientation,\n      orientation = _props$orientation === void 0 ? 'horizontal' : _props$orientation,\n      _props$ScrollButtonCo = props.ScrollButtonComponent,\n      ScrollButtonComponent = _props$ScrollButtonCo === void 0 ? TabScrollButton : _props$ScrollButtonCo,\n      _props$scrollButtons = props.scrollButtons,\n      scrollButtons = _props$scrollButtons === void 0 ? 'auto' : _props$scrollButtons,\n      selectionFollowsFocus = props.selectionFollowsFocus,\n      _props$TabIndicatorPr = props.TabIndicatorProps,\n      TabIndicatorProps = _props$TabIndicatorPr === void 0 ? {} : _props$TabIndicatorPr,\n      TabScrollButtonProps = props.TabScrollButtonProps,\n      _props$textColor = props.textColor,\n      textColor = _props$textColor === void 0 ? 'inherit' : _props$textColor,\n      value = props.value,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'standard' : _props$variant,\n      other = _objectWithoutProperties(props, [\"aria-label\", \"aria-labelledby\", \"action\", \"centered\", \"children\", \"classes\", \"className\", \"component\", \"indicatorColor\", \"onChange\", \"orientation\", \"ScrollButtonComponent\", \"scrollButtons\", \"selectionFollowsFocus\", \"TabIndicatorProps\", \"TabScrollButtonProps\", \"textColor\", \"value\", \"variant\"]);\n\n  var theme = useTheme();\n  var scrollable = variant === 'scrollable';\n  var isRtl = theme.direction === 'rtl';\n  var vertical = orientation === 'vertical';\n  var scrollStart = vertical ? 'scrollTop' : 'scrollLeft';\n  var start = vertical ? 'top' : 'left';\n  var end = vertical ? 'bottom' : 'right';\n  var clientSize = vertical ? 'clientHeight' : 'clientWidth';\n  var size = vertical ? 'height' : 'width';\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (centered && scrollable) {\n      console.error('Material-UI: You can not use the `centered={true}` and `variant=\"scrollable\"` properties ' + 'at the same time on a `Tabs` component.');\n    }\n  }\n\n  var _React$useState = React.useState(false),\n      mounted = _React$useState[0],\n      setMounted = _React$useState[1];\n\n  var _React$useState2 = React.useState({}),\n      indicatorStyle = _React$useState2[0],\n      setIndicatorStyle = _React$useState2[1];\n\n  var _React$useState3 = React.useState({\n    start: false,\n    end: false\n  }),\n      displayScroll = _React$useState3[0],\n      setDisplayScroll = _React$useState3[1];\n\n  var _React$useState4 = React.useState({\n    overflow: 'hidden',\n    marginBottom: null\n  }),\n      scrollerStyle = _React$useState4[0],\n      setScrollerStyle = _React$useState4[1];\n\n  var valueToIndex = new Map();\n  var tabsRef = React.useRef(null);\n  var tabListRef = React.useRef(null);\n\n  var getTabsMeta = function getTabsMeta() {\n    var tabsNode = tabsRef.current;\n    var tabsMeta;\n\n    if (tabsNode) {\n      var rect = tabsNode.getBoundingClientRect(); // create a new object with ClientRect class props + scrollLeft\n\n      tabsMeta = {\n        clientWidth: tabsNode.clientWidth,\n        scrollLeft: tabsNode.scrollLeft,\n        scrollTop: tabsNode.scrollTop,\n        scrollLeftNormalized: getNormalizedScrollLeft(tabsNode, theme.direction),\n        scrollWidth: tabsNode.scrollWidth,\n        top: rect.top,\n        bottom: rect.bottom,\n        left: rect.left,\n        right: rect.right\n      };\n    }\n\n    var tabMeta;\n\n    if (tabsNode && value !== false) {\n      var _children = tabListRef.current.children;\n\n      if (_children.length > 0) {\n        var tab = _children[valueToIndex.get(value)];\n\n        if (process.env.NODE_ENV !== 'production') {\n          if (!tab) {\n            console.error([\"Material-UI: The value provided to the Tabs component is invalid.\", \"None of the Tabs' children match with `\".concat(value, \"`.\"), valueToIndex.keys ? \"You can provide one of the following values: \".concat(Array.from(valueToIndex.keys()).join(', '), \".\") : null].join('\\n'));\n          }\n        }\n\n        tabMeta = tab ? tab.getBoundingClientRect() : null;\n      }\n    }\n\n    return {\n      tabsMeta: tabsMeta,\n      tabMeta: tabMeta\n    };\n  };\n\n  var updateIndicatorState = useEventCallback(function () {\n    var _newIndicatorStyle;\n\n    var _getTabsMeta = getTabsMeta(),\n        tabsMeta = _getTabsMeta.tabsMeta,\n        tabMeta = _getTabsMeta.tabMeta;\n\n    var startValue = 0;\n\n    if (tabMeta && tabsMeta) {\n      if (vertical) {\n        startValue = tabMeta.top - tabsMeta.top + tabsMeta.scrollTop;\n      } else {\n        var correction = isRtl ? tabsMeta.scrollLeftNormalized + tabsMeta.clientWidth - tabsMeta.scrollWidth : tabsMeta.scrollLeft;\n        startValue = tabMeta.left - tabsMeta.left + correction;\n      }\n    }\n\n    var newIndicatorStyle = (_newIndicatorStyle = {}, _defineProperty(_newIndicatorStyle, start, startValue), _defineProperty(_newIndicatorStyle, size, tabMeta ? tabMeta[size] : 0), _newIndicatorStyle);\n\n    if (isNaN(indicatorStyle[start]) || isNaN(indicatorStyle[size])) {\n      setIndicatorStyle(newIndicatorStyle);\n    } else {\n      var dStart = Math.abs(indicatorStyle[start] - newIndicatorStyle[start]);\n      var dSize = Math.abs(indicatorStyle[size] - newIndicatorStyle[size]);\n\n      if (dStart >= 1 || dSize >= 1) {\n        setIndicatorStyle(newIndicatorStyle);\n      }\n    }\n  });\n\n  var scroll = function scroll(scrollValue) {\n    animate(scrollStart, tabsRef.current, scrollValue);\n  };\n\n  var moveTabsScroll = function moveTabsScroll(delta) {\n    var scrollValue = tabsRef.current[scrollStart];\n\n    if (vertical) {\n      scrollValue += delta;\n    } else {\n      scrollValue += delta * (isRtl ? -1 : 1); // Fix for Edge\n\n      scrollValue *= isRtl && detectScrollType() === 'reverse' ? -1 : 1;\n    }\n\n    scroll(scrollValue);\n  };\n\n  var handleStartScrollClick = function handleStartScrollClick() {\n    moveTabsScroll(-tabsRef.current[clientSize]);\n  };\n\n  var handleEndScrollClick = function handleEndScrollClick() {\n    moveTabsScroll(tabsRef.current[clientSize]);\n  };\n\n  var handleScrollbarSizeChange = React.useCallback(function (scrollbarHeight) {\n    setScrollerStyle({\n      overflow: null,\n      marginBottom: -scrollbarHeight\n    });\n  }, []);\n\n  var getConditionalElements = function getConditionalElements() {\n    var conditionalElements = {};\n    conditionalElements.scrollbarSizeListener = scrollable ? /*#__PURE__*/React.createElement(ScrollbarSize, {\n      className: classes.scrollable,\n      onChange: handleScrollbarSizeChange\n    }) : null;\n    var scrollButtonsActive = displayScroll.start || displayScroll.end;\n    var showScrollButtons = scrollable && (scrollButtons === 'auto' && scrollButtonsActive || scrollButtons === 'desktop' || scrollButtons === 'on');\n    conditionalElements.scrollButtonStart = showScrollButtons ? /*#__PURE__*/React.createElement(ScrollButtonComponent, _extends({\n      orientation: orientation,\n      direction: isRtl ? 'right' : 'left',\n      onClick: handleStartScrollClick,\n      disabled: !displayScroll.start,\n      className: clsx(classes.scrollButtons, scrollButtons !== 'on' && classes.scrollButtonsDesktop)\n    }, TabScrollButtonProps)) : null;\n    conditionalElements.scrollButtonEnd = showScrollButtons ? /*#__PURE__*/React.createElement(ScrollButtonComponent, _extends({\n      orientation: orientation,\n      direction: isRtl ? 'left' : 'right',\n      onClick: handleEndScrollClick,\n      disabled: !displayScroll.end,\n      className: clsx(classes.scrollButtons, scrollButtons !== 'on' && classes.scrollButtonsDesktop)\n    }, TabScrollButtonProps)) : null;\n    return conditionalElements;\n  };\n\n  var scrollSelectedIntoView = useEventCallback(function () {\n    var _getTabsMeta2 = getTabsMeta(),\n        tabsMeta = _getTabsMeta2.tabsMeta,\n        tabMeta = _getTabsMeta2.tabMeta;\n\n    if (!tabMeta || !tabsMeta) {\n      return;\n    }\n\n    if (tabMeta[start] < tabsMeta[start]) {\n      // left side of button is out of view\n      var nextScrollStart = tabsMeta[scrollStart] + (tabMeta[start] - tabsMeta[start]);\n      scroll(nextScrollStart);\n    } else if (tabMeta[end] > tabsMeta[end]) {\n      // right side of button is out of view\n      var _nextScrollStart = tabsMeta[scrollStart] + (tabMeta[end] - tabsMeta[end]);\n\n      scroll(_nextScrollStart);\n    }\n  });\n  var updateScrollButtonState = useEventCallback(function () {\n    if (scrollable && scrollButtons !== 'off') {\n      var _tabsRef$current = tabsRef.current,\n          scrollTop = _tabsRef$current.scrollTop,\n          scrollHeight = _tabsRef$current.scrollHeight,\n          clientHeight = _tabsRef$current.clientHeight,\n          scrollWidth = _tabsRef$current.scrollWidth,\n          clientWidth = _tabsRef$current.clientWidth;\n      var showStartScroll;\n      var showEndScroll;\n\n      if (vertical) {\n        showStartScroll = scrollTop > 1;\n        showEndScroll = scrollTop < scrollHeight - clientHeight - 1;\n      } else {\n        var scrollLeft = getNormalizedScrollLeft(tabsRef.current, theme.direction); // use 1 for the potential rounding error with browser zooms.\n\n        showStartScroll = isRtl ? scrollLeft < scrollWidth - clientWidth - 1 : scrollLeft > 1;\n        showEndScroll = !isRtl ? scrollLeft < scrollWidth - clientWidth - 1 : scrollLeft > 1;\n      }\n\n      if (showStartScroll !== displayScroll.start || showEndScroll !== displayScroll.end) {\n        setDisplayScroll({\n          start: showStartScroll,\n          end: showEndScroll\n        });\n      }\n    }\n  });\n  React.useEffect(function () {\n    var handleResize = debounce(function () {\n      updateIndicatorState();\n      updateScrollButtonState();\n    });\n    var win = ownerWindow(tabsRef.current);\n    win.addEventListener('resize', handleResize);\n    return function () {\n      handleResize.clear();\n      win.removeEventListener('resize', handleResize);\n    };\n  }, [updateIndicatorState, updateScrollButtonState]);\n  var handleTabsScroll = React.useCallback(debounce(function () {\n    updateScrollButtonState();\n  }));\n  React.useEffect(function () {\n    return function () {\n      handleTabsScroll.clear();\n    };\n  }, [handleTabsScroll]);\n  React.useEffect(function () {\n    setMounted(true);\n  }, []);\n  React.useEffect(function () {\n    updateIndicatorState();\n    updateScrollButtonState();\n  });\n  React.useEffect(function () {\n    scrollSelectedIntoView();\n  }, [scrollSelectedIntoView, indicatorStyle]);\n  React.useImperativeHandle(action, function () {\n    return {\n      updateIndicator: updateIndicatorState,\n      updateScrollButtons: updateScrollButtonState\n    };\n  }, [updateIndicatorState, updateScrollButtonState]);\n  var indicator = /*#__PURE__*/React.createElement(TabIndicator, _extends({\n    className: classes.indicator,\n    orientation: orientation,\n    color: indicatorColor\n  }, TabIndicatorProps, {\n    style: _extends({}, indicatorStyle, TabIndicatorProps.style)\n  }));\n  var childIndex = 0;\n  var children = React.Children.map(childrenProp, function (child) {\n    if (! /*#__PURE__*/React.isValidElement(child)) {\n      return null;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (isFragment(child)) {\n        console.error([\"Material-UI: The Tabs component doesn't accept a Fragment as a child.\", 'Consider providing an array instead.'].join('\\n'));\n      }\n    }\n\n    var childValue = child.props.value === undefined ? childIndex : child.props.value;\n    valueToIndex.set(childValue, childIndex);\n    var selected = childValue === value;\n    childIndex += 1;\n    return /*#__PURE__*/React.cloneElement(child, {\n      fullWidth: variant === 'fullWidth',\n      indicator: selected && !mounted && indicator,\n      selected: selected,\n      selectionFollowsFocus: selectionFollowsFocus,\n      onChange: onChange,\n      textColor: textColor,\n      value: childValue\n    });\n  });\n\n  var handleKeyDown = function handleKeyDown(event) {\n    var target = event.target; // Keyboard navigation assumes that [role=\"tab\"] are siblings\n    // though we might warn in the future about nested, interactive elements\n    // as a a11y violation\n\n    var role = target.getAttribute('role');\n\n    if (role !== 'tab') {\n      return;\n    }\n\n    var newFocusTarget = null;\n    var previousItemKey = orientation !== \"vertical\" ? 'ArrowLeft' : 'ArrowUp';\n    var nextItemKey = orientation !== \"vertical\" ? 'ArrowRight' : 'ArrowDown';\n\n    if (orientation !== \"vertical\" && theme.direction === 'rtl') {\n      // swap previousItemKey with nextItemKey\n      previousItemKey = 'ArrowRight';\n      nextItemKey = 'ArrowLeft';\n    }\n\n    switch (event.key) {\n      case previousItemKey:\n        newFocusTarget = target.previousElementSibling || tabListRef.current.lastChild;\n        break;\n\n      case nextItemKey:\n        newFocusTarget = target.nextElementSibling || tabListRef.current.firstChild;\n        break;\n\n      case 'Home':\n        newFocusTarget = tabListRef.current.firstChild;\n        break;\n\n      case 'End':\n        newFocusTarget = tabListRef.current.lastChild;\n        break;\n\n      default:\n        break;\n    }\n\n    if (newFocusTarget !== null) {\n      newFocusTarget.focus();\n      event.preventDefault();\n    }\n  };\n\n  var conditionalElements = getConditionalElements();\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className, vertical && classes.vertical),\n    ref: ref\n  }, other), conditionalElements.scrollButtonStart, conditionalElements.scrollbarSizeListener, /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(classes.scroller, scrollable ? classes.scrollable : classes.fixed),\n    style: scrollerStyle,\n    ref: tabsRef,\n    onScroll: handleTabsScroll\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    \"aria-label\": ariaLabel,\n    \"aria-labelledby\": ariaLabelledBy,\n    className: clsx(classes.flexContainer, vertical && classes.flexContainerVertical, centered && !scrollable && classes.centered),\n    onKeyDown: handleKeyDown,\n    ref: tabListRef,\n    role: \"tablist\"\n  }, children), mounted && indicator), conditionalElements.scrollButtonEnd);\n});\nprocess.env.NODE_ENV !== \"production\" ? Tabs.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Callback fired when the component mounts.\n   * This is useful when you want to trigger an action programmatically.\n   * It supports two actions: `updateIndicator()` and `updateScrollButtons()`\n   *\n   * @param {object} actions This object contains all possible actions\n   * that can be triggered programmatically.\n   */\n  action: refType,\n\n  /**\n   * The label for the Tabs as a string.\n   */\n  'aria-label': PropTypes.string,\n\n  /**\n   * An id or list of ids separated by a space that label the Tabs.\n   */\n  'aria-labelledby': PropTypes.string,\n\n  /**\n   * If `true`, the tabs will be centered.\n   * This property is intended for large views.\n   */\n  centered: PropTypes.bool,\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * Determines the color of the indicator.\n   */\n  indicatorColor: PropTypes.oneOf(['primary', 'secondary']),\n\n  /**\n   * Callback fired when the value changes.\n   *\n   * @param {object} event The event source of the callback\n   * @param {any} value We default to the index of the child (number)\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * The tabs orientation (layout flow direction).\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n  /**\n   * The component used to render the scroll buttons.\n   */\n  ScrollButtonComponent: PropTypes.elementType,\n\n  /**\n   * Determine behavior of scroll buttons when tabs are set to scroll:\n   *\n   * - `auto` will only present them when not all the items are visible.\n   * - `desktop` will only present them on medium and larger viewports.\n   * - `on` will always present them.\n   * - `off` will never present them.\n   */\n  scrollButtons: PropTypes.oneOf(['auto', 'desktop', 'off', 'on']),\n\n  /**\n   * If `true` the selected tab changes on focus. Otherwise it only\n   * changes on activation.\n   */\n  selectionFollowsFocus: PropTypes.bool,\n\n  /**\n   * Props applied to the tab indicator element.\n   */\n  TabIndicatorProps: PropTypes.object,\n\n  /**\n   * Props applied to the [`TabScrollButton`](/api/tab-scroll-button/) element.\n   */\n  TabScrollButtonProps: PropTypes.object,\n\n  /**\n   * Determines the color of the `Tab`.\n   */\n  textColor: PropTypes.oneOf(['inherit', 'primary', 'secondary']),\n\n  /**\n   * The value of the currently selected `Tab`.\n   * If you don't want any selected `Tab`, you can set this property to `false`.\n   */\n  value: PropTypes.any,\n\n  /**\n   * Determines additional display behavior of the tabs:\n   *\n   *  - `scrollable` will invoke scrolling properties and allow for horizontally\n   *  scrolling (or swiping) of the tab bar.\n   *  -`fullWidth` will make the tabs grow to use all the available space,\n   *  which should be used for small views, like on mobile.\n   *  - `standard` will render the default state.\n   */\n  variant: PropTypes.oneOf(['fullWidth', 'scrollable', 'standard'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiTabs'\n})(Tabs);","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { Fragment, useEffect, useMemo } from 'react';\nimport { useIsSmallScreen } from '../../core/components/hooks';\nimport lazyLoad from '../../core/helper/lazyLoad';\nimport makeUniformsSchema from './makeUniformsSchema';\nexport var AutoForm = lazyLoad(function () {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return import('uniforms-material').then(function (c) { return c.AutoForm; });\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n);\nexport var AutoField = lazyLoad(function () {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return import('uniforms-material').then(function (c) { return c.AutoField; });\n});\nexport var AutoFields = lazyLoad(function () {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return import('uniforms-material').then(function (c) { return c.AutoFields; });\n});\nvar getDefaultValue = function (bridge) {\n    return bridge.getSubfields().reduce(function (acc, fieldName) {\n        var _a;\n        return (__assign(__assign({}, acc), (_a = {}, _a[fieldName] = bridge.getInitialValue(fieldName), _a)));\n    }, {});\n};\nexport function AutoformControls(_a) {\n    var onChange = _a.onChange, data = _a.data, schema = _a.schema, _b = _a.columnCount, columnCount = _b === void 0 ? 2 : _b, Content = _a.Content;\n    var bridge = useMemo(function () { return makeUniformsSchema(schema); }, [schema]);\n    useEffect(function () {\n        var newDefaultData = __assign(__assign({}, getDefaultValue(bridge)), (data !== null && data !== void 0 ? data : {}));\n        onChange(newDefaultData);\n    }, [bridge]);\n    var isSmall = useIsSmallScreen();\n    return (React.createElement(AutoForm, { model: data, autosave: true, schema: bridge, onSubmit: onChange }, Content ? (React.createElement(Content, { data: data, columnCount: columnCount })) : (React.createElement(\"div\", { style: {\n            columnCount: isSmall ? 1 : columnCount,\n            columnRule: '1px solid #E0E0E0',\n            columnGap: 48,\n        } },\n        React.createElement(AutoFields, { element: Fragment })))));\n}\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { Tab, Tabs } from '@material-ui/core';\nimport { withStyles } from '@material-ui/styles';\nimport React, { useState } from 'react';\nimport { AutoformControls } from '../../../../ui';\nvar StyledTab = withStyles(function () { return ({\n    wrapper: {\n        alignItems: 'flex-start',\n    },\n}); })(Tab);\nvar StyledTabs = withStyles(function (theme) { return ({\n    root: {\n        marginTop: -12,\n        marginBottom: -12,\n        marginLeft: -24,\n        alignItems: 'flex-start',\n        backgroundColor: theme.palette.background.default,\n    },\n}); })(Tabs);\nvar ControlsList = React.memo(function (_a) {\n    var _b;\n    var controls = _a.controls, componentProps = _a.componentProps;\n    var _c = __read(useState(0), 2), tab = _c[0], setTab = _c[1];\n    var activeControls = (_b = controls[tab]) === null || _b === void 0 ? void 0 : _b.controls;\n    return (React.createElement(\"div\", { style: {\n            display: 'flex',\n            flexDirection: 'row',\n        } },\n        React.createElement(StyledTabs, { value: tab, onChange: function (e, v) { return setTab(v); }, orientation: \"vertical\", variant: \"scrollable\" }, controls.map(function (t, index) { return (React.createElement(StyledTab, { label: t.title, key: index })); })),\n        activeControls ? (React.createElement(\"div\", { style: {\n                flex: 1,\n                marginLeft: 24,\n                display: 'flex',\n            } },\n            React.createElement(Controls, { controls: activeControls, componentProps: componentProps }))) : null));\n});\nvar Controls = React.memo(function (_a) {\n    var controls = _a.controls, componentProps = _a.componentProps;\n    var pluginControls = null;\n    if (Array.isArray(controls)) {\n        return React.createElement(ControlsList, { componentProps: componentProps, controls: controls });\n    }\n    if ((controls === null || controls === void 0 ? void 0 : controls.type) === 'custom') {\n        var Component = controls.Component;\n        pluginControls = React.createElement(Component, __assign({}, componentProps, controls));\n    }\n    else if ((controls === null || controls === void 0 ? void 0 : controls.type) === 'autoform') {\n        pluginControls = React.createElement(AutoformControls, __assign({}, componentProps, controls));\n    }\n    return React.createElement(\"div\", { style: { overflow: 'auto', flex: 1 } }, pluginControls);\n});\nvar PluginControls = function (_a) {\n    var controls = _a.controls, componentProps = _a.componentProps;\n    return (React.createElement(\"div\", { style: {\n            maxHeight: '50vh',\n            // if it has tabs, stretch to avoid jumping tabs\n            width: Array.isArray(controls) ? '100vw' : undefined,\n            maxWidth: '100%',\n            display: 'flex',\n        } },\n        React.createElement(Controls, { controls: controls, componentProps: componentProps })));\n};\nexport default React.memo(PluginControls);\n//# sourceMappingURL=index.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nvar PluginMissing = function (_a) {\n    var children = _a.children, props = __rest(_a, [\"children\"]);\n    return (React.createElement(\"div\", null,\n        React.createElement(\"div\", { style: {\n                backgroundColor: 'red',\n                padding: '8px',\n                border: '1px solid black',\n                margin: '2px',\n                overflowX: 'scroll',\n            } },\n            \"The requested plugin `\",\n            props.pluginId,\n            \"` could not be found.\",\n            React.createElement(\"button\", { onClick: props.remove }, \"Delete Plugin\"),\n            React.createElement(\"pre\", null, JSON.stringify(props, null, 2))),\n        children));\n};\nexport default PluginMissing;\n//# sourceMappingURL=PluginMissing.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React, { useMemo } from 'react';\nimport { BottomToolbar } from '../../../../ui';\nimport { usePluginOfCell, useDebouncedCellData, useIsEditMode, useIsPreviewMode, useLang, useRemoveCell, useCellProps, useOption, useIsExclusivlyFocused, } from '../../hooks';\nimport PluginControls from '../PluginControls';\nimport PluginMissing from '../PluginMissing';\nimport NoopProvider from '../NoopProvider';\nvar PluginComponent = function (_a) {\n    var _b, _c, _d;\n    var nodeId = _a.nodeId, children = _a.children, hasChildren = _a.hasChildren;\n    var lang = useLang();\n    var components = useOption('components');\n    var CustomPluginMissing = components === null || components === void 0 ? void 0 : components.CellPluginMissing;\n    var isPreviewMode = useIsPreviewMode();\n    var isEditMode = useIsEditMode();\n    var _e = __read(useDebouncedCellData(nodeId), 2), data = _e[0], onChange = _e[1];\n    var pluginId = useCellProps(nodeId, function (c) { var _a; return (_a = c.plugin) === null || _a === void 0 ? void 0 : _a.id; });\n    var plugin = usePluginOfCell(nodeId);\n    var focused = useIsExclusivlyFocused(nodeId);\n    var hasInlineNeighbour = useCellProps(nodeId, function (c) { return c.hasInlineNeighbour; });\n    var Renderer = plugin === null || plugin === void 0 ? void 0 : plugin.Renderer;\n    var Missing = CustomPluginMissing !== null && CustomPluginMissing !== void 0 ? CustomPluginMissing : PluginMissing;\n    var Provider = (_b = plugin === null || plugin === void 0 ? void 0 : plugin.Provider) !== null && _b !== void 0 ? _b : NoopProvider;\n    var remove = useRemoveCell(nodeId);\n    var Toolbar = (_c = components === null || components === void 0 ? void 0 : components.BottomToolbar) !== null && _c !== void 0 ? _c : BottomToolbar;\n    var componentProps = useMemo(function () { return ({\n        nodeId: nodeId,\n        lang: lang,\n        data: data,\n        pluginConfig: plugin,\n        focused: isEditMode && focused,\n        readOnly: !isEditMode,\n        onChange: onChange,\n        isEditMode: isEditMode,\n        isPreviewMode: isPreviewMode,\n        remove: remove,\n    }); }, [\n        nodeId,\n        lang,\n        data,\n        plugin,\n        isEditMode,\n        focused,\n        onChange,\n        isEditMode,\n        isPreviewMode,\n        remove,\n    ]);\n    // In case of non-zero cell spacing, nested layouts (layout plugins with children) should have their\n    // margin collapsing functionality off. The simplest solution is to use display:flex for the below wrapping <div>.\n    // This however is not compatible with inline elements flotation, so if a cell has inline neighbors, we are going\n    // to have to keep display:block style. Layout plugins with inline cell support will have to take care of\n    // margin collapsing internally on their own.\n    var display = hasInlineNeighbour\n        ? {}\n        : {\n            display: 'flex',\n            flexDirection: 'column',\n        };\n    return (React.createElement(Provider, __assign({}, componentProps),\n        React.createElement(React.Fragment, null,\n            React.createElement(\"div\", { style: __assign(__assign({}, display), { height: '100%', pointerEvents: !isPreviewMode &&\n                        plugin &&\n                        !(plugin === null || plugin === void 0 ? void 0 : plugin.allowClickInside) &&\n                        !hasChildren\n                        ? 'none'\n                        : undefined }) }, Renderer ? (React.createElement(Renderer, __assign({}, componentProps), children)) : pluginId ? (React.createElement(Missing, __assign({}, componentProps, { pluginId: pluginId }))) : (children)),\n            React.createElement(Toolbar, { nodeId: nodeId, open: focused, dark: (_d = plugin === null || plugin === void 0 ? void 0 : plugin.bottomToolbar) === null || _d === void 0 ? void 0 : _d.dark, pluginControls: isEditMode && (plugin === null || plugin === void 0 ? void 0 : plugin.controls) ? (React.createElement(PluginControls, { componentProps: componentProps, controls: plugin === null || plugin === void 0 ? void 0 : plugin.controls })) : null }))));\n};\nexport default PluginComponent;\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React from 'react';\nimport { getPluginCellSpacing, normalizeCellSpacing, } from '../../../utils/getCellSpacing';\nimport { useCellData, useCellHasPlugin, useCellInnerDivStylingProps, useCellSpacing, useCellSpacingProvider, useFocusCell, useIsEditMode, useIsFocused, useIsPreviewMode, useNodeChildrenIds, useOption, usePluginOfCell, useSetEditMode, } from '../../hooks';\nimport Row from '../../Row';\nimport Draggable from '../Draggable';\nimport Droppable from '../Droppable';\nimport InsertNew from '../InsertNew';\nimport PluginComponent from '../PluginComponent';\nvar Inner = function (_a) {\n    var _b, _c, _d;\n    var nodeId = _a.nodeId;\n    var isPreviewMode = useIsPreviewMode();\n    var isEditMode = useIsEditMode();\n    var cellShouldHavePlugin = useCellHasPlugin(nodeId);\n    var plugin = usePluginOfCell(nodeId);\n    var setEditMode = useSetEditMode();\n    var focus = useFocusCell(nodeId);\n    var focused = useIsFocused(nodeId);\n    var childrenIds = useNodeChildrenIds(nodeId);\n    var cellSpacingY = useCellSpacing().y;\n    var ref = React.useRef();\n    var hasChildren = childrenIds.length > 0;\n    var data = useCellData(nodeId);\n    var pluginCellSpacing = getPluginCellSpacing(plugin, data);\n    var _e = __read(useCellSpacingProvider(pluginCellSpacing), 2), Provider = _e[0], providerValue = _e[1];\n    if (typeof pluginCellSpacing !== 'undefined' && pluginCellSpacing != null) {\n        cellSpacingY = normalizeCellSpacing(pluginCellSpacing).y;\n    }\n    var onClick = React.useCallback(function (e) {\n        var _a;\n        var target = e.target;\n        // check whether the click was inside cell-inner, but not inside a nested cell\n        if (!focused &&\n            isEditMode &&\n            // this arrives when they stop resizing\n            !((_a = target.classList) === null || _a === void 0 ? void 0 : _a.contains('react-page-row')) &&\n            (target === null || target === void 0 ? void 0 : target.closest) &&\n            target.closest('.react-page-cell-inner') === ref.current &&\n            target.closest('.react-page-cell.react-page-cell-has-plugin') ===\n                ref.current.closest('.react-page-cell')) {\n            var mode = e.metaKey || e.ctrlKey ? 'add' : 'replace';\n            focus(false, mode);\n            setEditMode();\n        }\n    }, [focus, focused, isEditMode, setEditMode]);\n    var insertAllowed = ((_b = plugin === null || plugin === void 0 ? void 0 : plugin.childConstraints) === null || _b === void 0 ? void 0 : _b.maxChildren)\n        ? ((_c = plugin === null || plugin === void 0 ? void 0 : plugin.childConstraints) === null || _c === void 0 ? void 0 : _c.maxChildren) > childrenIds.length\n        : true;\n    var innerDivProps = useCellInnerDivStylingProps(nodeId);\n    var children = childrenIds.map(function (id) { return React.createElement(Row, { nodeId: id, key: id }); });\n    var components = useOption('components');\n    var InsertNewWithDefault = (_d = components === null || components === void 0 ? void 0 : components.InsertNew) !== null && _d !== void 0 ? _d : InsertNew;\n    if (!cellShouldHavePlugin) {\n        return React.createElement(Droppable, { nodeId: nodeId }, children);\n    }\n    return (React.createElement(Droppable, { nodeId: nodeId, isLeaf: !hasChildren },\n        React.createElement(Draggable, { nodeId: nodeId, isLeaf: !hasChildren },\n            React.createElement(\"div\", __assign({ onClick: !isPreviewMode ? onClick : undefined, tabIndex: -1, ref: ref }, innerDivProps),\n                React.createElement(PluginComponent, { nodeId: nodeId, hasChildren: hasChildren },\n                    hasChildren ? (React.createElement(Provider, { value: providerValue },\n                        React.createElement(\"div\", { style: cellSpacingY !== 0\n                                ? { margin: -cellSpacingY / 2 + \"px 0\" }\n                                : undefined }, children))) : (children),\n                    insertAllowed ? (React.createElement(InsertNewWithDefault, { parentCellId: nodeId, childrenIds: childrenIds })) : null)))));\n};\nexport default React.memo(Inner);\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport { MoveDown, MoveLeft, MoveRight, MoveUp, } from '../../../../ui/moveButtons';\nvar baseStyle = {\n    position: 'absolute',\n    margin: 0,\n};\nvar MARGIN = 10;\nvar MoveActions = function (_a) {\n    var nodeId = _a.nodeId;\n    return (React.createElement(\"div\", { className: \"react-page-cell-move-actions\", style: __assign({ left: 0, right: 0, bottom: 0, top: 0, zIndex: 100, pointerEvents: 'none' }, baseStyle) },\n        React.createElement(MoveUp, { nodeId: nodeId, style: __assign(__assign({}, baseStyle), { top: MARGIN, left: '50%', transform: 'translateX(-50%)' }) }),\n        React.createElement(MoveLeft, { nodeId: nodeId, style: __assign(__assign({}, baseStyle), { left: MARGIN, top: '50%', transform: 'translateY(-50%)' }) }),\n        React.createElement(MoveRight, { nodeId: nodeId, style: __assign(__assign({}, baseStyle), { right: MARGIN, top: '50%', transform: 'translateY(-50%)' }) }),\n        React.createElement(MoveDown, { nodeId: nodeId, style: __assign(__assign({}, baseStyle), { bottom: MARGIN, left: '50%', transform: 'translateX(-50%)' }) })));\n};\nexport default MoveActions;\n//# sourceMappingURL=index.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport classNames from 'classnames';\nimport React, { useCallback } from 'react';\nimport { getCellOuterDivClassName } from '../../utils/getCellStylingProps';\nimport { useAllFocusedNodeIds, useCellHasPlugin, useCellProps, useCellSpacing, useIsFocused, useIsInsertMode, useIsLayoutMode, useIsPreviewMode, useIsResizeMode, useLang, useNodeHasChildren, useOption, useScrollToViewEffect, useSetDisplayReferenceNodeId, } from '../hooks';\nimport ErrorCell from './ErrorCell';\nimport Handle from './Handle';\nimport Inner from './Inner';\nimport MoveActions from './MoveActions';\nimport scrollIntoViewWithOffset from './utils/scrollIntoViewWithOffset';\nvar CellErrorGate = /** @class */ (function (_super) {\n    __extends(class_1, _super);\n    function class_1() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            error: null,\n        };\n        return _this;\n    }\n    class_1.prototype.componentDidCatch = function (error) {\n        this.setState({ error: error });\n    };\n    class_1.prototype.render = function () {\n        if (this.state.error) {\n            return React.createElement(ErrorCell, { nodeId: this.props.nodeId, error: this.state.error });\n        }\n        return this.props.children;\n    };\n    return class_1;\n}(React.Component));\nvar Cell = function (_a) {\n    var _b;\n    var nodeId = _a.nodeId, measureRef = _a.measureRef;\n    var focused = useIsFocused(nodeId);\n    var _c = useCellProps(nodeId, function (_a) {\n        var inline = _a.inline, hasInlineNeighbour = _a.hasInlineNeighbour, isDraft = _a.isDraft, isDraftI18n = _a.isDraftI18n, size = _a.size;\n        return ({\n            inline: inline,\n            hasInlineNeighbour: hasInlineNeighbour,\n            isDraft: isDraft,\n            isDraftI18n: isDraftI18n,\n            size: size,\n        });\n    }), inline = _c.inline, hasInlineNeighbour = _c.hasInlineNeighbour, isDraft = _c.isDraft, isDraftI18n = _c.isDraftI18n, size = _c.size;\n    var lang = useLang();\n    var isPreviewMode = useIsPreviewMode();\n    var isResizeMode = useIsResizeMode();\n    var isLayoutMode = useIsLayoutMode();\n    var isInsertMode = useIsInsertMode();\n    var multiNodesSelected = useAllFocusedNodeIds().length > 1;\n    var hasChildren = useNodeHasChildren(nodeId);\n    var showMoveButtons = useOption('showMoveButtonsInLayoutMode');\n    var hasPlugin = useCellHasPlugin(nodeId);\n    var _d = useCellSpacing(), cellSpacingX = _d.x, cellSpacingY = _d.y;\n    var needVerticalPadding = !hasChildren || hasPlugin;\n    var isDraftInLang = (_b = isDraftI18n === null || isDraftI18n === void 0 ? void 0 : isDraftI18n[lang]) !== null && _b !== void 0 ? _b : isDraft;\n    var ref = React.useRef();\n    var setReferenceNodeId = useSetDisplayReferenceNodeId();\n    var onClick = useCallback(function (e) {\n        if (isInsertMode) {\n            e.stopPropagation();\n            setReferenceNodeId(nodeId);\n        }\n    }, [nodeId, isInsertMode, setReferenceNodeId]);\n    useScrollToViewEffect(nodeId, function () {\n        if (ref.current)\n            scrollIntoViewWithOffset(ref.current, 120); // 120 is just a sane default, we might make int configurable in the future\n    }, [ref.current]);\n    if (isDraftInLang && isPreviewMode) {\n        return null;\n    }\n    var cellOuterStlye = cellSpacingY !== 0 || cellSpacingX !== 0\n        ? {\n            padding: (needVerticalPadding ? cellSpacingY / 2 : 0) + \"px \" + cellSpacingX / 2 + \"px\",\n        }\n        : undefined;\n    return (React.createElement(\"div\", { style: cellOuterStlye, ref: ref, className: getCellOuterDivClassName({\n            hasChildren: hasChildren,\n            hasInlineNeighbour: hasInlineNeighbour,\n            size: size,\n            inline: inline,\n        }) +\n            ' ' +\n            classNames({\n                'react-page-cell-has-plugin': hasPlugin,\n                'react-page-cell-focused': focused,\n                'react-page-cell-is-draft': isDraftInLang,\n                'react-page-cell-bring-to-front': !isResizeMode && !isLayoutMode && inline, // inline must not be active for resize/layout\n            }), onClick: onClick },\n        React.createElement(Handle, { nodeId: nodeId }),\n        showMoveButtons &&\n            isLayoutMode &&\n            !hasChildren &&\n            !multiNodesSelected ? (React.createElement(MoveActions, { nodeId: nodeId })) : null,\n        React.createElement(\"div\", { ref: measureRef, style: {\n                height: '100%',\n                boxSizing: 'border-box',\n            } },\n            React.createElement(CellErrorGate, { nodeId: nodeId },\n                React.createElement(Inner, { nodeId: nodeId })))));\n};\nexport default React.memo(Cell);\n//# sourceMappingURL=index.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React from 'react';\nimport Draggable from 'react-draggable';\nimport { useMeasure } from 'react-use';\nimport Cell from '../Cell';\nimport { useIsEditMode, useIsPreviewMode, useIsResizeMode, useResizeCell, useCellSpacing, useOption, } from '../hooks';\nvar ResizableRowCell = function (_a) {\n    var nodeId = _a.nodeId, rowWidth = _a.rowWidth, rowHasInlineChildrenPosition = _a.rowHasInlineChildrenPosition, isLast = _a.isLast, offset = _a.offset, size = _a.size, maxSize = _a.maxSize;\n    var stepWidth = rowWidth / 12; // we're going to keep it a real number to preserve some precision\n    var allowResizeInEditMode = useOption('allowResizeInEditMode');\n    var isResizeMode = useIsResizeMode();\n    var isEditMode = useIsEditMode();\n    var isPreviewMode = useIsPreviewMode();\n    var resize = useResizeCell(nodeId);\n    var _b = __read(useMeasure(), 2), ref = _b[0], cellHeight = _b[1].height;\n    var cellSpacingY = useCellSpacing().y;\n    var showResizeHandle = !isPreviewMode &&\n        !isLast &&\n        (isResizeMode || (allowResizeInEditMode && isEditMode));\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Cell, { nodeId: nodeId, measureRef: ref }),\n        showResizeHandle ? (React.createElement(Draggable, { bounds: {\n                top: 0,\n                bottom: 0,\n                left: Math.round(stepWidth),\n                right: Math.round(rowWidth - stepWidth),\n            }, position: {\n                x: rowHasInlineChildrenPosition === 'right'\n                    ? Math.round(stepWidth * (12 - offset))\n                    : Math.round(stepWidth * offset),\n                y: 0,\n            }, axis: \"x\", onDrag: function (e, data) {\n                var diff = Math.round(data.deltaX / stepWidth);\n                var newSize = rowHasInlineChildrenPosition === 'right'\n                    ? size - diff\n                    : size + diff;\n                if (newSize > 0 && newSize <= maxSize)\n                    resize(newSize);\n            }, grid: [Math.round(stepWidth), 0] },\n            React.createElement(\"div\", { className: \"resize-handle\", style: {\n                    // fix floating style\n                    height: rowHasInlineChildrenPosition ? cellHeight : 'auto',\n                    margin: cellSpacingY !== 0 ? cellSpacingY / 2 + \"px 0\" : undefined,\n                }, onClick: function (e) { return e.stopPropagation(); } }))) : null));\n};\nexport default React.memo(ResizableRowCell);\n//# sourceMappingURL=ResizableRowCell.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useMeasure } from 'react-use';\nimport { isRow } from '../../types/node';\nimport { useCellSpacing, useNodeHoverPosition, useNodeProps } from '../hooks';\nimport Droppable from './Droppable';\nimport ResizableRowCell from './ResizableRowCell';\nvar reduceToIdAndSizeArray = function (acc, node, index, array) {\n    var _a, _b;\n    var nextNode = array[index + 1];\n    var size = isRow(node) ? 12 : node.size;\n    var nextSize = !nextNode || isRow(nextNode) ? 0 : nextNode.size;\n    var offset = size + ((_b = (_a = acc[index - 1]) === null || _a === void 0 ? void 0 : _a.offset) !== null && _b !== void 0 ? _b : 0);\n    return __spreadArray(__spreadArray([], __read(acc), false), [\n        {\n            id: node.id,\n            size: size,\n            maxSize: size + nextSize - 1,\n            offset: offset,\n        },\n    ], false);\n};\nvar Row = function (_a) {\n    var _b;\n    var nodeId = _a.nodeId;\n    var _c = __read(useMeasure(), 2), ref = _c[0], rowWidth = _c[1].width;\n    var hoverPosition = useNodeHoverPosition(nodeId);\n    var childrenWithOffsets = useNodeProps(nodeId, function (node) {\n        var _a, _b, _c, _d;\n        return isRow(node)\n            ? (_b = (_a = node.cells) === null || _a === void 0 ? void 0 : _a.reduce(reduceToIdAndSizeArray, [])) !== null && _b !== void 0 ? _b : []\n            : (_d = (_c = node.rows) === null || _c === void 0 ? void 0 : _c.reduce(reduceToIdAndSizeArray, [])) !== null && _d !== void 0 ? _d : [];\n    });\n    var rowHasInlineChildrenPosition = useNodeProps(nodeId, function (node) { var _a; return isRow(node) && node.cells.length === 2 && ((_a = node.cells[0]) === null || _a === void 0 ? void 0 : _a.inline); });\n    var _d = useCellSpacing(), cellSpacingX = _d.x, cellSpacingY = _d.y;\n    return (React.createElement(Droppable, { nodeId: nodeId },\n        React.createElement(\"div\", { ref: ref, className: classNames('react-page-row', {\n                'react-page-row-has-floating-children': Boolean(rowHasInlineChildrenPosition),\n            }), style: {\n                position: 'relative',\n                margin: cellSpacingX !== 0 ? \"0 \" + -cellSpacingX / 2 + \"px\" : undefined,\n            } },\n            React.createElement(\"div\", { style: {\n                    position: 'absolute',\n                    pointerEvents: 'none',\n                    top: cellSpacingY / 2 + \"px\",\n                    left: cellSpacingX / 2 + \"px\",\n                    bottom: cellSpacingY / 2 + \"px\",\n                    right: cellSpacingX / 2 + \"px\",\n                }, className: classNames((_b = {\n                        'react-page-row-is-hovering-this': Boolean(hoverPosition)\n                    },\n                    _b[\"react-page-row-is-hovering-\" + (hoverPosition || '')] = Boolean(hoverPosition),\n                    _b)) }),\n            childrenWithOffsets.map(function (_a, index) {\n                var offset = _a.offset, id = _a.id, size = _a.size, maxSize = _a.maxSize;\n                return (React.createElement(ResizableRowCell, { key: id, isLast: index === childrenWithOffsets.length - 1, rowWidth: rowWidth, nodeId: id, rowHasInlineChildrenPosition: rowHasInlineChildrenPosition, offset: offset, size: size, maxSize: maxSize }));\n            }))));\n};\nexport default React.memo(Row);\n//# sourceMappingURL=index.js.map","import React from 'react';\nimport InsertNew from '../../Cell/InsertNew';\nimport { useCellSpacing, useOption, useValueNode } from '../../hooks';\nimport Row from '../../Row';\nvar Rows = function () {\n    var _a;\n    var rowIds = useValueNode(function (editable) {\n        var _a, _b;\n        return ({\n            rowIds: (_b = (_a = editable === null || editable === void 0 ? void 0 : editable.rows) === null || _a === void 0 ? void 0 : _a.map(function (c) { return c.id; })) !== null && _b !== void 0 ? _b : [],\n        });\n    }).rowIds;\n    var childConstraints = useOption('childConstraints');\n    var components = useOption('components');\n    var cellSpacingY = useCellSpacing().y;\n    var insertAllowed = (childConstraints === null || childConstraints === void 0 ? void 0 : childConstraints.maxChildren)\n        ? (childConstraints === null || childConstraints === void 0 ? void 0 : childConstraints.maxChildren) > rowIds.length\n        : true;\n    var InsertNewWithDefault = (_a = components === null || components === void 0 ? void 0 : components.InsertNew) !== null && _a !== void 0 ? _a : InsertNew;\n    return (React.createElement(React.Fragment, null,\n        rowIds.length > 0 ? (React.createElement(\"div\", { style: cellSpacingY !== 0\n                ? { margin: -cellSpacingY / 2 + \"px 0\" }\n                : undefined }, rowIds.map(function (id) { return (React.createElement(Row, { nodeId: id, key: id })); }))) : null,\n        insertAllowed ? React.createElement(InsertNewWithDefault, { childrenIds: rowIds }) : null));\n};\nexport default React.memo(Rows);\n//# sourceMappingURL=Rows.js.map","import { useSelector } from '../../reduxConnect';\nimport { currentValue } from '../../selector/editable';\nimport deepEquals from '../../utils/deepEquals';\n/**\n *\n * @param selector receives the current value node object and returns T\n * @returns the selection T\n */\nexport var useValueNode = function (selector) {\n    return useSelector(function (state) { return selector(currentValue(state)); }, deepEquals);\n};\n//# sourceMappingURL=value.js.map","import React, { useRef } from 'react';\nimport { useDisplayMode, useZoom } from '../../hooks';\nimport { useKeepScrollPosition } from '../hooks/useKeepScrollPosition';\nimport Rows from './Rows';\nvar Inner = function () {\n    var _a;\n    var mode = useDisplayMode();\n    var ref = useRef();\n    var zoom = useZoom();\n    useKeepScrollPosition(ref);\n    var rect = (_a = ref.current) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect();\n    var zoomTransformOriginY = window.innerHeight / 2 - (rect === null || rect === void 0 ? void 0 : rect.top);\n    var offsetPercent = zoomTransformOriginY / (rect === null || rect === void 0 ? void 0 : rect.height);\n    var backdropPercent = 50 * (1 - zoom);\n    var left = backdropPercent + '%';\n    var right = 100 - backdropPercent + '%';\n    var top = backdropPercent * offsetPercent * 2 + '%';\n    var bottom = 100 - backdropPercent * (1 - offsetPercent) * 2 + '%';\n    return (React.createElement(\"div\", { ref: ref, style: {\n            position: 'relative',\n        } },\n        React.createElement(\"div\", { style: {\n                opacity: zoom < 1 ? 1 : 0,\n                position: 'absolute',\n                top: 0,\n                left: 0,\n                right: 0,\n                bottom: 0,\n                transition: '0.6s',\n                clipPath: \"polygon(0% 0%, 0% 100%, \" + left + \" 100%, \" + left + \" \" + top + \", \" + right + \" \" + top + \", \" + right + \" \" + bottom + \", \" + left + \" \" + bottom + \", \" + left + \" 100%, 100% 100%, 100% 0%)\",\n                background: \"url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16  ' viewBox='0 0 8 8'%3E%3Cg fill='%23c5c5c5' fill-opacity='0.4'%3E%3Cpath fill-rule='evenodd' d='M0 0h4v4H0V0zm4 4h4v4H4V4z'/%3E%3C/g%3E%3C/svg%3E\\\")\",\n            } }),\n        React.createElement(\"div\", { style: {\n                transformOrigin: \"center \" + zoomTransformOriginY + \"px\",\n                transform: \"scale(\" + zoom + \")\",\n                transition: '0.6s',\n            }, className: 'react-page-editable react-page-editable-mode-' + mode },\n            React.createElement(Rows, null))));\n};\nexport default React.memo(Inner);\n//# sourceMappingURL=index.js.map","import React from 'react';\nimport FallbackDropArea from './FallbackDropArea';\nimport Inner from './Inner';\nvar Editable = function () {\n    return (React.createElement(FallbackDropArea, null,\n        React.createElement(Inner, null)));\n};\nexport default React.memo(Editable);\n//# sourceMappingURL=index.js.map","import { useCallback } from 'react';\nimport { redo, undo } from '../../actions/undo';\nimport { useDispatch, useSelector } from '../../reduxConnect';\n/**\n * @returns function, that undos last change if called\n */\nexport var useUndo = function () {\n    var dispatch = useDispatch();\n    return useCallback(function () { return dispatch(undo()); }, [dispatch]);\n};\n/**\n * @returns function, that redos last change if called\n */\nexport var useRedo = function () {\n    var dispatch = useDispatch();\n    return useCallback(function () { return dispatch(redo()); }, [dispatch]);\n};\n/**\n * @returns whether user can undo\n */\nexport var useCanUndo = function () {\n    return useSelector(function (s) { return s.reactPage.values.past.length > 0; });\n};\n/**\n * @returns whether user can undo\n */\nexport var useCanRedo = function () {\n    return useSelector(function (s) { return s.reactPage.values.future.length > 0; });\n};\n//# sourceMappingURL=actions.js.map","import { ActionTypes } from 'redux-undo';\nexport var undo = function () { return ({\n    type: ActionTypes.UNDO,\n}); };\nexport var redo = function () { return ({\n    type: ActionTypes.REDO,\n}); };\n//# sourceMappingURL=undo.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport isHotkey from 'is-hotkey';\nimport { useCallback, useEffect, useMemo } from 'react';\nimport { objIsNode } from '../../../core/utils/objIsNode';\nimport { isRow } from '../../types/node';\nimport { getCommonAncestorTree } from '../../utils/ancestorTree';\nimport { cloneAsCell } from '../../utils/cloneWithNewIds';\nimport { useAllCellPluginsForNode, useAllFocusedNodeIds, useBlurAllCells, useEditorStore, useFocusCellById, useFocusedNodeId, useInsertAfter, useIsEditMode, useIsInsertMode, useParentCellId, useRedo, useRemoveMultipleNodeIds, useSetEditMode, useSetInsertMode, useUndo, } from '../hooks';\nvar lastFocused = null;\nvar GlobalHotKeys = function (_a) {\n    var focusRef = _a.focusRef;\n    var editor = useEditorStore();\n    var undo = useUndo();\n    var redo = useRedo();\n    var setInsertMode = useSetInsertMode();\n    var isEditMode = useIsEditMode();\n    var blurAllCells = useBlurAllCells();\n    var focusedNodeIds = useAllFocusedNodeIds();\n    var someCellIsFocused = focusedNodeIds.length > 0;\n    var focusedNodeId = useFocusedNodeId();\n    var focusParentId = useParentCellId(focusedNodeId);\n    var plugins = useAllCellPluginsForNode(focusParentId);\n    var focusCell = useFocusCellById();\n    var removeCells = useRemoveMultipleNodeIds();\n    var insertAfter = useInsertAfter();\n    var isInsertMode = useIsInsertMode();\n    var setEditMode = useSetEditMode();\n    var delegateToFoundPlugin = useCallback(function (event, nodeId, handlerName, defaultHandler) { return __awaiter(void 0, void 0, void 0, function () {\n        var node, plugin, e_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    node = editor.getNode(nodeId);\n                    plugin = plugins.find(function (p) { var _a, _b; return p.id === ((_b = (_a = node) === null || _a === void 0 ? void 0 : _a.plugin) === null || _b === void 0 ? void 0 : _b.id); });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 5, , 6]);\n                    if (!(isEditMode && node && plugin[handlerName])) return [3 /*break*/, 3];\n                    return [4 /*yield*/, plugin[handlerName](event, node)];\n                case 2:\n                    _a.sent();\n                    _a.label = 3;\n                case 3: \n                // if the plugin handler resolve or there is no, they do not handle it, so do the default\n                return [4 /*yield*/, defaultHandler(event, node)];\n                case 4:\n                    // if the plugin handler resolve or there is no, they do not handle it, so do the default\n                    _a.sent();\n                    return [3 /*break*/, 6];\n                case 5:\n                    e_1 = _a.sent();\n                    if (e_1) {\n                        // tslint:disable-next-line:no-console\n                        console.error(e_1);\n                    }\n                    return [3 /*break*/, 6];\n                case 6: return [2 /*return*/];\n            }\n        });\n    }); }, [editor, isEditMode]);\n    var handlers = useMemo(function () {\n        var handleCopy = function (deleteAfter) {\n            var _a;\n            var _b;\n            if (deleteAfter === void 0) { deleteAfter = false; }\n            // copy cell, unless text is selected\n            if (((_b = window.getSelection()) === null || _b === void 0 ? void 0 : _b.type) !== 'Range' &&\n                (focusedNodeIds === null || focusedNodeIds === void 0 ? void 0 : focusedNodeIds.length) > 0) {\n                var node = getCommonAncestorTree(editor, focusedNodeIds);\n                var cell = cloneAsCell(node);\n                var type = 'text/plain'; // json is not supported\n                var blob = new Blob([JSON.stringify(cell)], { type: type });\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var data = [new ClipboardItem((_a = {}, _a[type] = blob, _a))];\n                navigator.clipboard.write(data);\n                if (deleteAfter) {\n                    removeCells(focusedNodeIds);\n                }\n            }\n        };\n        return [\n            {\n                hotkeys: ['Escape'],\n                handler: function () {\n                    if (someCellIsFocused) {\n                        blurAllCells();\n                    }\n                    if (isInsertMode) {\n                        setEditMode();\n                    }\n                },\n            },\n            {\n                hotkeys: ['mod+z'],\n                handler: function () {\n                    undo();\n                },\n            },\n            {\n                hotkeys: ['mod+c'],\n                handler: function () {\n                    handleCopy(false);\n                },\n            },\n            {\n                hotkeys: ['mod+x'],\n                handler: function () {\n                    handleCopy(true);\n                },\n            },\n            {\n                hotkeys: ['mod+v'],\n                handler: function () { return __awaiter(void 0, void 0, void 0, function () {\n                    var node, _a, _b, commonAncestorNode, insertAfterNodeId, e_2;\n                    return __generator(this, function (_c) {\n                        switch (_c.label) {\n                            case 0:\n                                _c.trys.push([0, 2, , 3]);\n                                _b = (_a = JSON).parse;\n                                return [4 /*yield*/, navigator.clipboard.readText()];\n                            case 1:\n                                node = _b.apply(_a, [_c.sent()]);\n                                if (objIsNode(node)) {\n                                    commonAncestorNode = focusedNodeIds.length > 0\n                                        ? getCommonAncestorTree(editor, focusedNodeIds)\n                                        : null;\n                                    insertAfterNodeId = commonAncestorNode\n                                        ? isRow(commonAncestorNode)\n                                            ? commonAncestorNode.cells.length === 1 // if it has just one cell, add below this cell. if it has multiple, add below this row\n                                                ? commonAncestorNode.cells[0].id\n                                                : commonAncestorNode.id\n                                            : commonAncestorNode.rows[commonAncestorNode.rows.length - 1] // if common ancestor is a cell (usually the root cell, add below last row)\n                                                .id\n                                        : null;\n                                    insertAfter(node, insertAfterNodeId);\n                                }\n                                return [3 /*break*/, 3];\n                            case 2:\n                                e_2 = _c.sent();\n                                return [3 /*break*/, 3];\n                            case 3: return [2 /*return*/];\n                        }\n                    });\n                }); },\n            },\n            {\n                hotkeys: ['ctrl+shift+z', 'ctrl+y', 'command+shift+z', 'command+y'],\n                handler: function () {\n                    redo();\n                },\n            },\n            {\n                hotkeys: ['alt+del', 'alt+backspace'],\n                handler: function (event) {\n                    delegateToFoundPlugin(event, focusedNodeId, 'handleRemoveHotKey', function () {\n                        removeCells(focusedNodeIds);\n                    });\n                },\n            },\n        ];\n    }, [\n        focusedNodeId,\n        focusedNodeIds,\n        someCellIsFocused,\n        blurAllCells,\n        focusCell,\n        removeCells,\n        setEditMode,\n        setInsertMode,\n    ]);\n    useEffect(function () {\n        // when we have multiple instances, we try to send the event only to the right one\n        // we do a little trick with a global variable (instead of requiring a wrapping context)\n        lastFocused = focusRef.current;\n        var keyHandler = function (event) {\n            if (lastFocused !== focusRef.current)\n                return;\n            var matchingHandler = handlers.find(function (handler) {\n                return handler.hotkeys.some(function (hotkey) { return isHotkey(hotkey, event); });\n            });\n            matchingHandler === null || matchingHandler === void 0 ? void 0 : matchingHandler.handler(event);\n        };\n        document.addEventListener('keydown', keyHandler);\n        var focusHandler = function () {\n            lastFocused = focusRef.current;\n        };\n        focusRef.current.addEventListener('click', focusHandler);\n        focusRef.current.addEventListener('mouseenter', focusHandler);\n        return function () {\n            var _a, _b;\n            document.removeEventListener('keydown', keyHandler);\n            (_a = focusRef.current) === null || _a === void 0 ? void 0 : _a.removeEventListener('mouseenter', focusHandler);\n            (_b = focusRef.current) === null || _b === void 0 ? void 0 : _b.removeEventListener('click', focusHandler);\n            if (lastFocused === focusRef.current) {\n                lastFocused = null;\n            }\n        };\n    }, [handlers, someCellIsFocused, isEditMode, focusRef]);\n    return null;\n};\nexport default GlobalHotKeys;\n//# sourceMappingURL=GlobalHotKeys.js.map","import React from 'react';\nimport { DndProvider as DndProviderOrg } from 'react-dnd';\nimport { useOption } from '../components/hooks';\nvar DndProvider = function (_a) {\n    var children = _a.children;\n    var dndBackend = useOption('dndBackend');\n    return React.createElement(DndProviderOrg, { backend: dndBackend }, children);\n};\nexport default DndProvider;\n//# sourceMappingURL=DndProvider.js.map","import React, { useEffect } from 'react';\nimport { DISPLAY_MODE_EDIT } from '../actions/display';\nimport { useBlurAllCells, useIsInsertMode, useOption, useSetMode, } from './hooks';\n// this might break in future, but its better than nothing\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction findReactElement(node) {\n    for (var key in node) {\n        if (key.startsWith('__reactInternalInstance$') ||\n            key.startsWith('__reactFiber$') // react 17\n        ) {\n            return node[key];\n        }\n    }\n    return null;\n}\n// we go up the reac-tree. This works even through portals, which would not be possible with traversing the dom tree!\nvar isInSameTree = function (parent, child) {\n    if (!parent) {\n        return false;\n    }\n    var element = findReactElement(child);\n    while (element) {\n        if (element.stateNode === parent) {\n            return true;\n        }\n        element = element.return;\n    }\n    return false;\n};\nvar useBlurAll = function (_a) {\n    var _b = _a.defaultMode, defaultMode = _b === void 0 ? DISPLAY_MODE_EDIT : _b, disabled = _a.disabled;\n    var ref = React.useRef();\n    var blurAllCells = useBlurAllCells();\n    var setMode = useSetMode();\n    var isInsertMode = useIsInsertMode();\n    useEffect(function () {\n        if (disabled) {\n            return;\n        }\n        if (!ref.current) {\n            return;\n        }\n        if (!document && !document.body) {\n            return;\n        }\n        var onMouseDown = function (e) {\n            if (!isInSameTree(ref.current, e.target)) {\n                blurAllCells();\n                // set us in default mode if current mode is \"insert\"\n                if (isInsertMode) {\n                    setMode(defaultMode);\n                }\n            }\n        };\n        document.body.addEventListener('mousedown', onMouseDown);\n        return function () {\n            document.body.removeEventListener('mousedown', onMouseDown);\n        };\n    }, [ref.current, disabled, isInsertMode, setMode, blurAllCells]);\n    return ref;\n};\nvar BlurGate = function (_a) {\n    var children = _a.children;\n    var defaultMode = useOption('blurGateDefaultMode');\n    var disabled = useOption('blurGateDisabled');\n    var ref = useBlurAll({ defaultMode: defaultMode, disabled: disabled });\n    return React.createElement(\"div\", { ref: ref }, children);\n};\nexport default BlurGate;\n//# sourceMappingURL=BlurGate.js.map","import { createContext, useContext, useRef } from 'react';\nexport var CallbacksContext = createContext({});\n/**\n * @returns the callbacks object of the current Editor.\n *\n * this object is memoized, alltough its better to use `usecallback` instead if you want to use a single callback\n */\nexport var useCallbackOptions = function () { return useContext(CallbacksContext); };\n/**\n * get a single (memoized) callback\n * @param key the callback key\n * @returns the callback value\n */\nexport var useCallbackOption = function (key) {\n    var callbacks = useCallbackOptions();\n    var callback = callbacks[key];\n    var lastcallback = useRef(callback);\n    if (lastcallback.current !== callback) {\n        lastcallback.current = callback;\n    }\n    return lastcallback.current;\n};\n//# sourceMappingURL=callbacks.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useRef } from 'react';\nimport deepEquals from '../utils/deepEquals';\nimport { CallbacksContext } from '../components/hooks';\nvar CallbacksProvider = function (_a) {\n    var children = _a.children, callbacks = __rest(_a, [\"children\"]);\n    var lastCallbacks = useRef();\n    var isEqual = lastCallbacks.current\n        ? deepEquals(lastCallbacks.current, callbacks)\n        : false;\n    if (!isEqual) {\n        lastCallbacks.current = callbacks;\n    }\n    return (React.createElement(CallbacksContext.Provider, { value: lastCallbacks.current }, children));\n};\nexport default CallbacksProvider;\n//# sourceMappingURL=CallbacksProvider.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar serializeRow = function (r, cellPlugins) {\n    return __assign(__assign({}, r), { cells: r.cells.map(function (c) { return serializeCell(c, cellPlugins); }) });\n};\nvar serializeCell = function (c, cellPlugins) {\n    var _a;\n    var pluginDef = c.plugin;\n    var pluginFound = pluginDef\n        ? cellPlugins.find(function (p) { return p.id === pluginDef.id; })\n        : null;\n    var transformData = function (dataIn) {\n        return (pluginFound === null || pluginFound === void 0 ? void 0 : pluginFound.serialize) ? pluginFound.serialize(dataIn) : dataIn;\n    };\n    var dataI18n = c.dataI18n\n        ? Object.keys(c.dataI18n).reduce(function (acc, lang) {\n            var _a;\n            var _b;\n            return (__assign(__assign({}, acc), (_a = {}, _a[lang] = transformData((_b = c.dataI18n) === null || _b === void 0 ? void 0 : _b[lang]), _a)));\n        }, {})\n        : null;\n    return __assign(__assign({}, c), { rows: (_a = c.rows) === null || _a === void 0 ? void 0 : _a.map(function (r) { return serializeRow(r, cellPlugins); }), dataI18n: dataI18n });\n};\nexport var serialzeValue = function (_a, plugins) {\n    var rows = _a.rows, rest = __rest(_a, [\"rows\"]);\n    return __assign(__assign({}, rest), { rows: rows.map(function (c) { return serializeRow(c, plugins); }) });\n};\n//# sourceMappingURL=serialzeValue.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React, { useEffect, useMemo, useRef } from 'react';\nimport { updateValue } from '../actions/value';\nimport { useCallbackOption, useOption, useRenderOption, } from '../components/hooks';\nimport EditorStore, { EditorContext } from '../EditorStore';\nimport { migrateValue } from '../migrations/migrate';\nimport { serialzeValue } from '../migrations/serialzeValue';\nimport { initialState } from '../reducer';\nimport { ReduxProvider } from '../reduxConnect';\nimport deepEquals from '../utils/deepEquals';\nvar EditorStoreProvider = function (_a) {\n    var children = _a.children, lang = _a.lang, value = _a.value;\n    var cellPlugins = useRenderOption('cellPlugins');\n    var middleware = useOption('middleware');\n    var onChangeLang = useCallbackOption('onChangeLang');\n    var onChange = useCallbackOption('onChange');\n    var storeFromOptions = useOption('store');\n    var editorStore = useMemo(function () {\n        var store = new EditorStore({\n            initialState: initialState(migrateValue(value, {\n                cellPlugins: cellPlugins,\n                lang: lang,\n            }), lang),\n            store: storeFromOptions,\n            middleware: middleware,\n        });\n        return store;\n    }, __spreadArray([storeFromOptions], __read(middleware), false));\n    var lastValueRef = useRef(value);\n    useEffect(function () {\n        var oldLang = lang;\n        var handleChanges = function () {\n            // notify outsiders to new language, when chagned in ui\n            var newLang = editorStore.store.getState().reactPage.settings.lang;\n            if (newLang !== oldLang || newLang !== lang) {\n                oldLang = newLang;\n                onChangeLang === null || onChangeLang === void 0 ? void 0 : onChangeLang(newLang);\n            }\n            if (!onChange) {\n                return;\n            }\n            //console.time('calculate notifiy on change');\n            var currentValue = editorStore.store.getState().reactPage.values.present;\n            if (!currentValue) {\n                // console.timeEnd('calculate notifiy on change');\n                return;\n            }\n            var serializedValue = serialzeValue(currentValue, cellPlugins);\n            var serializedEqual = deepEquals(lastValueRef.current, serializedValue);\n            if (serializedEqual) {\n                //    console.timeEnd('calculate notifiy on change');\n                return;\n            }\n            lastValueRef.current = serializedValue;\n            //   console.timeEnd('calculate notifiy on change');\n            onChange(serializedValue);\n        };\n        var unsubscribe = editorStore.store.subscribe(handleChanges);\n        return function () {\n            unsubscribe();\n        };\n    }, [editorStore, onChange, cellPlugins]);\n    useEffect(function () {\n        var equal = deepEquals(value, lastValueRef.current);\n        // value changed from outside\n        if (!equal) {\n            lastValueRef.current = value;\n            var migratedValue = migrateValue(value, {\n                cellPlugins: cellPlugins,\n                lang: lang,\n            });\n            editorStore.store.dispatch(updateValue(migratedValue));\n        }\n    }, [value, cellPlugins, lang]);\n    useEffect(function () {\n        // if changed from outside\n        editorStore.setLang(lang);\n    }, [editorStore, lang]);\n    return (React.createElement(ReduxProvider, { store: editorStore.store },\n        React.createElement(EditorContext.Provider, { value: editorStore }, children)));\n};\nexport default EditorStoreProvider;\n//# sourceMappingURL=EditorStoreProvider.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useRef } from 'react';\nimport deepEquals from '../utils/deepEquals';\nimport { OptionsContext } from '../components/hooks';\nimport { DEFAULT_OPTIONS } from '../defaultOptions';\n/*\nwe memoize the options, so that if you access them, you won't get a fresh object every time.\n*/\nvar OptionsProvider = function (_a) {\n    var children = _a.children, options = __rest(_a, [\"children\"]);\n    var lastOptions = useRef();\n    var fullOptions = __assign(__assign({}, DEFAULT_OPTIONS), options);\n    var isEqual = lastOptions.current\n        ? deepEquals(lastOptions.current, fullOptions)\n        : false;\n    if (!isEqual) {\n        lastOptions.current = fullOptions;\n    }\n    return (React.createElement(OptionsContext.Provider, { value: lastOptions.current }, children));\n};\nexport default OptionsProvider;\n//# sourceMappingURL=OptionsProvider.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useRef } from 'react';\nimport deepEquals from '../utils/deepEquals';\nimport { RenderOptionsContext } from '../components/hooks';\nimport { DEFAULT_RENDER_OPTIONS } from '../defaultOptions';\n/*\nwe memoize the RenderOptions, so that if you access them, you won't get a fresh object every time.\n\n*/\nvar RenderOptionsProvider = function (_a) {\n    var children = _a.children, renderOptions = __rest(_a, [\"children\"]);\n    var lastRenderOptions = useRef();\n    var fullRenderOptions = __assign(__assign({}, DEFAULT_RENDER_OPTIONS), renderOptions);\n    var isEqual = lastRenderOptions.current\n        ? deepEquals(lastRenderOptions.current, fullRenderOptions)\n        : false;\n    if (!isEqual) {\n        lastRenderOptions.current = fullRenderOptions;\n    }\n    return (React.createElement(RenderOptionsContext.Provider, { value: lastRenderOptions.current }, children));\n};\nexport default RenderOptionsProvider;\n//# sourceMappingURL=RenderOptionsProvider.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport DndProvider from './DndProvider';\nimport BlurGate from '../components/BlurGate';\nimport CallbacksProvider from './CallbacksProvider';\nimport EditorStoreProvider from './EditorStoreProvider';\nimport OptionsProvider from './OptionsProvider';\nimport RenderOptionsProvider from './RenderOptionsProvider';\nvar Provider = function (_a) {\n    var lang = _a.lang, value = _a.value, _b = _a.children, children = _b === void 0 ? [] : _b, renderOptions = _a.renderOptions, callbacks = _a.callbacks, options = _a.options;\n    return (React.createElement(OptionsProvider, __assign({}, options),\n        React.createElement(RenderOptionsProvider, __assign({}, renderOptions),\n            React.createElement(CallbacksProvider, __assign({}, callbacks),\n                React.createElement(DndProvider, null,\n                    React.createElement(EditorStoreProvider, { lang: lang, value: value },\n                        React.createElement(BlurGate, null, children)))))));\n};\nexport default Provider;\n//# sourceMappingURL=index.js.map","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport Typography from '../Typography';\nimport ListContext from '../List/ListContext';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    flex: '1 1 auto',\n    minWidth: 0,\n    marginTop: 4,\n    marginBottom: 4\n  },\n\n  /* Styles applied to the `Typography` components if primary and secondary are set. */\n  multiline: {\n    marginTop: 6,\n    marginBottom: 6\n  },\n\n  /* Styles applied to the `Typography` components if dense. */\n  dense: {},\n\n  /* Styles applied to the root element if `inset={true}`. */\n  inset: {\n    paddingLeft: 56\n  },\n\n  /* Styles applied to the primary `Typography` component. */\n  primary: {},\n\n  /* Styles applied to the secondary `Typography` component. */\n  secondary: {}\n};\nvar ListItemText = /*#__PURE__*/React.forwardRef(function ListItemText(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$disableTypogra = props.disableTypography,\n      disableTypography = _props$disableTypogra === void 0 ? false : _props$disableTypogra,\n      _props$inset = props.inset,\n      inset = _props$inset === void 0 ? false : _props$inset,\n      primaryProp = props.primary,\n      primaryTypographyProps = props.primaryTypographyProps,\n      secondaryProp = props.secondary,\n      secondaryTypographyProps = props.secondaryTypographyProps,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"disableTypography\", \"inset\", \"primary\", \"primaryTypographyProps\", \"secondary\", \"secondaryTypographyProps\"]);\n\n  var _React$useContext = React.useContext(ListContext),\n      dense = _React$useContext.dense;\n\n  var primary = primaryProp != null ? primaryProp : children;\n\n  if (primary != null && primary.type !== Typography && !disableTypography) {\n    primary = /*#__PURE__*/React.createElement(Typography, _extends({\n      variant: dense ? 'body2' : 'body1',\n      className: classes.primary,\n      component: \"span\",\n      display: \"block\"\n    }, primaryTypographyProps), primary);\n  }\n\n  var secondary = secondaryProp;\n\n  if (secondary != null && secondary.type !== Typography && !disableTypography) {\n    secondary = /*#__PURE__*/React.createElement(Typography, _extends({\n      variant: \"body2\",\n      className: classes.secondary,\n      color: \"textSecondary\",\n      display: \"block\"\n    }, secondaryTypographyProps), secondary);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, dense && classes.dense, inset && classes.inset, primary && secondary && classes.multiline),\n    ref: ref\n  }, other), primary, secondary);\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItemText.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Alias for the `primary` prop.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the children won't be wrapped by a Typography component.\n   * This can be useful to render an alternative Typography variant by wrapping\n   * the `children` (or `primary`) text, and optional `secondary` text\n   * with the Typography component.\n   */\n  disableTypography: PropTypes.bool,\n\n  /**\n   * If `true`, the children will be indented.\n   * This should be used if there is no left avatar or left icon.\n   */\n  inset: PropTypes.bool,\n\n  /**\n   * The main content element.\n   */\n  primary: PropTypes.node,\n\n  /**\n   * These props will be forwarded to the primary typography component\n   * (as long as disableTypography is not `true`).\n   */\n  primaryTypographyProps: PropTypes.object,\n\n  /**\n   * The secondary content element.\n   */\n  secondary: PropTypes.node,\n\n  /**\n   * These props will be forwarded to the secondary typography component\n   * (as long as disableTypography is not `true`).\n   */\n  secondaryTypographyProps: PropTypes.object\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiListItemText'\n})(ListItemText);","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport classNames from 'classnames';\nimport React from 'react';\nimport { DragPreviewImage, useDrag } from 'react-dnd';\nimport { dragIcon } from '../../../core/components/Cell/Draggable/useDragHandle';\nimport { useSetLayoutMode } from '../../../core/components/hooks/displayMode';\nvar Draggable = function (_a) {\n    var insert = _a.insert, children = _a.children;\n    var setLayoutMode = useSetLayoutMode();\n    var _b = __read(useDrag({\n        type: 'cell',\n        item: function () {\n            setLayoutMode();\n            return {\n                cell: insert,\n            };\n        },\n        collect: function (monitor) { return ({\n            isDragging: monitor.isDragging(),\n        }); },\n    }), 3), isDragging = _b[0].isDragging, dragRef = _b[1], preview = _b[2];\n    var classes = classNames({ 'react-page-toolbar-draggable-is-dragged': isDragging }, 'react-page-toolbar-draggable');\n    return (React.createElement(\"div\", { className: classes, ref: dragRef },\n        React.createElement(DragPreviewImage, { connect: preview, src: dragIcon }),\n        children));\n};\nexport default Draggable;\n//# sourceMappingURL=index.js.map","import Avatar from '@material-ui/core/Avatar';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport React from 'react';\nimport { useDisplayModeReferenceNodeId, useInsertNew, useUiTranslator, } from '../../../core/components/hooks';\nimport Draggable from '../Draggable/index';\nvar Item = function (_a) {\n    var _b;\n    var plugin = _a.plugin, insert = _a.insert;\n    var title = (_b = plugin.title) !== null && _b !== void 0 ? _b : plugin.text;\n    var t = useUiTranslator().t;\n    if (!plugin.icon && !title) {\n        return null;\n    }\n    var referenceNodeId = useDisplayModeReferenceNodeId();\n    var insertNew = useInsertNew(referenceNodeId);\n    var insertIt = React.useCallback(function () { return insertNew(insert); }, [insertNew, referenceNodeId, insert]);\n    return (React.createElement(Draggable, { insert: insert },\n        React.createElement(ListItem, { title: t('Click to add or drag and drop it somewhere on your page!'), className: \"react-page-plugin-drawer-item\", onClick: insertIt },\n            React.createElement(Avatar, { children: plugin.icon || title[0], style: {\n                    marginRight: 16,\n                } }),\n            React.createElement(ListItemText, { primary: t(title), secondary: t(plugin.description) }))));\n};\nexport default Item;\n//# sourceMappingURL=index.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport TextField from '@material-ui/core/TextField';\nimport React from 'react';\nimport { Portal } from 'react-portal';\nimport { useIsInsertMode, useUiTranslator, useDisplayModeReferenceNodeId, useAllCellPluginsForNode, } from '../../core/components/hooks';\nimport Item from './Item/index';\nvar getPluginTitle = function (plugin) { var _a; return (_a = (plugin.title || plugin.text)) !== null && _a !== void 0 ? _a : ''; };\nexport var PluginDrawer = React.memo(function () {\n    var defaultLabels = {\n        noPluginFoundContent: 'No blocks found',\n        searchPlaceholder: 'Search for blocks',\n        insertPlugin: 'Add blocks to page',\n        dragMe: 'Drag me!',\n    };\n    var nodeId = useDisplayModeReferenceNodeId();\n    var plugins = useAllCellPluginsForNode(nodeId);\n    var t = useUiTranslator().t;\n    var _a = __read(React.useState(''), 2), searchText = _a[0], setSearchText = _a[1];\n    var searchFilter = React.useCallback(function (plugin) {\n        var id = plugin.id;\n        var title = getPluginTitle(plugin);\n        return (plugin &&\n            id &&\n            !plugin.hideInMenu &&\n            (id.toLowerCase().startsWith(searchText === null || searchText === void 0 ? void 0 : searchText.toLowerCase()) ||\n                (plugin.description &&\n                    plugin.description\n                        .toLowerCase()\n                        .startsWith(searchText === null || searchText === void 0 ? void 0 : searchText.toLowerCase())) ||\n                (title && title.toLowerCase().startsWith(searchText === null || searchText === void 0 ? void 0 : searchText.toLowerCase()))));\n    }, [searchText]);\n    var onSearch = React.useCallback(function (e) {\n        var target = e.target;\n        if (target instanceof HTMLInputElement) {\n            setSearchText(target.value);\n        }\n    }, [setSearchText]);\n    var isInsertMode = useIsInsertMode();\n    var inputRef = React.useRef();\n    React.useEffect(function () {\n        var handle;\n        if (inputRef.current && isInsertMode) {\n            handle = setTimeout(function () {\n                var e = inputRef.current.querySelector('input');\n                if (e) {\n                    e.focus();\n                }\n            }, 100);\n        }\n        return function () {\n            clearTimeout(handle);\n        };\n    }, [inputRef.current, isInsertMode]);\n    var filteredPlugins = plugins.filter(searchFilter);\n    return (React.createElement(Portal, null,\n        React.createElement(Drawer, { variant: \"persistent\", className: \"react-page-plugin-drawer\", open: isInsertMode, PaperProps: {\n                style: {\n                    width: 320,\n                },\n            } },\n            React.createElement(List, { subheader: React.createElement(ListSubheader, null, t(defaultLabels.insertPlugin)) },\n                React.createElement(ListItem, null,\n                    React.createElement(TextField, { inputRef: inputRef, placeholder: t(defaultLabels.searchPlaceholder), fullWidth: true, onChange: onSearch })),\n                filteredPlugins.length === 0 && (React.createElement(ListSubheader, null, t(defaultLabels.noPluginFoundContent)))),\n            filteredPlugins.length > 0 && (React.createElement(List, null, filteredPlugins.map(function (plugin, k) {\n                return (React.createElement(Item, { translations: defaultLabels, plugin: plugin, key: k.toString(), insert: {\n                        plugin: plugin.id,\n                    } }));\n            }))))));\n});\n//# sourceMappingURL=index.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport Fab from '@material-ui/core/Fab';\nimport Delete from '@material-ui/icons/Delete';\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useIsLayoutMode, useTrashDrop } from '../../core/components/hooks';\nexport var Trash = React.memo(function () {\n    var isLayoutMode = useIsLayoutMode();\n    var _a = __read(useTrashDrop(), 2), isHovering = _a[0].isHovering, ref = _a[1];\n    return (React.createElement(\"div\", { ref: ref, className: classNames('react-page-controls-trash', {\n            'react-page-controls-trash-active': isLayoutMode,\n        }) },\n        React.createElement(Fab, { color: \"secondary\", disabled: !isHovering },\n            React.createElement(Delete, null))));\n});\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport Fab from '@material-ui/core/Fab';\nimport { useIsSmallScreen } from '../../../core/components/hooks';\nvar DisplayModeToggle = function (_a) {\n    var description = _a.description, icon = _a.icon, onClick = _a.onClick, active = _a.active, disabled = _a.disabled, _b = _a.activeColor, activeColor = _b === void 0 ? 'secondary' : _b, style = _a.style, rest = __rest(_a, [\"description\", \"icon\", \"onClick\", \"active\", \"disabled\", \"activeColor\", \"style\"]);\n    var isSmall = useIsSmallScreen();\n    return (React.createElement(\"div\", { className: \"react-page-controls-mode-toggle-button\", style: style },\n        React.createElement(\"div\", { className: \"react-page-controls-mode-toggle-button-inner\" },\n            React.createElement(Fab, __assign({ color: active ? activeColor : 'default', size: isSmall ? 'small' : 'large', onClick: onClick, disabled: disabled }, rest), icon)),\n        React.createElement(\"div\", { className: \"react-page-controls-mode-toggle-button-description\" }, description)));\n};\nexport default DisplayModeToggle;\n//# sourceMappingURL=index.js.map","import Create from '@material-ui/icons/Create';\nimport React from 'react';\nimport { useIsEditMode, useSetEditMode } from '../../../core/components/hooks';\nimport Button from '../Button/index';\nvar ToggleEdit = function (_a) {\n    var label = _a.label;\n    var isEditMode = useIsEditMode();\n    var setEditMode = useSetEditMode();\n    return (React.createElement(Button, { icon: React.createElement(Create, null), description: label, active: isEditMode, onClick: setEditMode }));\n};\nexport default React.memo(ToggleEdit);\n//# sourceMappingURL=index.js.map","import ContentAdd from '@material-ui/icons/Add';\nimport React from 'react';\nimport { useIsInsertMode, useSetInsertMode, } from '../../../core/components/hooks';\nimport Button from '../Button/index';\nvar ToggleInsert = function (_a) {\n    var label = _a.label;\n    var isInsertMode = useIsInsertMode();\n    var setInsertMode = useSetInsertMode();\n    return (React.createElement(Button, { icon: React.createElement(ContentAdd, null), description: label, active: isInsertMode, onClick: setInsertMode }));\n};\nexport default React.memo(ToggleInsert);\n//# sourceMappingURL=index.js.map","import ViewQuilt from '@material-ui/icons/ViewQuilt';\nimport React from 'react';\nimport { useIsLayoutMode, useSetLayoutMode, } from '../../../core/components/hooks';\nimport Button from '../Button';\nvar ToggleLayout = function (_a) {\n    var label = _a.label;\n    var isLayoutMode = useIsLayoutMode();\n    var setLayoutMode = useSetLayoutMode();\n    return (React.createElement(Button, { icon: React.createElement(ViewQuilt, null), description: label, active: isLayoutMode, onClick: setLayoutMode }));\n};\nexport default React.memo(ToggleLayout);\n//# sourceMappingURL=index.js.map","import Devices from '@material-ui/icons/Devices';\nimport React from 'react';\nimport { useIsPreviewMode, useSetPreviewMode, } from '../../../core/components/hooks';\nimport Button from '../Button/index';\nvar TogglePreview = function (_a) {\n    var label = _a.label;\n    var isPreviewMode = useIsPreviewMode();\n    var setIsPreviewMode = useSetPreviewMode();\n    return (React.createElement(Button, { icon: React.createElement(Devices, null), description: label, active: isPreviewMode, onClick: setIsPreviewMode }));\n};\nexport default React.memo(TogglePreview);\n//# sourceMappingURL=index.js.map","import Resize from '@material-ui/icons/SettingsOverscan';\nimport React from 'react';\nimport { useIsResizeMode, useSetResizeMode, } from '../../../core/components/hooks';\nimport Button from '../Button/index';\nvar ToggleResize = function (props) {\n    var isResizeMode = useIsResizeMode();\n    var setResizeMode = useSetResizeMode();\n    return (React.createElement(Button, { icon: React.createElement(Resize, null), description: props.label, active: isResizeMode, onClick: setResizeMode }));\n};\nexport default React.memo(ToggleResize);\n//# sourceMappingURL=index.js.map","import IconRedo from '@material-ui/icons/Redo';\nimport IconUndo from '@material-ui/icons/Undo';\nimport React from 'react';\nimport { useCanRedo, useCanUndo, useIsSmallScreen, useRedo, useUndo, } from '../../../core/components/hooks';\nimport Button from '../Button/index';\nvar UndoRedo = function (_a) {\n    var labelUndo = _a.labelUndo, labelRedo = _a.labelRedo;\n    var undo = useUndo();\n    var canUndo = useCanUndo();\n    var canRedo = useCanRedo();\n    var redo = useRedo();\n    var isSmall = useIsSmallScreen();\n    return (React.createElement(\"div\", { style: {\n            height: isSmall ? 56 : 80,\n            float: 'right',\n            display: 'flex',\n            direction: 'ltr',\n            transform: 'scale(1.2)',\n        } },\n        React.createElement(\"div\", { style: {\n                width: isSmall ? 29 : 36,\n                overflow: 'hidden',\n                marginRight: isSmall ? 1 : 2,\n            } },\n            React.createElement(Button, { active: true, disabled: !canUndo, style: {\n                    transform: \"translateX(\" + (isSmall ? 27 : 35) + \"px)\",\n                }, icon: React.createElement(IconUndo, { style: { transform: \"translateX(-\" + (isSmall ? 6 : 12) + \"px)\" } }), description: labelUndo, onClick: undo, activeColor: \"primary\" })),\n        React.createElement(\"div\", { style: {\n                width: isSmall ? 28 : 36,\n                overflow: 'hidden',\n                marginLeft: 1,\n            } },\n            React.createElement(Button, { style: {\n                    position: 'relative',\n                    transform: 'translateX(1px)',\n                }, active: true, disabled: !canRedo, icon: React.createElement(IconRedo, { style: { transform: \"translateX(\" + (isSmall ? 6 : 12) + \"px)\" } }), description: labelRedo, onClick: redo, activeColor: \"primary\" }))));\n};\nexport default React.memo(UndoRedo);\n//# sourceMappingURL=index.js.map","import IconZoomOut from '@material-ui/icons/ZoomOut';\nimport IconZoomIn from '@material-ui/icons/ZoomIn';\nimport React from 'react';\nimport { useCanZoomIn, useCanZoomOut, useIsSmallScreen, useZoomIn, useZoomOut, } from '../../../core/components/hooks';\nimport Button from '../Button/index';\nvar Zoom = function (_a) {\n    var labelZoomIn = _a.labelZoomIn, labelZoomOut = _a.labelZoomOut;\n    var canZoomIn = useCanZoomIn();\n    var canZoomOut = useCanZoomOut();\n    var zoomOut = useZoomOut();\n    var zoomIn = useZoomIn();\n    var isSmall = useIsSmallScreen();\n    return (React.createElement(\"div\", { style: {\n            height: isSmall ? 56 : 80,\n            float: 'right',\n            display: 'flex',\n            direction: 'ltr',\n            transform: 'scale(1.2)',\n        } },\n        React.createElement(\"div\", { style: {\n                width: isSmall ? 29 : 36,\n                overflow: 'hidden',\n                marginRight: isSmall ? 1 : 2,\n            } },\n            React.createElement(Button, { active: true, disabled: !canZoomIn, style: {\n                    transform: \"translateX(\" + (isSmall ? 27 : 35) + \"px)\",\n                }, icon: React.createElement(IconZoomIn, { style: { transform: \"translateX(-\" + (isSmall ? 6 : 12) + \"px)\" } }), description: labelZoomIn, onClick: zoomIn, activeColor: \"default\" })),\n        React.createElement(\"div\", { style: {\n                width: isSmall ? 28 : 36,\n                overflow: 'hidden',\n                marginLeft: 1,\n            } },\n            React.createElement(Button, { style: {\n                    position: 'relative',\n                    transform: 'translateX(1px)',\n                }, active: true, disabled: !canZoomOut, icon: React.createElement(IconZoomOut, { style: { transform: \"translateX(\" + (isSmall ? 6 : 12) + \"px)\" } }), description: labelZoomOut, onClick: zoomOut, activeColor: \"default\" }))));\n};\nexport default React.memo(Zoom);\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport { useOption, useUiTranslator } from '../../core/components/hooks';\nimport ToggleEdit from './ToggleEdit/index';\nimport ToggleInsert from './ToggleInsert/index';\nimport ToggleLayout from './ToggleLayout/index';\nimport TogglePreview from './TogglePreview/index';\nimport ToggleResize from './ToggleResize/index';\nimport UndoRedo from './UndoRedo';\nimport Zoom from './Zoom';\nvar getStickyNessstyle = function (stickyness) {\n    if (!stickyness ||\n        (!stickyness.shouldStickToBottom && !stickyness.shouldStickToTop)) {\n        return {\n            position: 'fixed',\n        };\n    }\n    return {\n        position: 'absolute',\n        bottom: stickyness.shouldStickToBottom ? 0 : 'auto',\n        top: stickyness.shouldStickToTop ? 0 : 'auto',\n        right: -stickyness.rightOffset || 0,\n    };\n};\nexport var Sidebar = function (_a) {\n    var stickyNess = _a.stickyNess;\n    var t = useUiTranslator().t;\n    var zoomEnabled = useOption('zoomEnabled');\n    var defaultLabels = {\n        edit: 'Edit blocks',\n        insert: 'Add blocks',\n        layout: 'Move blocks',\n        resize: 'Resize blocks',\n        preview: 'Preview page',\n    };\n    var actions = [\n        // eslint-disable-next-line react/jsx-key\n        { action: React.createElement(UndoRedo, { labelRedo: \"redo\", labelUndo: \"undo\" }) },\n        zoomEnabled\n            ? { action: React.createElement(Zoom, { labelZoomIn: \"zoom in\", labelZoomOut: \"zoom out\" }) }\n            : null,\n        { action: React.createElement(ToggleEdit, { label: t(defaultLabels.edit) }) },\n        { action: React.createElement(ToggleInsert, { label: t(defaultLabels.insert) }) },\n        { action: React.createElement(ToggleLayout, { label: t(defaultLabels.layout) }) },\n        { action: React.createElement(ToggleResize, { label: t(defaultLabels.resize) }) },\n        { action: React.createElement(TogglePreview, { label: t(defaultLabels.preview) }) },\n    ].filter(Boolean);\n    return (React.createElement(\"div\", { className: \"react-page-controls-mode-toggle-control-group\", style: __assign({ position: 'fixed', zIndex: 10001, bottom: 0, right: 0, display: 'flex', maxHeight: '100%' }, getStickyNessstyle(stickyNess)) },\n        React.createElement(\"div\", { ref: stickyNess.stickyElRef, style: {\n                padding: 16,\n                position: 'relative',\n                flexFlow: 'column wrap',\n                direction: 'rtl',\n                display: 'flex',\n            } }, actions.map(function (_a, index) {\n            var action = _a.action;\n            return (React.createElement(\"div\", { key: index, className: \"react-page-controls-mode-toggle-control\", style: {\n                    animationDelay: (actions.length - index) * 150 + 'ms',\n                } },\n                action,\n                React.createElement(\"div\", { className: \"react-page-controls-mode-toggle-clearfix\" })));\n        }))));\n};\n//# sourceMappingURL=index.js.map","import React from 'react';\nimport { IconButton, Tooltip } from '@material-ui/core';\nimport Delete from '@material-ui/icons/Delete';\nimport { useAllFocusedNodeIds, useRemoveMultipleNodeIds, useUiTranslator, } from '../../core/components/hooks';\nvar DeleteAll = function () {\n    var remove = useRemoveMultipleNodeIds();\n    var focused = useAllFocusedNodeIds();\n    var t = useUiTranslator().t;\n    return (React.createElement(Tooltip, { title: t('Remove all selected') },\n        React.createElement(IconButton, { onClick: function () { return remove(focused); }, \"aria-label\": \"delete\", color: \"secondary\" },\n            React.createElement(Delete, null))));\n};\nexport default DeleteAll;\n//# sourceMappingURL=DeleteAll.js.map","import { IconButton, Tooltip } from '@material-ui/core';\nimport React from 'react';\nimport { useAllFocusedNodeIds, useDuplicateMultipleCells, useUiTranslator, } from '../../core/components/hooks';\nimport Icon from '@material-ui/icons/FileCopy';\nvar DuplicateAll = function () {\n    var duplicate = useDuplicateMultipleCells();\n    var t = useUiTranslator().t;\n    var nodeIds = useAllFocusedNodeIds();\n    return (React.createElement(Tooltip, { title: t('Duplicate al') },\n        React.createElement(IconButton, { onClick: function () { return duplicate(nodeIds); }, \"aria-label\": \"delete\", color: \"default\" },\n            React.createElement(Icon, null))));\n};\nexport default DuplicateAll;\n//# sourceMappingURL=DuplicateAll.js.map","import { Avatar, Grid, Typography } from '@material-ui/core';\nimport React from 'react';\nimport { useAllFocusedNodeIds, useUiTranslator, } from '../../core/components/hooks';\nimport { BottomToolbarDrawer } from '../BottomToolbar';\nimport DeleteAll from './DeleteAll';\nimport DuplicateAll from './DuplicateAll';\nexport var MultiNodesBottomToolbar = React.memo(function () {\n    var t = useUiTranslator().t;\n    var focusedNodeIds = useAllFocusedNodeIds();\n    return (React.createElement(BottomToolbarDrawer, { open: focusedNodeIds.length > 1, anchor: 'bottom' },\n        React.createElement(Grid, { container: true, direction: \"row\", alignItems: \"center\" },\n            React.createElement(Grid, { item: true },\n                React.createElement(Avatar, { children: focusedNodeIds.length, style: {\n                        marginRight: 16,\n                    } })),\n            React.createElement(Grid, { item: true },\n                React.createElement(Typography, { variant: \"subtitle1\" }, t('(multiple selected)'))),\n            React.createElement(Grid, { item: true, style: { marginLeft: 'auto' } },\n                React.createElement(DuplicateAll, null)),\n            React.createElement(Grid, { item: true },\n                React.createElement(DeleteAll, null)))));\n});\n//# sourceMappingURL=index.js.map","import React from 'react';\nimport { ThemeProvider } from '../ThemeProvider';\nimport { PluginDrawer } from '../PluginDrawer';\nimport { Trash } from '../Trash';\nimport { Sidebar } from '../Sidebar';\nimport { useOption } from '../../core/components/hooks';\nimport { MultiNodesBottomToolbar } from '../MultiNodesBottomToolbar';\nexport default React.memo(function (_a) {\n    var _b = _a.stickyNess, stickyNess = _b === void 0 ? {\n        shouldStickToTop: false,\n        shouldStickToBottom: false,\n        rightOffset: 0,\n    } : _b;\n    var hideEditorSidebar = useOption('hideEditorSidebar');\n    return (React.createElement(ThemeProvider, null,\n        React.createElement(Trash, null),\n        !hideEditorSidebar && React.createElement(Sidebar, { stickyNess: stickyNess }),\n        React.createElement(PluginDrawer, null),\n        React.createElement(MultiNodesBottomToolbar, null)));\n});\n//# sourceMappingURL=index.js.map","import React from 'react';\nimport Editable from '../core/components/Editable';\nimport GlobalHotKeys from '../core/components/HotKey/GlobalHotKeys';\nimport { createEmptyState } from '../core/EditorStore';\nimport Provider from '../core/Provider';\nimport EditorUI from '../ui/EditorUI';\nimport StickyWrapper from './StickyWrapper';\nvar EditableEditor = function (_a) {\n    var value = _a.value, lang = _a.lang, children = _a.children, options = _a.options, renderOptions = _a.renderOptions, callbacks = _a.callbacks;\n    var theValue = value || createEmptyState();\n    return (React.createElement(Provider, { lang: lang, callbacks: callbacks, value: theValue, renderOptions: renderOptions, options: options },\n        children,\n        React.createElement(StickyWrapper, null, function (stickyNess) { return (React.createElement(React.Fragment, null,\n            React.createElement(GlobalHotKeys, { focusRef: stickyNess.focusRef }),\n            React.createElement(Editable, null),\n            React.createElement(EditorUI, { stickyNess: stickyNess }))); })));\n};\nexport default EditableEditor;\n//# sourceMappingURL=EditableEditor.js.map","export var INIT_COORDS = 'dnd-core/INIT_COORDS';\nexport var BEGIN_DRAG = 'dnd-core/BEGIN_DRAG';\nexport var PUBLISH_DRAG_SOURCE = 'dnd-core/PUBLISH_DRAG_SOURCE';\nexport var HOVER = 'dnd-core/HOVER';\nexport var DROP = 'dnd-core/DROP';\nexport var END_DRAG = 'dnd-core/END_DRAG';","import { INIT_COORDS } from '../types';\nexport function setClientOffset(clientOffset, sourceClientOffset) {\n  return {\n    type: INIT_COORDS,\n    payload: {\n      sourceClientOffset: sourceClientOffset || null,\n      clientOffset: clientOffset || null\n    }\n  };\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// cheap lodash replacements\n\n/**\n * drop-in replacement for _.get\n * @param obj\n * @param path\n * @param defaultValue\n */\nexport function get(obj, path, defaultValue) {\n  return path.split('.').reduce(function (a, c) {\n    return a && a[c] ? a[c] : defaultValue || null;\n  }, obj);\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nexport function isString(input) {\n  return typeof input === 'string';\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nexport function isObject(input) {\n  return _typeof(input) === 'object';\n}\n/**\n * repalcement for _.xor\n * @param itemsA\n * @param itemsB\n */\n\nexport function xor(itemsA, itemsB) {\n  var map = new Map();\n\n  var insertItem = function insertItem(item) {\n    map.set(item, map.has(item) ? map.get(item) + 1 : 1);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  map.forEach(function (count, key) {\n    if (count === 1) {\n      result.push(key);\n    }\n  });\n  return result;\n}\n/**\n * replacement for _.intersection\n * @param itemsA\n * @param itemsB\n */\n\nexport function intersection(itemsA, itemsB) {\n  return itemsA.filter(function (t) {\n    return itemsB.indexOf(t) > -1;\n  });\n}","import { invariant } from '@react-dnd/invariant';\nimport { setClientOffset } from './local/setClientOffset';\nimport { isObject } from '../../utils/js_utils';\nimport { BEGIN_DRAG, INIT_COORDS } from './types';\nvar ResetCoordinatesAction = {\n  type: INIT_COORDS,\n  payload: {\n    clientOffset: null,\n    sourceClientOffset: null\n  }\n};\nexport function createBeginDrag(manager) {\n  return function beginDrag() {\n    var sourceIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      publishSource: true\n    };\n    var _options$publishSourc = options.publishSource,\n        publishSource = _options$publishSourc === void 0 ? true : _options$publishSourc,\n        clientOffset = options.clientOffset,\n        getSourceClientOffset = options.getSourceClientOffset;\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry(); // Initialize the coordinates using the client offset\n\n    manager.dispatch(setClientOffset(clientOffset));\n    verifyInvariants(sourceIds, monitor, registry); // Get the draggable source\n\n    var sourceId = getDraggableSource(sourceIds, monitor);\n\n    if (sourceId === null) {\n      manager.dispatch(ResetCoordinatesAction);\n      return;\n    } // Get the source client offset\n\n\n    var sourceClientOffset = null;\n\n    if (clientOffset) {\n      if (!getSourceClientOffset) {\n        throw new Error('getSourceClientOffset must be defined');\n      }\n\n      verifyGetSourceClientOffsetIsFunction(getSourceClientOffset);\n      sourceClientOffset = getSourceClientOffset(sourceId);\n    } // Initialize the full coordinates\n\n\n    manager.dispatch(setClientOffset(clientOffset, sourceClientOffset));\n    var source = registry.getSource(sourceId);\n    var item = source.beginDrag(monitor, sourceId); // If source.beginDrag returns null, this is an indicator to cancel the drag\n\n    if (item == null) {\n      return undefined;\n    }\n\n    verifyItemIsObject(item);\n    registry.pinSource(sourceId);\n    var itemType = registry.getSourceType(sourceId);\n    return {\n      type: BEGIN_DRAG,\n      payload: {\n        itemType: itemType,\n        item: item,\n        sourceId: sourceId,\n        clientOffset: clientOffset || null,\n        sourceClientOffset: sourceClientOffset || null,\n        isSourcePublic: !!publishSource\n      }\n    };\n  };\n}\n\nfunction verifyInvariants(sourceIds, monitor, registry) {\n  invariant(!monitor.isDragging(), 'Cannot call beginDrag while dragging.');\n  sourceIds.forEach(function (sourceId) {\n    invariant(registry.getSource(sourceId), 'Expected sourceIds to be registered.');\n  });\n}\n\nfunction verifyGetSourceClientOffsetIsFunction(getSourceClientOffset) {\n  invariant(typeof getSourceClientOffset === 'function', 'When clientOffset is provided, getSourceClientOffset must be a function.');\n}\n\nfunction verifyItemIsObject(item) {\n  invariant(isObject(item), 'Item must be an object.');\n}\n\nfunction getDraggableSource(sourceIds, monitor) {\n  var sourceId = null;\n\n  for (var i = sourceIds.length - 1; i >= 0; i--) {\n    if (monitor.canDragSource(sourceIds[i])) {\n      sourceId = sourceIds[i];\n      break;\n    }\n  }\n\n  return sourceId;\n}","import { PUBLISH_DRAG_SOURCE } from './types';\nexport function createPublishDragSource(manager) {\n  return function publishDragSource() {\n    var monitor = manager.getMonitor();\n\n    if (monitor.isDragging()) {\n      return {\n        type: PUBLISH_DRAG_SOURCE\n      };\n    }\n  };\n}","export function matchesType(targetType, draggedItemType) {\n  if (draggedItemType === null) {\n    return targetType === null;\n  }\n\n  return Array.isArray(targetType) ? targetType.some(function (t) {\n    return t === draggedItemType;\n  }) : targetType === draggedItemType;\n}","import { invariant } from '@react-dnd/invariant';\nimport { matchesType } from '../../utils/matchesType';\nimport { HOVER } from './types';\nexport function createHover(manager) {\n  return function hover(targetIdsArg) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        clientOffset = _ref.clientOffset;\n\n    verifyTargetIdsIsArray(targetIdsArg);\n    var targetIds = targetIdsArg.slice(0);\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    checkInvariants(targetIds, monitor, registry);\n    var draggedItemType = monitor.getItemType();\n    removeNonMatchingTargetIds(targetIds, registry, draggedItemType);\n    hoverAllTargets(targetIds, monitor, registry);\n    return {\n      type: HOVER,\n      payload: {\n        targetIds: targetIds,\n        clientOffset: clientOffset || null\n      }\n    };\n  };\n}\n\nfunction verifyTargetIdsIsArray(targetIdsArg) {\n  invariant(Array.isArray(targetIdsArg), 'Expected targetIds to be an array.');\n}\n\nfunction checkInvariants(targetIds, monitor, registry) {\n  invariant(monitor.isDragging(), 'Cannot call hover while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call hover after drop.');\n\n  for (var i = 0; i < targetIds.length; i++) {\n    var targetId = targetIds[i];\n    invariant(targetIds.lastIndexOf(targetId) === i, 'Expected targetIds to be unique in the passed array.');\n    var target = registry.getTarget(targetId);\n    invariant(target, 'Expected targetIds to be registered.');\n  }\n}\n\nfunction removeNonMatchingTargetIds(targetIds, registry, draggedItemType) {\n  // Remove those targetIds that don't match the targetType.  This\n  // fixes shallow isOver which would only be non-shallow because of\n  // non-matching targets.\n  for (var i = targetIds.length - 1; i >= 0; i--) {\n    var targetId = targetIds[i];\n    var targetType = registry.getTargetType(targetId);\n\n    if (!matchesType(targetType, draggedItemType)) {\n      targetIds.splice(i, 1);\n    }\n  }\n}\n\nfunction hoverAllTargets(targetIds, monitor, registry) {\n  // Finally call hover on all matching targets.\n  targetIds.forEach(function (targetId) {\n    var target = registry.getTarget(targetId);\n    target.hover(monitor, targetId);\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { DROP } from './types';\nimport { isObject } from '../../utils/js_utils';\nexport function createDrop(manager) {\n  return function drop() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyInvariants(monitor);\n    var targetIds = getDroppableTargets(monitor); // Multiple actions are dispatched here, which is why this doesn't return an action\n\n    targetIds.forEach(function (targetId, index) {\n      var dropResult = determineDropResult(targetId, index, registry, monitor);\n      var action = {\n        type: DROP,\n        payload: {\n          dropResult: _objectSpread(_objectSpread({}, options), dropResult)\n        }\n      };\n      manager.dispatch(action);\n    });\n  };\n}\n\nfunction verifyInvariants(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call drop while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call drop twice during one drag operation.');\n}\n\nfunction determineDropResult(targetId, index, registry, monitor) {\n  var target = registry.getTarget(targetId);\n  var dropResult = target ? target.drop(monitor, targetId) : undefined;\n  verifyDropResultType(dropResult);\n\n  if (typeof dropResult === 'undefined') {\n    dropResult = index === 0 ? {} : monitor.getDropResult();\n  }\n\n  return dropResult;\n}\n\nfunction verifyDropResultType(dropResult) {\n  invariant(typeof dropResult === 'undefined' || isObject(dropResult), 'Drop result must either be an object or undefined.');\n}\n\nfunction getDroppableTargets(monitor) {\n  var targetIds = monitor.getTargetIds().filter(monitor.canDropOnTarget, monitor);\n  targetIds.reverse();\n  return targetIds;\n}","import { invariant } from '@react-dnd/invariant';\nimport { END_DRAG } from './types';\nexport function createEndDrag(manager) {\n  return function endDrag() {\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyIsDragging(monitor);\n    var sourceId = monitor.getSourceId();\n\n    if (sourceId != null) {\n      var source = registry.getSource(sourceId, true);\n      source.endDrag(monitor, sourceId);\n      registry.unpinSource();\n    }\n\n    return {\n      type: END_DRAG\n    };\n  };\n}\n\nfunction verifyIsDragging(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call endDrag while not dragging.');\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { createDragDropActions } from '../actions/dragDrop';\nexport var DragDropManagerImpl = /*#__PURE__*/function () {\n  function DragDropManagerImpl(store, monitor) {\n    var _this = this;\n\n    _classCallCheck(this, DragDropManagerImpl);\n\n    _defineProperty(this, \"store\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"backend\", void 0);\n\n    _defineProperty(this, \"isSetUp\", false);\n\n    _defineProperty(this, \"handleRefCountChange\", function () {\n      var shouldSetUp = _this.store.getState().refCount > 0;\n\n      if (_this.backend) {\n        if (shouldSetUp && !_this.isSetUp) {\n          _this.backend.setup();\n\n          _this.isSetUp = true;\n        } else if (!shouldSetUp && _this.isSetUp) {\n          _this.backend.teardown();\n\n          _this.isSetUp = false;\n        }\n      }\n    });\n\n    this.store = store;\n    this.monitor = monitor;\n    store.subscribe(this.handleRefCountChange);\n  }\n\n  _createClass(DragDropManagerImpl, [{\n    key: \"receiveBackend\",\n    value: function receiveBackend(backend) {\n      this.backend = backend;\n    }\n  }, {\n    key: \"getMonitor\",\n    value: function getMonitor() {\n      return this.monitor;\n    }\n  }, {\n    key: \"getBackend\",\n    value: function getBackend() {\n      return this.backend;\n    }\n  }, {\n    key: \"getRegistry\",\n    value: function getRegistry() {\n      return this.monitor.registry;\n    }\n  }, {\n    key: \"getActions\",\n    value: function getActions() {\n      /* eslint-disable-next-line @typescript-eslint/no-this-alias */\n      var manager = this;\n      var dispatch = this.store.dispatch;\n\n      function bindActionCreator(actionCreator) {\n        return function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          var action = actionCreator.apply(manager, args);\n\n          if (typeof action !== 'undefined') {\n            dispatch(action);\n          }\n        };\n      }\n\n      var actions = createDragDropActions(this);\n      return Object.keys(actions).reduce(function (boundActions, key) {\n        var action = actions[key];\n        boundActions[key] = bindActionCreator(action);\n        return boundActions;\n      }, {});\n    }\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(action) {\n      this.store.dispatch(action);\n    }\n  }]);\n\n  return DragDropManagerImpl;\n}();","import { createBeginDrag } from './beginDrag';\nimport { createPublishDragSource } from './publishDragSource';\nimport { createHover } from './hover';\nimport { createDrop } from './drop';\nimport { createEndDrag } from './endDrag';\nexport * from './types';\nexport function createDragDropActions(manager) {\n  return {\n    beginDrag: createBeginDrag(manager),\n    publishDragSource: createPublishDragSource(manager),\n    hover: createHover(manager),\n    drop: createDrop(manager),\n    endDrag: createEndDrag(manager)\n  };\n}","export var strictEquality = function strictEquality(a, b) {\n  return a === b;\n};\n/**\n * Determine if two cartesian coordinate offsets are equal\n * @param offsetA\n * @param offsetB\n */\n\nexport function areCoordsEqual(offsetA, offsetB) {\n  if (!offsetA && !offsetB) {\n    return true;\n  } else if (!offsetA || !offsetB) {\n    return false;\n  } else {\n    return offsetA.x === offsetB.x && offsetA.y === offsetB.y;\n  }\n}\n/**\n * Determines if two arrays of items are equal\n * @param a The first array of items\n * @param b The second array of items\n */\n\nexport function areArraysEqual(a, b) {\n  var isEqual = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : strictEquality;\n\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (var i = 0; i < a.length; ++i) {\n    if (!isEqual(a[i], b[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { INIT_COORDS, BEGIN_DRAG, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { areCoordsEqual } from '../utils/equality';\nvar initialState = {\n  initialSourceClientOffset: null,\n  initialClientOffset: null,\n  clientOffset: null\n};\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case INIT_COORDS:\n    case BEGIN_DRAG:\n      return {\n        initialSourceClientOffset: payload.sourceClientOffset,\n        initialClientOffset: payload.clientOffset,\n        clientOffset: payload.clientOffset\n      };\n\n    case HOVER:\n      if (areCoordsEqual(state.clientOffset, payload.clientOffset)) {\n        return state;\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        clientOffset: payload.clientOffset\n      });\n\n    case END_DRAG:\n    case DROP:\n      return initialState;\n\n    default:\n      return state;\n  }\n}","export var ADD_SOURCE = 'dnd-core/ADD_SOURCE';\nexport var ADD_TARGET = 'dnd-core/ADD_TARGET';\nexport var REMOVE_SOURCE = 'dnd-core/REMOVE_SOURCE';\nexport var REMOVE_TARGET = 'dnd-core/REMOVE_TARGET';\nexport function addSource(sourceId) {\n  return {\n    type: ADD_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nexport function addTarget(targetId) {\n  return {\n    type: ADD_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}\nexport function removeSource(sourceId) {\n  return {\n    type: REMOVE_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nexport function removeTarget(targetId) {\n  return {\n    type: REMOVE_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { REMOVE_TARGET } from '../actions/registry';\nimport { without } from '../utils/js_utils';\nvar initialState = {\n  itemType: null,\n  item: null,\n  sourceId: null,\n  targetIds: [],\n  dropResult: null,\n  didDrop: false,\n  isSourcePublic: null\n};\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case BEGIN_DRAG:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemType: payload.itemType,\n        item: payload.item,\n        sourceId: payload.sourceId,\n        isSourcePublic: payload.isSourcePublic,\n        dropResult: null,\n        didDrop: false\n      });\n\n    case PUBLISH_DRAG_SOURCE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isSourcePublic: true\n      });\n\n    case HOVER:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        targetIds: payload.targetIds\n      });\n\n    case REMOVE_TARGET:\n      if (state.targetIds.indexOf(payload.targetId) === -1) {\n        return state;\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        targetIds: without(state.targetIds, payload.targetId)\n      });\n\n    case DROP:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        dropResult: payload.dropResult,\n        didDrop: true,\n        targetIds: []\n      });\n\n    case END_DRAG:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemType: null,\n        item: null,\n        sourceId: null,\n        dropResult: null,\n        didDrop: false,\n        isSourcePublic: null,\n        targetIds: []\n      });\n\n    default:\n      return state;\n  }\n}","import { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry';\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_SOURCE:\n    case ADD_TARGET:\n      return state + 1;\n\n    case REMOVE_SOURCE:\n    case REMOVE_TARGET:\n      return state - 1;\n\n    default:\n      return state;\n  }\n}","import { intersection } from './js_utils';\nexport var NONE = [];\nexport var ALL = [];\nNONE.__IS_NONE__ = true;\nALL.__IS_ALL__ = true;\n/**\n * Determines if the given handler IDs are dirty or not.\n *\n * @param dirtyIds The set of dirty handler ids\n * @param handlerIds The set of handler ids to check\n */\n\nexport function areDirty(dirtyIds, handlerIds) {\n  if (dirtyIds === NONE) {\n    return false;\n  }\n\n  if (dirtyIds === ALL || typeof handlerIds === 'undefined') {\n    return true;\n  }\n\n  var commonIds = intersection(handlerIds, dirtyIds);\n  return commonIds.length > 0;\n}","import { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry';\nimport { areArraysEqual } from '../utils/equality';\nimport { NONE, ALL } from '../utils/dirtiness';\nimport { xor } from '../utils/js_utils';\nexport function reduce() {\n  var _state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : NONE;\n\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case HOVER:\n      break;\n\n    case ADD_SOURCE:\n    case ADD_TARGET:\n    case REMOVE_TARGET:\n    case REMOVE_SOURCE:\n      return NONE;\n\n    case BEGIN_DRAG:\n    case PUBLISH_DRAG_SOURCE:\n    case END_DRAG:\n    case DROP:\n    default:\n      return ALL;\n  }\n\n  var _action$payload = action.payload,\n      _action$payload$targe = _action$payload.targetIds,\n      targetIds = _action$payload$targe === void 0 ? [] : _action$payload$targe,\n      _action$payload$prevT = _action$payload.prevTargetIds,\n      prevTargetIds = _action$payload$prevT === void 0 ? [] : _action$payload$prevT;\n  var result = xor(targetIds, prevTargetIds);\n  var didChange = result.length > 0 || !areArraysEqual(targetIds, prevTargetIds);\n\n  if (!didChange) {\n    return NONE;\n  } // Check the target ids at the innermost position. If they are valid, add them\n  // to the result\n\n\n  var prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1];\n  var innermostTargetId = targetIds[targetIds.length - 1];\n\n  if (prevInnermostTargetId !== innermostTargetId) {\n    if (prevInnermostTargetId) {\n      result.push(prevInnermostTargetId);\n    }\n\n    if (innermostTargetId) {\n      result.push(innermostTargetId);\n    }\n  }\n\n  return result;\n}","export function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return state + 1;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { reduce as dragOffset } from './dragOffset';\nimport { reduce as dragOperation } from './dragOperation';\nimport { reduce as refCount } from './refCount';\nimport { reduce as dirtyHandlerIds } from './dirtyHandlerIds';\nimport { reduce as stateId } from './stateId';\nimport { get } from '../utils/js_utils';\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return {\n    dirtyHandlerIds: dirtyHandlerIds(state.dirtyHandlerIds, {\n      type: action.type,\n      payload: _objectSpread(_objectSpread({}, action.payload), {}, {\n        prevTargetIds: get(state, 'dragOperation.targetIds', [])\n      })\n    }),\n    dragOffset: dragOffset(state.dragOffset, action),\n    refCount: refCount(state.refCount, action),\n    dragOperation: dragOperation(state.dragOperation, action),\n    stateId: stateId(state.stateId)\n  };\n}","/**\n * Coordinate addition\n * @param a The first coordinate\n * @param b The second coordinate\n */\nexport function add(a, b) {\n  return {\n    x: a.x + b.x,\n    y: a.y + b.y\n  };\n}\n/**\n * Coordinate subtraction\n * @param a The first coordinate\n * @param b The second coordinate\n */\n\nexport function subtract(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}\n/**\n * Returns the cartesian distance of the drag source component's position, based on its position\n * at the time when the current drag operation has started, and the movement difference.\n *\n * Returns null if no item is being dragged.\n *\n * @param state The offset state to compute from\n */\n\nexport function getSourceClientOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset,\n      initialSourceClientOffset = state.initialSourceClientOffset;\n\n  if (!clientOffset || !initialClientOffset || !initialSourceClientOffset) {\n    return null;\n  }\n\n  return subtract(add(clientOffset, initialSourceClientOffset), initialClientOffset);\n}\n/**\n * Determines the x,y offset between the client offset and the initial client offset\n *\n * @param state The offset state to compute from\n */\n\nexport function getDifferenceFromInitialOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset;\n\n  if (!clientOffset || !initialClientOffset) {\n    return null;\n  }\n\n  return subtract(clientOffset, initialClientOffset);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { matchesType } from '../utils/matchesType';\nimport { getSourceClientOffset as _getSourceClientOffset, getDifferenceFromInitialOffset as _getDifferenceFromInitialOffset } from '../utils/coords';\nimport { areDirty } from '../utils/dirtiness';\nexport var DragDropMonitorImpl = /*#__PURE__*/function () {\n  function DragDropMonitorImpl(store, registry) {\n    _classCallCheck(this, DragDropMonitorImpl);\n\n    _defineProperty(this, \"store\", void 0);\n\n    _defineProperty(this, \"registry\", void 0);\n\n    this.store = store;\n    this.registry = registry;\n  }\n\n  _createClass(DragDropMonitorImpl, [{\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        handlerIds: undefined\n      };\n      var handlerIds = options.handlerIds;\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      invariant(typeof handlerIds === 'undefined' || Array.isArray(handlerIds), 'handlerIds, when specified, must be an array of strings.');\n      var prevStateId = this.store.getState().stateId;\n\n      var handleChange = function handleChange() {\n        var state = _this.store.getState();\n\n        var currentStateId = state.stateId;\n\n        try {\n          var canSkipListener = currentStateId === prevStateId || currentStateId === prevStateId + 1 && !areDirty(state.dirtyHandlerIds, handlerIds);\n\n          if (!canSkipListener) {\n            listener();\n          }\n        } finally {\n          prevStateId = currentStateId;\n        }\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      var _this2 = this;\n\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      var previousState = this.store.getState().dragOffset;\n\n      var handleChange = function handleChange() {\n        var nextState = _this2.store.getState().dragOffset;\n\n        if (nextState === previousState) {\n          return;\n        }\n\n        previousState = nextState;\n        listener();\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId);\n      invariant(source, \"Expected to find a valid source. sourceId=\".concat(sourceId));\n\n      if (this.isDragging()) {\n        return false;\n      }\n\n      return source.canDrag(this, sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var target = this.registry.getTarget(targetId);\n      invariant(target, \"Expected to find a valid target. targetId=\".concat(targetId));\n\n      if (!this.isDragging() || this.didDrop()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n      return matchesType(targetType, draggedItemType) && target.canDrop(this, targetId);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      return Boolean(this.getItemType());\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      // undefined on initial render\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId, true);\n      invariant(source, \"Expected to find a valid source. sourceId=\".concat(sourceId));\n\n      if (!this.isDragging() || !this.isSourcePublic()) {\n        return false;\n      }\n\n      var sourceType = this.registry.getSourceType(sourceId);\n      var draggedItemType = this.getItemType();\n\n      if (sourceType !== draggedItemType) {\n        return false;\n      }\n\n      return source.isDragging(this, sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        shallow: false\n      };\n\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var shallow = options.shallow;\n\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n\n      if (draggedItemType && !matchesType(targetType, draggedItemType)) {\n        return false;\n      }\n\n      var targetIds = this.getTargetIds();\n\n      if (!targetIds.length) {\n        return false;\n      }\n\n      var index = targetIds.indexOf(targetId);\n\n      if (shallow) {\n        return index === targetIds.length - 1;\n      } else {\n        return index > -1;\n      }\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.store.getState().dragOperation.itemType;\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.store.getState().dragOperation.item;\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.store.getState().dragOperation.sourceId;\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.store.getState().dragOperation.targetIds;\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.store.getState().dragOperation.dropResult;\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.store.getState().dragOperation.didDrop;\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return Boolean(this.store.getState().dragOperation.isSourcePublic);\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.store.getState().dragOffset.initialClientOffset;\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.store.getState().dragOffset.initialSourceClientOffset;\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.store.getState().dragOffset.clientOffset;\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return _getSourceClientOffset(this.store.getState().dragOffset);\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return _getDifferenceFromInitialOffset(this.store.getState().dragOffset);\n    }\n  }]);\n\n  return DragDropMonitorImpl;\n}();","export var HandlerRole;\n\n(function (HandlerRole) {\n  HandlerRole[\"SOURCE\"] = \"SOURCE\";\n  HandlerRole[\"TARGET\"] = \"TARGET\";\n})(HandlerRole || (HandlerRole = {}));","var nextUniqueId = 0;\nexport function getNextUniqueId() {\n  return nextUniqueId++;\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { invariant } from '@react-dnd/invariant';\nexport function validateSourceContract(source) {\n  invariant(typeof source.canDrag === 'function', 'Expected canDrag to be a function.');\n  invariant(typeof source.beginDrag === 'function', 'Expected beginDrag to be a function.');\n  invariant(typeof source.endDrag === 'function', 'Expected endDrag to be a function.');\n}\nexport function validateTargetContract(target) {\n  invariant(typeof target.canDrop === 'function', 'Expected canDrop to be a function.');\n  invariant(typeof target.hover === 'function', 'Expected hover to be a function.');\n  invariant(typeof target.drop === 'function', 'Expected beginDrag to be a function.');\n}\nexport function validateType(type, allowArray) {\n  if (allowArray && Array.isArray(type)) {\n    type.forEach(function (t) {\n      return validateType(t, false);\n    });\n    return;\n  }\n\n  invariant(typeof type === 'string' || _typeof(type) === 'symbol', allowArray ? 'Type can only be a string, a symbol, or an array of either.' : 'Type can only be a string or a symbol.');\n}","import { rawAsap } from './raw'; // rawAsap provides everything we need except exception management.\n// RawTasks are recycled to reduce GC churn.\n\nvar freeTasks = []; // We queue errors to ensure they are thrown in right order (FIFO).\n// Array-as-queue is good enough here, since we are just dealing with exceptions.\n\nvar pendingErrors = [];\nvar requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\nfunction throwFirstError() {\n  if (pendingErrors.length) {\n    throw pendingErrors.shift();\n  }\n}\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\n\n\nexport function asap(task) {\n  var rawTask;\n\n  if (freeTasks.length) {\n    rawTask = freeTasks.pop();\n  } else {\n    rawTask = new RawTask();\n  }\n\n  rawTask.task = task;\n  rawAsap(rawTask);\n} // We wrap tasks with recyclable task objects.  A task object implements\n// `call`, just like a function.\n\nvar RawTask =\n/** @class */\nfunction () {\n  function RawTask() {}\n\n  RawTask.prototype.call = function () {\n    try {\n      this.task.call();\n    } catch (error) {\n      if (asap.onerror) {\n        // This hook exists purely for testing purposes.\n        // Its name will be periodically randomized to break any code that\n        // depends on its existence.\n        asap.onerror(error);\n      } else {\n        // In a web browser, exceptions are not fatal. However, to avoid\n        // slowing down the queue of pending tasks, we rethrow the error in a\n        // lower priority turn.\n        pendingErrors.push(error);\n        requestErrorThrow();\n      }\n    } finally {\n      this.task = null;\n      freeTasks[freeTasks.length] = this;\n    }\n  };\n\n  return RawTask;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { addSource as _addSource, addTarget as _addTarget, removeSource as _removeSource, removeTarget as _removeTarget } from '../actions/registry';\nimport { getNextUniqueId } from '../utils/getNextUniqueId';\nimport { HandlerRole } from '../interfaces';\nimport { validateSourceContract, validateTargetContract, validateType } from '../contracts';\nimport { asap } from '@react-dnd/asap';\n\nfunction getNextHandlerId(role) {\n  var id = getNextUniqueId().toString();\n\n  switch (role) {\n    case HandlerRole.SOURCE:\n      return \"S\".concat(id);\n\n    case HandlerRole.TARGET:\n      return \"T\".concat(id);\n\n    default:\n      throw new Error(\"Unknown Handler Role: \".concat(role));\n  }\n}\n\nfunction parseRoleFromHandlerId(handlerId) {\n  switch (handlerId[0]) {\n    case 'S':\n      return HandlerRole.SOURCE;\n\n    case 'T':\n      return HandlerRole.TARGET;\n\n    default:\n      invariant(false, \"Cannot parse handler ID: \".concat(handlerId));\n  }\n}\n\nfunction mapContainsValue(map, searchValue) {\n  var entries = map.entries();\n  var isDone = false;\n\n  do {\n    var _entries$next = entries.next(),\n        done = _entries$next.done,\n        _entries$next$value = _slicedToArray(_entries$next.value, 2),\n        value = _entries$next$value[1];\n\n    if (value === searchValue) {\n      return true;\n    }\n\n    isDone = !!done;\n  } while (!isDone);\n\n  return false;\n}\n\nexport var HandlerRegistryImpl = /*#__PURE__*/function () {\n  function HandlerRegistryImpl(store) {\n    _classCallCheck(this, HandlerRegistryImpl);\n\n    _defineProperty(this, \"types\", new Map());\n\n    _defineProperty(this, \"dragSources\", new Map());\n\n    _defineProperty(this, \"dropTargets\", new Map());\n\n    _defineProperty(this, \"pinnedSourceId\", null);\n\n    _defineProperty(this, \"pinnedSource\", null);\n\n    _defineProperty(this, \"store\", void 0);\n\n    this.store = store;\n  }\n\n  _createClass(HandlerRegistryImpl, [{\n    key: \"addSource\",\n    value: function addSource(type, source) {\n      validateType(type);\n      validateSourceContract(source);\n      var sourceId = this.addHandler(HandlerRole.SOURCE, type, source);\n      this.store.dispatch(_addSource(sourceId));\n      return sourceId;\n    }\n  }, {\n    key: \"addTarget\",\n    value: function addTarget(type, target) {\n      validateType(type, true);\n      validateTargetContract(target);\n      var targetId = this.addHandler(HandlerRole.TARGET, type, target);\n      this.store.dispatch(_addTarget(targetId));\n      return targetId;\n    }\n  }, {\n    key: \"containsHandler\",\n    value: function containsHandler(handler) {\n      return mapContainsValue(this.dragSources, handler) || mapContainsValue(this.dropTargets, handler);\n    }\n  }, {\n    key: \"getSource\",\n    value: function getSource(sourceId) {\n      var includePinned = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      var isPinned = includePinned && sourceId === this.pinnedSourceId;\n      var source = isPinned ? this.pinnedSource : this.dragSources.get(sourceId);\n      return source;\n    }\n  }, {\n    key: \"getTarget\",\n    value: function getTarget(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.dropTargets.get(targetId);\n    }\n  }, {\n    key: \"getSourceType\",\n    value: function getSourceType(sourceId) {\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      return this.types.get(sourceId);\n    }\n  }, {\n    key: \"getTargetType\",\n    value: function getTargetType(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.types.get(targetId);\n    }\n  }, {\n    key: \"isSourceId\",\n    value: function isSourceId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.SOURCE;\n    }\n  }, {\n    key: \"isTargetId\",\n    value: function isTargetId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.TARGET;\n    }\n  }, {\n    key: \"removeSource\",\n    value: function removeSource(sourceId) {\n      var _this = this;\n\n      invariant(this.getSource(sourceId), 'Expected an existing source.');\n      this.store.dispatch(_removeSource(sourceId));\n      asap(function () {\n        _this.dragSources.delete(sourceId);\n\n        _this.types.delete(sourceId);\n      });\n    }\n  }, {\n    key: \"removeTarget\",\n    value: function removeTarget(targetId) {\n      invariant(this.getTarget(targetId), 'Expected an existing target.');\n      this.store.dispatch(_removeTarget(targetId));\n      this.dropTargets.delete(targetId);\n      this.types.delete(targetId);\n    }\n  }, {\n    key: \"pinSource\",\n    value: function pinSource(sourceId) {\n      var source = this.getSource(sourceId);\n      invariant(source, 'Expected an existing source.');\n      this.pinnedSourceId = sourceId;\n      this.pinnedSource = source;\n    }\n  }, {\n    key: \"unpinSource\",\n    value: function unpinSource() {\n      invariant(this.pinnedSource, 'No source is pinned at the time.');\n      this.pinnedSourceId = null;\n      this.pinnedSource = null;\n    }\n  }, {\n    key: \"addHandler\",\n    value: function addHandler(role, type, handler) {\n      var id = getNextHandlerId(role);\n      this.types.set(id, type);\n\n      if (role === HandlerRole.SOURCE) {\n        this.dragSources.set(id, handler);\n      } else if (role === HandlerRole.TARGET) {\n        this.dropTargets.set(id, handler);\n      }\n\n      return id;\n    }\n  }]);\n\n  return HandlerRegistryImpl;\n}();","import { DragDropManagerImpl } from './classes/DragDropManagerImpl';\nimport { createStore } from 'redux';\nimport { reduce } from './reducers';\nimport { DragDropMonitorImpl } from './classes/DragDropMonitorImpl';\nimport { HandlerRegistryImpl } from './classes/HandlerRegistryImpl';\nexport function createDragDropManager(backendFactory) {\n  var globalContext = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n  var backendOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var debugMode = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var store = makeStoreInstance(debugMode);\n  var monitor = new DragDropMonitorImpl(store, new HandlerRegistryImpl(store));\n  var manager = new DragDropManagerImpl(store, monitor);\n  var backend = backendFactory(manager, globalContext, backendOptions);\n  manager.receiveBackend(backend);\n  return manager;\n}\n\nfunction makeStoreInstance(debugMode) {\n  // TODO: if we ever make a react-native version of this,\n  // we'll need to consider how to pull off dev-tooling\n  var reduxDevTools = typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION__;\n  return createStore(reduce, debugMode && reduxDevTools && reduxDevTools({\n    name: 'dnd-core',\n    instanceId: 'dnd-core'\n  }));\n}","// poor check\nexport var objIsNode = function (obj) {\n    if (!obj)\n        return false;\n    if (!('id' in obj)) {\n        return false;\n    }\n    return true;\n};\n//# sourceMappingURL=objIsNode.js.map","/* eslint-disable @typescript-eslint/ban-types */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport Ajv from 'ajv';\nimport { JSONSchemaBridge } from 'uniforms-bridge-json-schema';\nvar ajv = new Ajv({ allErrors: true, useDefaults: true });\najv.addKeyword('uniforms');\nfunction createValidator(schema) {\n    var validator = ajv.compile(schema);\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return function (model) {\n        var _a;\n        validator(model);\n        if (validator.errors && validator.errors.length) {\n            return ((_a = validator.errors) === null || _a === void 0 ? void 0 : _a.length) ? { details: validator.errors } : null;\n        }\n    };\n}\nfunction makeUniformsSchema(jsonSchema) {\n    var fullSchema = __assign({ type: 'object' }, jsonSchema);\n    return new JSONSchemaBridge(fullSchema, createValidator(fullSchema));\n}\nexport default makeUniformsSchema;\n//# sourceMappingURL=makeUniformsSchema.js.map"],"sourceRoot":""}