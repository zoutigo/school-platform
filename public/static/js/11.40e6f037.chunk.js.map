{"version":3,"sources":["../../src/index.ts","../node_modules/is-hotkey/lib/index.js","../node_modules/lodash.debounce/index.js","../node_modules/lodash.throttle/index.js","../node_modules/@material-ui/icons/Translate.js","../node_modules/@material-ui/icons/AspectRatio.js","../node_modules/react-dnd/dist/esm/core/DndContext.js","../node_modules/@react-dnd/asap/dist/esm/browser/raw.js","../../../src/editor/StickyWrapper.tsx","../node_modules/@material-ui/core/esm/Switch/Switch.js","../node_modules/@material-ui/icons/FileCopy.js","../node_modules/@material-ui/icons/VerticalAlignTop.js","../node_modules/@material-ui/icons/Undo.js","../node_modules/@material-ui/icons/Redo.js","../node_modules/@material-ui/icons/Create.js","../node_modules/@material-ui/icons/ViewQuilt.js","../node_modules/@material-ui/icons/SettingsOverscan.js","../node_modules/@material-ui/icons/Devices.js","../node_modules/react-portal/es/utils.js","../node_modules/react-portal/es/Portal.js","../node_modules/react-portal/es/LegacyPortal.js","../node_modules/react-portal/es/PortalCompat.js","../node_modules/react-dnd/dist/esm/core/DndProvider.js","../../../../../src/core/components/hooks/actions.ts","../../../../src/core/actions/undo.ts","../../../../src/core/selector/focus.ts","../../../../../src/core/components/hooks/focus.ts","../../../../src/core/utils/getDropLevels.ts","../node_modules/react-dnd/dist/esm/hooks/useDragDropManager.js","../node_modules/react-dnd/dist/esm/hooks/useIsomorphicLayoutEffect.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/DropTargetImpl.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useRegisteredDropTarget.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDropTarget.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useAccept.js","../node_modules/react-dnd/dist/esm/internals/registration.js","../node_modules/react-dnd/dist/esm/hooks/useOptionalFactory.js","../node_modules/react-dnd/dist/esm/internals/DropTargetMonitorImpl.js","../node_modules/react-dnd/dist/esm/internals/wrapConnectorHooks.js","../node_modules/react-dnd/dist/esm/internals/isRef.js","../node_modules/react-dnd/dist/esm/internals/TargetConnector.js","../node_modules/react-dnd/dist/esm/hooks/useCollector.js","../node_modules/react-dnd/dist/esm/hooks/useMonitorOutput.js","../node_modules/react-dnd/dist/esm/hooks/useCollectedProps.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/connectors.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDrop.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDropTargetMonitor.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDropTargetConnector.js","../../../../../src/core/components/hooks/nodeActions.ts","../../../../../src/core/components/hooks/node.ts","../../../../../src/core/selector/display/index.ts","../../../../../src/core/components/hooks/displayMode.ts","../../../../../src/core/components/HotKey/Decorator.tsx","../../../../../src/core/components/Editable/FallbackDropArea.tsx","../../../../../../src/core/components/Cell/utils/scrollIntoViewWithOffset.ts","../../../../../src/core/components/Cell/InsertNew.tsx","../node_modules/react-use/esm/misc/util.js","../node_modules/react-use/esm/useIsomorphicLayoutEffect.js","../node_modules/react-use/esm/useMeasure.js","../../../../../src/core/components/hooks/dragDropActions.ts","../../../../../src/core/helper/throttle/index.ts","../../../../../src/core/service/logger/index.ts","../../../../../src/core/service/hover/computeHover.ts","../../../../../src/core/service/hover/input.ts","../../../../../../src/core/components/Cell/Droppable/helper/dnd.ts","../../../../../../src/core/components/Cell/Droppable/index.tsx","../../../../../../src/core/components/Row/Droppable/index.tsx","../../../../../../src/core/components/Cell/ErrorCell/index.tsx","../node_modules/react-dnd/dist/esm/hooks/useDrag/DragSourceImpl.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useRegisteredDragSource.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragSource.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragType.js","../node_modules/react-dnd/dist/esm/internals/DragSourceMonitorImpl.js","../node_modules/react-dnd/dist/esm/internals/SourceConnector.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/connectors.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDrag.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragSourceMonitor.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragSourceConnector.js","../node_modules/react-dnd/dist/esm/core/DragPreviewImage.js","../../../../../../src/core/components/Cell/Draggable/useDragHandle.tsx","../../../../../../src/core/components/Cell/Draggable/index.tsx","../../../../src/ui/ThemeProvider/index.tsx","../../../../src/ui/ThemeProvider/themeOptions.tsx","../../../../../src/ui/ThemeProvider/DarkTheme/index.ts","../node_modules/@material-ui/core/esm/Divider/Divider.js","../node_modules/@material-ui/core/esm/Drawer/Drawer.js","../node_modules/@material-ui/core/esm/utils/scrollLeft.js","../../../../src/ui/BottomToolbar/Drawer.tsx","../../../../src/ui/DraftSwitch/index.tsx","../../../../src/ui/DuplicateButton/index.tsx","../../../../src/ui/I18nTools/SelectLang.tsx","../../../../src/ui/I18nTools/I18nDialog.tsx","../../../../src/ui/I18nTools/index.tsx","../../../../src/ui/SelectParentButton/index.tsx","../../../../src/ui/BottomToolbar/Tools.tsx","../../../../src/ui/BottomToolbar/NodeTools.tsx","../../../../src/ui/BottomToolbar/ScaleButton.tsx","../../../../src/ui/BottomToolbar/index.tsx","../node_modules/@material-ui/core/esm/Tab/Tab.js","../node_modules/@material-ui/core/esm/internal/animate.js","../node_modules/@material-ui/core/esm/Tabs/ScrollbarSize.js","../node_modules/@material-ui/core/esm/Tabs/TabIndicator.js","../node_modules/@material-ui/core/esm/internal/svg-icons/KeyboardArrowLeft.js","../node_modules/@material-ui/core/esm/internal/svg-icons/KeyboardArrowRight.js","../node_modules/@material-ui/core/esm/TabScrollButton/TabScrollButton.js","../node_modules/@material-ui/core/esm/Tabs/Tabs.js","../../../../../../src/core/components/Cell/PluginControls/index.tsx","../../../../../src/core/components/Cell/PluginMissing.tsx","../../../../../../src/core/components/Cell/PluginComponent/index.tsx","../../../../../../src/core/components/Cell/Inner/index.tsx","../../../../../../src/core/components/Cell/Handle/index.tsx","../../../../../src/core/components/Cell/index.tsx","../../../../../src/core/components/Row/ResizableRowCell.tsx","../../../../../src/core/components/Row/index.tsx","../../../../../../src/core/components/Editable/Inner/index.tsx","../../../../../src/core/components/hooks/value.ts","../../../../../src/core/components/Editable/index.tsx","../node_modules/react-dnd-html5-backend/dist/esm/utils/js_utils.js","../node_modules/react-dnd-html5-backend/dist/esm/EnterLeaveCounter.js","../node_modules/react-dnd-html5-backend/dist/esm/BrowserDetector.js","../node_modules/react-dnd-html5-backend/dist/esm/MonotonicInterpolant.js","../node_modules/react-dnd-html5-backend/dist/esm/OffsetUtils.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeTypes.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/nativeTypesConfig.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/getDataFromDataTransfer.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/NativeDragSource.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/index.js","../node_modules/react-dnd-html5-backend/dist/esm/OptionsReader.js","../node_modules/react-dnd-html5-backend/dist/esm/HTML5BackendImpl.js","../node_modules/react-dnd-html5-backend/dist/esm/index.js","../../../../src/core/components/BlurGate.tsx","../../../../src/core/migrations/serialzeValue.ts","../../../../src/core/Provider/OptionsProvider.tsx","../../../../src/core/Provider/useOptionsMemoized.ts","../../../../src/core/Provider/index.tsx","../../../../../src/ui/DisplayModeToggle/Button/index.tsx","../../../../../src/ui/DisplayModeToggle/ToggleEdit/index.tsx","../../../../../src/ui/DisplayModeToggle/ToggleInsert/index.tsx","../../../../../src/ui/DisplayModeToggle/ToggleLayout/index.tsx","../../../../../src/ui/DisplayModeToggle/TogglePreview/index.tsx","../../../../../src/ui/DisplayModeToggle/ToggleResize/index.tsx","../../../../../src/ui/DisplayModeToggle/UndoRedo/index.tsx","../../../../src/ui/DisplayModeToggle/index.tsx","../node_modules/@material-ui/core/esm/ListItemText/ListItemText.js","../../../../../src/ui/PluginDrawer/Draggable/index.tsx","../../../../../src/ui/PluginDrawer/Item/index.tsx","../../../../src/ui/PluginDrawer/index.tsx","../../../../src/ui/Trash/index.tsx","../../../../src/ui/EditorUI/index.tsx","../../../../../src/core/components/HotKey/GlobalHotKeys.tsx","../../../src/editor/EditableEditor.tsx","../node_modules/dnd-core/dist/esm/actions/dragDrop/types.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/local/setClientOffset.js","../node_modules/dnd-core/dist/esm/utils/js_utils.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/beginDrag.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/publishDragSource.js","../node_modules/dnd-core/dist/esm/utils/matchesType.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/hover.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/drop.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/endDrag.js","../node_modules/dnd-core/dist/esm/classes/DragDropManagerImpl.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/index.js","../node_modules/dnd-core/dist/esm/utils/equality.js","../node_modules/dnd-core/dist/esm/reducers/dragOffset.js","../node_modules/dnd-core/dist/esm/actions/registry.js","../node_modules/dnd-core/dist/esm/reducers/dragOperation.js","../node_modules/dnd-core/dist/esm/reducers/refCount.js","../node_modules/dnd-core/dist/esm/utils/dirtiness.js","../node_modules/dnd-core/dist/esm/reducers/dirtyHandlerIds.js","../node_modules/dnd-core/dist/esm/reducers/stateId.js","../node_modules/dnd-core/dist/esm/reducers/index.js","../node_modules/dnd-core/dist/esm/utils/coords.js","../node_modules/dnd-core/dist/esm/classes/DragDropMonitorImpl.js","../node_modules/dnd-core/dist/esm/interfaces.js","../node_modules/dnd-core/dist/esm/utils/getNextUniqueId.js","../node_modules/dnd-core/dist/esm/contracts.js","../node_modules/@react-dnd/asap/dist/esm/browser/asap.js","../node_modules/dnd-core/dist/esm/classes/HandlerRegistryImpl.js","../node_modules/dnd-core/dist/esm/createDragDropManager.js"],"names":["invariant","condition","format","args","error","argIndex","Object","defineProperty","exports","value","IS_MAC","window","test","navigator","platform","MODIFIERS","alt","control","meta","shift","ALIASES","add","break","cmd","command","ctl","ctrl","del","down","esc","ins","left","mod","opt","option","return","right","space","spacebar","up","win","windows","CODES","backspace","tab","enter","pause","capslock","escape","pageup","pagedown","end","home","arrowleft","arrowup","arrowright","arrowdown","insert","delete","numlock","scrolllock","f","isHotkey","hotkey","options","event","Array","isArray","array","map","string","parseHotkey","check","e","some","object","compareHotkey","byKey","ret","values","replace","split","length","k","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","optional","endsWith","slice","name","toKeyName","modifier","key","which","toKeyCode","err","expected","actual","toLowerCase","toUpperCase","charCodeAt","default","isCodeHotkey","isKeyHotkey","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeGlobal","global","freeSelf","self","root","Function","objectToString","prototype","toString","nativeMax","Math","max","nativeMin","min","now","Date","isObject","type","toNumber","isObjectLike","call","isSymbol","other","valueOf","isBinary","module","func","wait","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","thisArg","apply","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","debounced","isInvoking","arguments","this","cancel","clearTimeout","flush","FUNC_ERROR_TEXT","debounce","_interopRequireDefault","require","_interopRequireWildcard","React","_default","createElement","d","DndContext","createContext","dragDropManager","rawAsap","task","queue","requestFlush","index","currentIndex","scan","newLength","scope","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","makeRequestCallFromTimer","callback","timeoutHandle","handleTimer","intervalHandle","setInterval","clearInterval","toggle","observer","node","document","createTextNode","observe","characterData","data","makeRequestCallFromMutationObserver","Switch","props","ref","classes","className","_props$color","color","_props$edge","edge","_props$size","size","_objectWithoutProperties","icon","thumb","clsx","edgeStart","edgeEnd","concat","capitalize","SwitchBase","_extends","checkedIcon","switchBase","input","checked","disabled","track","withStyles","theme","display","width","height","overflow","padding","boxSizing","position","flexShrink","zIndex","verticalAlign","colorAdjust","marginLeft","marginRight","top","palette","grey","transition","transitions","create","duration","shortest","transform","opacity","colorPrimary","primary","main","backgroundColor","alpha","action","hoverOpacity","common","black","white","colorSecondary","secondary","sizeSmall","boxShadow","shadows","borderRadius","canUseDOM","_createClass","defineProperties","target","i","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_classCallCheck","instance","_possibleConstructorReturn","ReferenceError","Portal","_React$Component","__proto__","getPrototypeOf","subClass","superClass","constructor","setPrototypeOf","_inherits","defaultNode","body","removeChild","appendChild","ReactDOM","createPortal","children","Component","propTypes","PropTypes","isRequired","any","renderPortal","unmountComponentAtNode","portal","cloneElement","unstable_renderSubtreeIntoContainer","Portalv4","LegacyPortal","_excluded","_slicedToArray","arr","_arrayWithHoles","_i","_s","_e","_arr","_n","_d","push","_iterableToArrayLimit","o","minLen","_arrayLikeToArray","n","from","_unsupportedIterableToArray","_nonIterableRest","len","arr2","source","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","refCount","INSTANCE_SYM","for","DndProvider","memo","_ref","_getDndContextValue","manager","backend","context","getGlobalContext","debugMode","ctx","createDragDropManager","createSingletonDndContext","isGlobalInstance","getDndContextValue","_getDndContextValue2","useEffect","_jsx","Provider","assign","parent","useDragDropManager","useContext","useIsomorphicLayoutEffect","useLayoutEffect","_defineProperties","_defineProperty","obj","DropTargetImpl","spec","monitor","canDrop","getItem","hover","drop","useRegisteredDropTarget","connector","dropTarget","useMemo","useDropTarget","accept","useAccept","_registerTarget","registry","getRegistry","targetId","addTarget","removeTarget","registerTarget","_registerTarget2","handlerId","unregister","receiveHandlerId","a","join","_toConsumableArray","_arrayWithoutHoles","iter","_iterableToArray","_nonIterableSpread","useOptionalFactory","arg","deps","memoDeps","isCallingCanDrop","DropTargetMonitorImpl","internalMonitor","getMonitor","listener","subscribeToStateChange","canDropOnTarget","isOverTarget","getItemType","getDropResult","didDrop","getInitialClientOffset","getInitialSourceClientOffset","getSourceClientOffset","getClientOffset","getDifferenceFromInitialOffset","shallowEqual","objA","objB","compare","compareContext","compareResult","keysA","keysB","bHasOwnProperty","idx","valueA","valueB","throwIfCompositeComponentElement","element","displayName","Error","wrapConnectorHooks","hooks","wrappedHooks","forEach","hook","wrappedHook","elementOrNode","isValidElement","cloneWithRef","wrapHookToRecognizeElement","setRef","current","newRef","previousRef","_typeof","isRef","hasOwnProperty","TargetConnector","_this","clearDropTarget","dropTargetOptions","dropTargetRef","dropTargetNode","reconnect","get","didChange","didHandlerIdChange","didDropTargetChange","didOptionsChange","disconnectDropTarget","lastConnectedHandlerId","lastConnectedDropTarget","lastConnectedDropTargetOptions","unsubscribeDropTarget","connectDropTarget","newHandlerId","dropTargetOptionsInternal","set","useMonitorOutput","collect","onCollect","_useCollector","onUpdate","_useState2","useState","collected","setCollected","updateCollected","useCallback","nextValue","equal","useCollector","_useCollector2","getHandlerId","handlerIds","useCollectedProps","collector","useConnectDropTarget","useDrop","specArg","useDropTargetMonitor","getBackend","useDropTargetConnector","setReferenceNodeId","checkIfAllowed","parentCellId","noop","isBrowser","defaultState","x","y","bottom","ResizeObserver","_a","_b","rect","setRect","entries","contentRect","top_1","disconnect","console","DragSourceImpl","_result","item","canDrag","globalMonitor","isDragging","getSourceId","useRegisteredDragSource","handler","useDragSource","itemType","useDragType","_registerSource","sourceId","addSource","removeSource","registerSource","_registerSource2","isCallingCanDrag","isCallingIsDragging","DragSourceMonitorImpl","canDragSource","isDraggingSource","getTargetIds","isSourcePublic","subscribeToOffsetChange","SourceConnector","dragSource","clearDragSource","dragSourceOptions","dragSourceRef","dragSourceNode","reconnectDragSource","dragPreview","clearDragPreview","dragPreviewOptions","dragPreviewRef","dragPreviewNode","reconnectDragPreview","dragSourceOptionsInternal","dragPreviewOptionsInternal","didConnectedDragSourceChange","didDragSourceOptionsChange","disconnectDragSource","lastConnectedDragSource","lastConnectedDragSourceOptions","dragSourceUnsubscribe","connectDragSource","didConnectedDragPreviewChange","didDragPreviewOptionsChange","disconnectDragPreview","lastConnectedDragPreview","lastConnectedDragPreviewOptions","dragPreviewUnsubscribe","connectDragPreview","useConnectDragSource","useConnectDragPreview","useDrag","begin","useDragSourceMonitor","useDragSourceConnector","previewOptions","DragPreviewImage","connect","src","Image","connected","img","onload","Divider","_props$absolute","absolute","_props$component","component","_props$flexItem","flexItem","_props$light","light","_props$orientation","orientation","_props$role","role","_props$variant","variant","vertical","margin","border","divider","inset","middle","spacing","alignSelf","oppositeDirection","cachedType","defaultTransitionDuration","enteringScreen","exit","leavingScreen","Drawer","_props$anchor","anchor","anchorProp","BackdropProps","_props$elevation","elevation","_props$ModalProps","ModalProps","BackdropPropsProp","onClose","_props$open","open","_props$PaperProps","PaperProps","SlideProps","_props$TransitionComp","TransitionComponent","Slide","_props$transitionDura","transitionDuration","useTheme","mounted","direction","isHorizontal","getAnchor","drawer","Paper","square","paper","docked","slidingDrawer","in","timeout","appear","Modal","BackdropComponent","Backdrop","modal","flex","overflowY","flexDirection","WebkitOverflowScrolling","outline","paperAnchorLeft","paperAnchorRight","paperAnchorTop","maxHeight","paperAnchorBottom","paperAnchorDockedLeft","borderRight","paperAnchorDockedTop","borderBottom","paperAnchorDockedRight","borderLeft","paperAnchorDockedBottom","borderTop","flip","t","lang","setLang","lastScale","SCALING_FACTORS","Tab","_props$disabled","_props$disableFocusRi","disableFocusRipple","fullWidth","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","_props$textColor","textColor","_props$wrapped","wrapped","ButtonBase","focusRipple","labelIcon","tabIndex","wrapper","_extends2","typography","button","maxWidth","minWidth","minHeight","breakpoints","paddingTop","marginBottom","textColorInherit","textColorPrimary","text","textColorSecondary","flexGrow","flexBasis","fontSize","pxToRem","lineHeight","alignItems","justifyContent","detectScrollType","dummy","container","style","dir","scrollLeft","getNormalizedScrollLeft","scrollWidth","clientWidth","easeInOutSin","sin","PI","styles","ScrollbarSize","scrollbarHeight","nodeRef","setMeasurements","offsetHeight","clientHeight","handleResize","prevHeight","addEventListener","clear","removeEventListener","TabIndicator","createSvgIcon","KeyboardArrowLeft","_ref2","KeyboardArrowRight","TabScrollButton","classNameProp","Tabs","ariaLabel","ariaLabelledBy","_props$centered","centered","childrenProp","_props$indicatorColor","indicatorColor","_props$ScrollButtonCo","ScrollButtonComponent","_props$scrollButtons","scrollButtons","_props$TabIndicatorPr","TabIndicatorProps","TabScrollButtonProps","scrollable","isRtl","scrollStart","start","clientSize","_React$useState","setMounted","_React$useState2","indicatorStyle","setIndicatorStyle","_React$useState3","displayScroll","setDisplayScroll","_React$useState4","scrollerStyle","setScrollerStyle","valueToIndex","Map","tabsRef","tabListRef","getTabsMeta","tabsMeta","tabMeta","tabsNode","getBoundingClientRect","scrollTop","scrollLeftNormalized","_children","process","updateIndicatorState","useEventCallback","_newIndicatorStyle","_getTabsMeta","startValue","correction","newIndicatorStyle","isNaN","dStart","abs","dSize","scroll","scrollValue","property","to","cb","_options$ease","ease","_options$duration","cancelled","step","timestamp","requestAnimationFrame","animate","moveTabsScroll","delta","handleStartScrollClick","handleEndScrollClick","handleScrollbarSizeChange","scrollSelectedIntoView","_getTabsMeta2","nextScrollStart","_nextScrollStart","updateScrollButtonState","showStartScroll","showEndScroll","_tabsRef$current","scrollHeight","ownerWindow","handleTabsScroll","updateIndicator","updateScrollButtons","childIndex","child","childValue","conditionalElements","scrollbarSizeListener","scrollButtonsActive","showScrollButtons","scrollButtonStart","scrollButtonsDesktop","scrollButtonEnd","getConditionalElements","scroller","fixed","onScroll","flexContainer","flexContainerVertical","onKeyDown","getAttribute","newFocusTarget","previousItemKey","nextItemKey","previousElementSibling","lastChild","nextElementSibling","firstChild","focus","preventDefault","whiteSpace","overflowX","scrollbarWidth","dataRef","updateCellData","childrenIds","memoize","fn","EnterLeaveCounter","isNodeInDocument","enteringNode","previousLength","entered","itemsA","itemsB","Set","insertItem","union","filter","contains","leavingNode","items","isFirefox","userAgent","isSafari","Boolean","safari","MonotonicInterpolant","xs","ys","indexes","sort","b","dx","dy","dys","dxs","ms","c1s","_i2","m2","mNext","dxNext","m","c2s","c3s","_i3","c1","invDx","_common","mid","low","high","xHere","floor","diff","diffSq","getNodeClientOffset","el","nodeType","parentElement","_el$getBoundingClient","getEventClientOffset","clientX","clientY","getDragPreviewOffset","sourceNode","clientOffset","anchorPoint","offsetPoint","isImage","_document$documentEle","nodeName","documentElement","isImageNode","dragPreviewNodeOffsetFromClient","offsetFromDragPreview","sourceWidth","offsetWidth","sourceHeight","anchorX","anchorY","_getDragPreviewSize","dragPreviewWidth","dragPreviewHeight","devicePixelRatio","getDragPreviewSize","offsetX","offsetY","isManualOffsetY","interpolate","calculateYOffset","_nativeTypesConfig","FILE","URL","TEXT","HTML","getDataFromDataTransfer","dataTransfer","typesToTry","defaultValue","reduce","resultSoFar","typeToTry","getData","nativeTypesConfig","NativeTypes","exposeProperties","files","matchesTypes","html","urls","NativeDragSource","config","initializeExposedProperties","warn","_this2","newProperties","handle","matchNativeItemType","dataTransferTypes","types","nativeItemType","OptionsReader","globalContext","optionsArgs","_this$globalContext","_this$optionsArgs","rootElement","ownKeys","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","_objectSpread","getOwnPropertyDescriptors","HTML5BackendImpl","sourceNodes","isDraggingNativeItem","actions","endDrag","currentNativeHandle","currentNativeSource","currentDragSourceNode","clearCurrentDragSourceNode","dragStartSourceIds","defaultPrevented","beginDrag","publishSource","nativeType","setDragImage","sourcePreviewNodes","_this$getCurrentSourc","getCurrentSourcePreviewNodeOptions","dragPreviewOffset","setData","setCurrentDragSourceNode","captureDraggingState","publishDragSource","beginDragNativeItem","hasAttribute","dragEnterTargetIds","enterLeaveCounter","altKeyPressed","altKey","dropEffect","getCurrentDropEffect","dragOverTargetIds","leave","endDragNativeItem","_this$currentNativeSo","dropTargetIds","loadDataTransfer","reset","dragDrop","tagName","isContentEditable","getActions","_this$dragStartSource","_this$dragOverTargetI","sourcePreviewNodeOptions","sourceNodeOptions","__isReactDndBackendSetUp","addEventListeners","_this$window","removeEventListeners","asyncEndDragFrameId","cancelAnimationFrame","_this3","handleDragStart","handleSelectStart","setAttribute","_this4","handleDragEnter","handleDragOver","handleDrop","handleTopDragStart","handleTopDragStartCapture","handleTopDragEndCapture","handleTopDragEnter","handleTopDragEnterCapture","handleTopDragLeaveCapture","handleTopDragOver","handleTopDragOverCapture","handleTopDrop","handleTopDropCapture","getCurrentSourceNodeOptions","createNativeDragSource","_this5","mouseMoveTimeoutTimer","_this5$rootElement","endDragIfSourceWasRemovedFromDOM","_this$window2","unshift","HTML5Backend","c","cellPlugins","ListItemText","_props$disableTypogra","disableTypography","_props$inset","primaryProp","primaryTypographyProps","secondaryProp","secondaryTypographyProps","dense","ListContext","Typography","multiline","marginTop","paddingLeft","defaultLabels","noPluginFoundContent","searchPlaceholder","insertPlugin","dragMe","nodeId","plugins","Fab","INIT_COORDS","BEGIN_DRAG","PUBLISH_DRAG_SOURCE","HOVER","DROP","END_DRAG","setClientOffset","sourceClientOffset","payload","path","without","xor","has","count","ResetCoordinatesAction","createBeginDrag","sourceIds","_options$publishSourc","dispatch","verifyInvariants","getDraggableSource","verifyGetSourceClientOffsetIsFunction","getSource","verifyItemIsObject","pinSource","getSourceType","createPublishDragSource","matchesType","targetType","draggedItemType","createHover","targetIdsArg","verifyTargetIdsIsArray","targetIds","checkInvariants","removeNonMatchingTargetIds","hoverAllTargets","lastIndexOf","getTarget","getTargetType","splice","createDrop","getDroppableTargets","dropResult","determineDropResult","verifyDropResultType","reverse","createEndDrag","verifyIsDragging","unpinSource","DragDropManagerImpl","store","shouldSetUp","getState","isSetUp","setup","teardown","subscribe","handleRefCountChange","createDragDropActions","boundActions","actionCreator","_len","_key","strictEquality","areCoordsEqual","offsetA","offsetB","areArraysEqual","isEqual","initialState","initialSourceClientOffset","initialClientOffset","state","ADD_SOURCE","ADD_TARGET","REMOVE_SOURCE","REMOVE_TARGET","NONE","ALL","areDirty","dirtyIds","_action$payload","_action$payload$targe","_action$payload$prevT","prevTargetIds","prevInnermostTargetId","innermostTargetId","dirtyHandlerIds","dragOffset","dragOperation","stateId","subtract","__IS_NONE__","__IS_ALL__","HandlerRole","DragDropMonitorImpl","prevStateId","handleChange","currentStateId","previousState","nextState","shallow","_getSourceClientOffset","_getDifferenceFromInitialOffset","nextUniqueId","validateType","allowArray","freeTasks","pendingErrors","requestErrorThrow","asap","rawTask","pop","RawTask","onerror","getNextHandlerId","id","SOURCE","TARGET","parseRoleFromHandlerId","mapContainsValue","searchValue","isDone","_entries$next","HandlerRegistryImpl","validateSourceContract","addHandler","_addSource","validateTargetContract","_addTarget","dragSources","dropTargets","includePinned","isSourceId","isPinned","pinnedSourceId","pinnedSource","isTargetId","_removeSource","_removeTarget","backendFactory","backendOptions","makeStoreInstance","receiveBackend","reduxDevTools","__REDUX_DEVTOOLS_EXTENSION__","createStore","instanceId"],"mappings":"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GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACjC,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACjC,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,KAEjC,QAAO,CACP,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAA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","file":"static/js/11.40e6f037.chunk.js","sourcesContent":["export function shallowEqual<T>(\n  objA: T,\n  objB: T,\n  compare?: (a: T, b: T, key?: string) => boolean | void,\n  compareContext?: any\n) {\n  var compareResult = compare\n    ? compare.call(compareContext, objA, objB)\n    : void 0;\n  if (compareResult !== void 0) {\n    return !!compareResult;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A's keys different from B.\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = (objA as any)[key];\n    var valueB = (objB as any)[key];\n\n    compareResult = compare\n      ? compare.call(compareContext, valueA, valueB, key)\n      : void 0;\n\n    if (\n      compareResult === false ||\n      (compareResult === void 0 && valueA !== valueB)\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * Constants.\n */\n\nvar IS_MAC = typeof window != 'undefined' && /Mac|iPod|iPhone|iPad/.test(window.navigator.platform);\n\nvar MODIFIERS = {\n  alt: 'altKey',\n  control: 'ctrlKey',\n  meta: 'metaKey',\n  shift: 'shiftKey'\n};\n\nvar ALIASES = {\n  add: '+',\n  break: 'pause',\n  cmd: 'meta',\n  command: 'meta',\n  ctl: 'control',\n  ctrl: 'control',\n  del: 'delete',\n  down: 'arrowdown',\n  esc: 'escape',\n  ins: 'insert',\n  left: 'arrowleft',\n  mod: IS_MAC ? 'meta' : 'control',\n  opt: 'alt',\n  option: 'alt',\n  return: 'enter',\n  right: 'arrowright',\n  space: ' ',\n  spacebar: ' ',\n  up: 'arrowup',\n  win: 'meta',\n  windows: 'meta'\n};\n\nvar CODES = {\n  backspace: 8,\n  tab: 9,\n  enter: 13,\n  shift: 16,\n  control: 17,\n  alt: 18,\n  pause: 19,\n  capslock: 20,\n  escape: 27,\n  ' ': 32,\n  pageup: 33,\n  pagedown: 34,\n  end: 35,\n  home: 36,\n  arrowleft: 37,\n  arrowup: 38,\n  arrowright: 39,\n  arrowdown: 40,\n  insert: 45,\n  delete: 46,\n  meta: 91,\n  numlock: 144,\n  scrolllock: 145,\n  ';': 186,\n  '=': 187,\n  ',': 188,\n  '-': 189,\n  '.': 190,\n  '/': 191,\n  '`': 192,\n  '[': 219,\n  '\\\\': 220,\n  ']': 221,\n  '\\'': 222\n};\n\nfor (var f = 1; f < 20; f++) {\n  CODES['f' + f] = 111 + f;\n}\n\n/**\n * Is hotkey?\n */\n\nfunction isHotkey(hotkey, options, event) {\n  if (options && !('byKey' in options)) {\n    event = options;\n    options = null;\n  }\n\n  if (!Array.isArray(hotkey)) {\n    hotkey = [hotkey];\n  }\n\n  var array = hotkey.map(function (string) {\n    return parseHotkey(string, options);\n  });\n  var check = function check(e) {\n    return array.some(function (object) {\n      return compareHotkey(object, e);\n    });\n  };\n  var ret = event == null ? check : check(event);\n  return ret;\n}\n\nfunction isCodeHotkey(hotkey, event) {\n  return isHotkey(hotkey, event);\n}\n\nfunction isKeyHotkey(hotkey, event) {\n  return isHotkey(hotkey, { byKey: true }, event);\n}\n\n/**\n * Parse.\n */\n\nfunction parseHotkey(hotkey, options) {\n  var byKey = options && options.byKey;\n  var ret = {};\n\n  // Special case to handle the `+` key since we use it as a separator.\n  hotkey = hotkey.replace('++', '+add');\n  var values = hotkey.split('+');\n  var length = values.length;\n\n  // Ensure that all the modifiers are set to false unless the hotkey has them.\n\n  for (var k in MODIFIERS) {\n    ret[MODIFIERS[k]] = false;\n  }\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = values[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var value = _step.value;\n\n      var optional = value.endsWith('?') && value.length > 1;\n\n      if (optional) {\n        value = value.slice(0, -1);\n      }\n\n      var name = toKeyName(value);\n      var modifier = MODIFIERS[name];\n\n      if (length === 1 || !modifier) {\n        if (byKey) {\n          ret.key = name;\n        } else {\n          ret.which = toKeyCode(value);\n        }\n      }\n\n      if (modifier) {\n        ret[modifier] = optional ? null : true;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return ret;\n}\n\n/**\n * Compare.\n */\n\nfunction compareHotkey(object, event) {\n  for (var key in object) {\n    var expected = object[key];\n    var actual = void 0;\n\n    if (expected == null) {\n      continue;\n    }\n\n    if (key === 'key' && event.key != null) {\n      actual = event.key.toLowerCase();\n    } else if (key === 'which') {\n      actual = expected === 91 && event.which === 93 ? 91 : event.which;\n    } else {\n      actual = event[key];\n    }\n\n    if (actual == null && expected === false) {\n      continue;\n    }\n\n    if (actual !== expected) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Utils.\n */\n\nfunction toKeyCode(name) {\n  name = toKeyName(name);\n  var code = CODES[name] || name.toUpperCase().charCodeAt(0);\n  return code;\n}\n\nfunction toKeyName(name) {\n  name = name.toLowerCase();\n  name = ALIASES[name] || name;\n  return name;\n}\n\n/**\n * Export.\n */\n\nexports.default = isHotkey;\nexports.isHotkey = isHotkey;\nexports.isCodeHotkey = isCodeHotkey;\nexports.isKeyHotkey = isKeyHotkey;\nexports.parseHotkey = parseHotkey;\nexports.compareHotkey = compareHotkey;\nexports.toKeyCode = toKeyCode;\nexports.toKeyName = toKeyName;","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z\"\n}), 'Translate');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 12h-2v3h-3v2h5v-5zM7 9h3V7H5v5h2V9zm14-6H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z\"\n}), 'AspectRatio');\n\nexports.default = _default;","import { createContext } from 'react';\n/**\n * Create the React Context\n */\n\nexport var DndContext = createContext({\n  dragDropManager: undefined\n});","// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nexport function rawAsap(task) {\n  if (!queue.length) {\n    requestFlush();\n    flushing = true;\n  } // Equivalent to push, but avoids a function call.\n\n\n  queue[queue.length] = task;\n}\nvar queue = []; // Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\n// @ts-ignore\n\nvar flushing = false; // `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\n\nvar requestFlush; // The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\n\nvar index = 0; // If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\n\nvar capacity = 1024; // The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\n\nfunction flush() {\n  while (index < queue.length) {\n    var currentIndex = index; // Advance the index before calling the task. This ensures that we will\n    // begin flushing on the next task the task throws an error.\n\n    index = index + 1;\n    queue[currentIndex].call(); // Prevent leaking memory for long chains of recursive calls to `asap`.\n    // If we call `asap` within tasks scheduled by `asap`, the queue will\n    // grow, but to avoid an O(n) walk for every task we execute, we don't\n    // shift tasks off the queue after they have been executed.\n    // Instead, we periodically shift 1024 tasks off the queue.\n\n    if (index > capacity) {\n      // Manually shift all values starting at the index back to the\n      // beginning of the queue.\n      for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n        queue[scan] = queue[scan + index];\n      }\n\n      queue.length -= index;\n      index = 0;\n    }\n  }\n\n  queue.length = 0;\n  index = 0;\n  flushing = false;\n} // `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\n\n\nvar scope = typeof global !== 'undefined' ? global : self;\nvar BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver; // MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\n\nif (typeof BrowserMutationObserver === 'function') {\n  requestFlush = makeRequestCallFromMutationObserver(flush); // MessageChannels are desirable because they give direct access to the HTML\n  // task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n  // 11-12, and in web workers in many engines.\n  // Although message channels yield to any queued rendering and IO tasks, they\n  // would be better than imposing the 4ms delay of timers.\n  // However, they do not work reliably in Internet Explorer or Safari.\n  // Internet Explorer 10 is the only browser that has setImmediate but does\n  // not have MutationObservers.\n  // Although setImmediate yields to the browser's renderer, it would be\n  // preferrable to falling back to setTimeout since it does not have\n  // the minimum 4ms penalty.\n  // Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n  // Desktop to a lesser extent) that renders both setImmediate and\n  // MessageChannel useless for the purposes of ASAP.\n  // https://github.com/kriskowal/q/issues/396\n  // Timers are implemented universally.\n  // We fall back to timers in workers in most engines, and in foreground\n  // contexts in the following browsers.\n  // However, note that even this simple case requires nuances to operate in a\n  // broad spectrum of browsers.\n  //\n  // - Firefox 3-13\n  // - Internet Explorer 6-9\n  // - iPad Safari 4.3\n  // - Lynx 2.8.7\n} else {\n  requestFlush = makeRequestCallFromTimer(flush);\n} // `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.jss\n// `process.on(\"uncaughtException\")` or by a domain.\n\n\nrawAsap.requestFlush = requestFlush; // To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\n\nfunction makeRequestCallFromMutationObserver(callback) {\n  var toggle = 1;\n  var observer = new BrowserMutationObserver(callback);\n  var node = document.createTextNode('');\n  observer.observe(node, {\n    characterData: true\n  });\n  return function requestCall() {\n    toggle = -toggle;\n    node.data = toggle;\n  };\n} // The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\n\nfunction makeRequestCallFromTimer(callback) {\n  return function requestCall() {\n    // We dispatch a timeout with a specified delay of 0 for engines that\n    // can reliably accommodate that request. This will usually be snapped\n    // to a 4 milisecond delay, but once we're flushing, there's no delay\n    // between events.\n    var timeoutHandle = setTimeout(handleTimer, 0); // However, since this timer gets frequently dropped in Firefox\n    // workers, we enlist an interval handle that will try to fire\n    // an event 20 times per second until it succeeds.\n\n    var intervalHandle = setInterval(handleTimer, 50);\n\n    function handleTimer() {\n      // Whichever timer succeeds will cancel both timers and\n      // execute the callback.\n      clearTimeout(timeoutHandle);\n      clearInterval(intervalHandle);\n      callback();\n    }\n  };\n} // This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\n\n\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer; // ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React, { useState } from 'react';\nvar StickyWrapper = function (_a) {\n    var children = _a.children;\n    var ref = React.createRef();\n    var stickyElRef = React.createRef();\n    var _b = __read(useState(false), 2), shouldStickToTop = _b[0], setShouldStickToTop = _b[1];\n    var _c = __read(useState(true), 2), shouldStickToBottom = _c[0], setShouldStickToBottom = _c[1];\n    var _d = __read(useState(0), 2), rightOffset = _d[0], setRightOffset = _d[1];\n    React.useEffect(function () {\n        var calc = function () {\n            if (ref.current) {\n                var _a = ref.current.getBoundingClientRect(), top_1 = _a.top, left = _a.left;\n                var bottom = top_1 + ref.current.clientHeight;\n                // document.documentElement.clientWidth is without scrollbars, so better for us\n                var right = document.documentElement.clientWidth - left - ref.current.clientWidth;\n                var uiHeight = stickyElRef.current\n                    ? stickyElRef.current.clientHeight\n                    : 400;\n                setRightOffset(right);\n                setShouldStickToTop(top_1 > window.innerHeight - uiHeight);\n                setShouldStickToBottom(bottom < window.innerHeight);\n            }\n        };\n        document.addEventListener('scroll', calc);\n        window.addEventListener('resize', calc);\n        var observer = null;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (global.IntersectionObserver) {\n            observer = new IntersectionObserver(calc);\n            if (ref.current) {\n                observer.observe(ref.current);\n            }\n        }\n        // do it once\n        calc();\n        return function () {\n            document.removeEventListener('scroll', calc);\n            window.removeEventListener('resize', calc);\n            observer === null || observer === void 0 ? void 0 : observer.disconnect();\n        };\n    }, [ref, stickyElRef]);\n    return (React.createElement(\"div\", { style: { position: 'relative' }, ref: ref }, children({\n        rightOffset: rightOffset,\n        stickyElRef: stickyElRef,\n        shouldStickToTop: shouldStickToTop,\n        shouldStickToBottom: shouldStickToBottom,\n    })));\n};\nexport default StickyWrapper;\n//# sourceMappingURL=StickyWrapper.js.map","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n// @inheritedComponent IconButton\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { refType } from '@material-ui/utils';\nimport withStyles from '../styles/withStyles';\nimport { alpha } from '../styles/colorManipulator';\nimport capitalize from '../utils/capitalize';\nimport SwitchBase from '../internal/SwitchBase';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'inline-flex',\n      width: 34 + 12 * 2,\n      height: 14 + 12 * 2,\n      overflow: 'hidden',\n      padding: 12,\n      boxSizing: 'border-box',\n      position: 'relative',\n      flexShrink: 0,\n      zIndex: 0,\n      // Reset the stacking context.\n      verticalAlign: 'middle',\n      // For correct alignment with the text.\n      '@media print': {\n        colorAdjust: 'exact'\n      }\n    },\n\n    /* Styles applied to the root element if `edge=\"start\"`. */\n    edgeStart: {\n      marginLeft: -8\n    },\n\n    /* Styles applied to the root element if `edge=\"end\"`. */\n    edgeEnd: {\n      marginRight: -8\n    },\n\n    /* Styles applied to the internal `SwitchBase` component's `root` class. */\n    switchBase: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      zIndex: 1,\n      // Render above the focus ripple.\n      color: theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[400],\n      transition: theme.transitions.create(['left', 'transform'], {\n        duration: theme.transitions.duration.shortest\n      }),\n      '&$checked': {\n        transform: 'translateX(20px)'\n      },\n      '&$disabled': {\n        color: theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[800]\n      },\n      '&$checked + $track': {\n        opacity: 0.5\n      },\n      '&$disabled + $track': {\n        opacity: theme.palette.type === 'light' ? 0.12 : 0.1\n      }\n    },\n\n    /* Styles applied to the internal SwitchBase component's root element if `color=\"primary\"`. */\n    colorPrimary: {\n      '&$checked': {\n        color: theme.palette.primary.main,\n        '&:hover': {\n          backgroundColor: alpha(theme.palette.primary.main, theme.palette.action.hoverOpacity),\n          '@media (hover: none)': {\n            backgroundColor: 'transparent'\n          }\n        }\n      },\n      '&$disabled': {\n        color: theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[800]\n      },\n      '&$checked + $track': {\n        backgroundColor: theme.palette.primary.main\n      },\n      '&$disabled + $track': {\n        backgroundColor: theme.palette.type === 'light' ? theme.palette.common.black : theme.palette.common.white\n      }\n    },\n\n    /* Styles applied to the internal SwitchBase component's root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      '&$checked': {\n        color: theme.palette.secondary.main,\n        '&:hover': {\n          backgroundColor: alpha(theme.palette.secondary.main, theme.palette.action.hoverOpacity),\n          '@media (hover: none)': {\n            backgroundColor: 'transparent'\n          }\n        }\n      },\n      '&$disabled': {\n        color: theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[800]\n      },\n      '&$checked + $track': {\n        backgroundColor: theme.palette.secondary.main\n      },\n      '&$disabled + $track': {\n        backgroundColor: theme.palette.type === 'light' ? theme.palette.common.black : theme.palette.common.white\n      }\n    },\n\n    /* Styles applied to the root element if `size=\"small\"`. */\n    sizeSmall: {\n      width: 40,\n      height: 24,\n      padding: 7,\n      '& $thumb': {\n        width: 16,\n        height: 16\n      },\n      '& $switchBase': {\n        padding: 4,\n        '&$checked': {\n          transform: 'translateX(16px)'\n        }\n      }\n    },\n\n    /* Pseudo-class applied to the internal `SwitchBase` component's `checked` class. */\n    checked: {},\n\n    /* Pseudo-class applied to the internal SwitchBase component's disabled class. */\n    disabled: {},\n\n    /* Styles applied to the internal SwitchBase component's input element. */\n    input: {\n      left: '-100%',\n      width: '300%'\n    },\n\n    /* Styles used to create the thumb passed to the internal `SwitchBase` component `icon` prop. */\n    thumb: {\n      boxShadow: theme.shadows[1],\n      backgroundColor: 'currentColor',\n      width: 20,\n      height: 20,\n      borderRadius: '50%'\n    },\n\n    /* Styles applied to the track element. */\n    track: {\n      height: '100%',\n      width: '100%',\n      borderRadius: 14 / 2,\n      zIndex: -1,\n      transition: theme.transitions.create(['opacity', 'background-color'], {\n        duration: theme.transitions.duration.shortest\n      }),\n      backgroundColor: theme.palette.type === 'light' ? theme.palette.common.black : theme.palette.common.white,\n      opacity: theme.palette.type === 'light' ? 0.38 : 0.3\n    }\n  };\n};\nvar Switch = /*#__PURE__*/React.forwardRef(function Switch(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'secondary' : _props$color,\n      _props$edge = props.edge,\n      edge = _props$edge === void 0 ? false : _props$edge,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"edge\", \"size\"]);\n\n  var icon = /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.thumb\n  });\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: clsx(classes.root, className, {\n      'start': classes.edgeStart,\n      'end': classes.edgeEnd\n    }[edge], size === \"small\" && classes[\"size\".concat(capitalize(size))])\n  }, /*#__PURE__*/React.createElement(SwitchBase, _extends({\n    type: \"checkbox\",\n    icon: icon,\n    checkedIcon: icon,\n    classes: {\n      root: clsx(classes.switchBase, classes[\"color\".concat(capitalize(color))]),\n      input: classes.input,\n      checked: classes.checked,\n      disabled: classes.disabled\n    },\n    ref: ref\n  }, other)), /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.track\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Switch.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * If `true`, the component is checked.\n   */\n  checked: PropTypes.bool,\n\n  /**\n   * The icon to display when the component is checked.\n   */\n  checkedIcon: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['default', 'primary', 'secondary']),\n\n  /**\n   * @ignore\n   */\n  defaultChecked: PropTypes.bool,\n\n  /**\n   * If `true`, the switch will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the ripple effect will be disabled.\n   */\n  disableRipple: PropTypes.bool,\n\n  /**\n   * If given, uses a negative margin to counteract the padding on one\n   * side (this is often helpful for aligning the left or right\n   * side of the icon with content above or below, without ruining the border\n   * size and shape).\n   */\n  edge: PropTypes.oneOf(['end', 'start', false]),\n\n  /**\n   * The icon to display when the component is unchecked.\n   */\n  icon: PropTypes.node,\n\n  /**\n   * The id of the `input` element.\n   */\n  id: PropTypes.string,\n\n  /**\n   * [Attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Attributes) applied to the `input` element.\n   */\n  inputProps: PropTypes.object,\n\n  /**\n   * Pass a ref to the `input` element.\n   */\n  inputRef: refType,\n\n  /**\n   * Callback fired when the state is changed.\n   *\n   * @param {object} event The event source of the callback.\n   * You can pull out the new value by accessing `event.target.value` (string).\n   * You can pull out the new checked state by accessing `event.target.checked` (boolean).\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * If `true`, the `input` element will be required.\n   */\n  required: PropTypes.bool,\n\n  /**\n   * The size of the switch.\n   * `small` is equivalent to the dense switch styling.\n   */\n  size: PropTypes.oneOf(['medium', 'small']),\n\n  /**\n   * The value of the component. The DOM API casts this to a string.\n   * The browser uses \"on\" as the default value.\n   */\n  value: PropTypes.any\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiSwitch'\n})(Switch);","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z\"\n}), 'FileCopy');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 11h3v10h2V11h3l-4-4-4 4zM4 3v2h16V3H4z\"\n}), 'VerticalAlignTop');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z\"\n}), 'Undo');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z\"\n}), 'Redo');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\n}), 'Create');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 18h5v-6h-5v6zm-6 0h5V5H4v13zm12 0h5v-6h-5v6zM10 5v6h11V5H10z\"\n}), 'ViewQuilt');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.01 5.5L10 8h4l-1.99-2.5zM18 10v4l2.5-1.99L18 10zM6 10l-2.5 2.01L6 14v-4zm8 6h-4l2.01 2.5L14 16zm7-13H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z\"\n}), 'SettingsOverscan');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 6h18V4H4c-1.1 0-2 .9-2 2v11H0v3h14v-3H4V6zm19 2h-6c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zm-1 9h-4v-7h4v7z\"\n}), 'Devices');\n\nexports.default = _default;","export var canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport { canUseDOM } from './utils';\n\nvar Portal = function (_React$Component) {\n  _inherits(Portal, _React$Component);\n\n  function Portal() {\n    _classCallCheck(this, Portal);\n\n    return _possibleConstructorReturn(this, (Portal.__proto__ || Object.getPrototypeOf(Portal)).apply(this, arguments));\n  }\n\n  _createClass(Portal, [{\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.defaultNode) {\n        document.body.removeChild(this.defaultNode);\n      }\n      this.defaultNode = null;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (!canUseDOM) {\n        return null;\n      }\n      if (!this.props.node && !this.defaultNode) {\n        this.defaultNode = document.createElement('div');\n        document.body.appendChild(this.defaultNode);\n      }\n      return ReactDOM.createPortal(this.props.children, this.props.node || this.defaultNode);\n    }\n  }]);\n\n  return Portal;\n}(React.Component);\n\nPortal.propTypes = {\n  children: PropTypes.node.isRequired,\n  node: PropTypes.any\n};\n\nexport default Portal;","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// This file is a fallback for a consumer who is not yet on React 16\n// as createPortal was introduced in React 16\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nvar Portal = function (_React$Component) {\n  _inherits(Portal, _React$Component);\n\n  function Portal() {\n    _classCallCheck(this, Portal);\n\n    return _possibleConstructorReturn(this, (Portal.__proto__ || Object.getPrototypeOf(Portal)).apply(this, arguments));\n  }\n\n  _createClass(Portal, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.renderPortal();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(props) {\n      this.renderPortal();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      ReactDOM.unmountComponentAtNode(this.defaultNode || this.props.node);\n      if (this.defaultNode) {\n        document.body.removeChild(this.defaultNode);\n      }\n      this.defaultNode = null;\n      this.portal = null;\n    }\n  }, {\n    key: 'renderPortal',\n    value: function renderPortal(props) {\n      if (!this.props.node && !this.defaultNode) {\n        this.defaultNode = document.createElement('div');\n        document.body.appendChild(this.defaultNode);\n      }\n\n      var children = this.props.children;\n      // https://gist.github.com/jimfb/d99e0678e9da715ccf6454961ef04d1b\n      if (typeof this.props.children.type === 'function') {\n        children = React.cloneElement(this.props.children);\n      }\n\n      this.portal = ReactDOM.unstable_renderSubtreeIntoContainer(this, children, this.props.node || this.defaultNode);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return Portal;\n}(React.Component);\n\nexport default Portal;\n\n\nPortal.propTypes = {\n  children: PropTypes.node.isRequired,\n  node: PropTypes.any\n};","import ReactDOM from 'react-dom';\n\nimport Portalv4 from './Portal';\nimport LegacyPortal from './LegacyPortal';\n\nvar Portal = void 0;\n\nif (ReactDOM.createPortal) {\n  Portal = Portalv4;\n} else {\n  Portal = LegacyPortal;\n}\n\nexport default Portal;","var _excluded = [\"children\"];\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, memo } from 'react';\nimport { createDragDropManager } from 'dnd-core';\nimport { DndContext } from './DndContext';\nvar refCount = 0;\nvar INSTANCE_SYM = Symbol.for('__REACT_DND_CONTEXT_INSTANCE__');\n/**\n * A React component that provides the React-DnD context\n */\n\nexport var DndProvider = memo(function DndProvider(_ref) {\n  var children = _ref.children,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _getDndContextValue = getDndContextValue(props),\n      _getDndContextValue2 = _slicedToArray(_getDndContextValue, 2),\n      manager = _getDndContextValue2[0],\n      isGlobalInstance = _getDndContextValue2[1]; // memoized from props\n\n  /**\n   * If the global context was used to store the DND context\n   * then where theres no more references to it we should\n   * clean it up to avoid memory leaks\n   */\n\n\n  useEffect(function () {\n    if (isGlobalInstance) {\n      var context = getGlobalContext();\n      ++refCount;\n      return function () {\n        if (--refCount === 0) {\n          context[INSTANCE_SYM] = null;\n        }\n      };\n    }\n  }, []);\n  return _jsx(DndContext.Provider, Object.assign({\n    value: manager\n  }, {\n    children: children\n  }), void 0);\n});\n\nfunction getDndContextValue(props) {\n  if ('manager' in props) {\n    var _manager = {\n      dragDropManager: props.manager\n    };\n    return [_manager, false];\n  }\n\n  var manager = createSingletonDndContext(props.backend, props.context, props.options, props.debugMode);\n  var isGlobalInstance = !props.context;\n  return [manager, isGlobalInstance];\n}\n\nfunction createSingletonDndContext(backend) {\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getGlobalContext();\n  var options = arguments.length > 2 ? arguments[2] : undefined;\n  var debugMode = arguments.length > 3 ? arguments[3] : undefined;\n  var ctx = context;\n\n  if (!ctx[INSTANCE_SYM]) {\n    ctx[INSTANCE_SYM] = {\n      dragDropManager: createDragDropManager(backend, context, options, debugMode)\n    };\n  }\n\n  return ctx[INSTANCE_SYM];\n}\n\nfunction getGlobalContext() {\n  return typeof global !== 'undefined' ? global : window;\n}","import { useCallback } from 'react';\nimport { redo, undo } from '../../actions/undo';\nimport { useDispatch, useSelector } from '../../reduxConnect';\n/**\n * @returns function, that undos last change if called\n */\nexport var useUndo = function () {\n    var dispatch = useDispatch();\n    return useCallback(function () { return dispatch(undo()); }, [dispatch]);\n};\n/**\n * @returns function, that redos last change if called\n */\nexport var useRedo = function () {\n    var dispatch = useDispatch();\n    return useCallback(function () { return dispatch(redo()); }, [dispatch]);\n};\n/**\n * @returns whether user can undo\n */\nexport var useCanUndo = function () {\n    return useSelector(function (s) { return s.reactPage.values.past.length > 0; });\n};\n/**\n * @returns whether user can undo\n */\nexport var useCanRedo = function () {\n    return useSelector(function (s) { return s.reactPage.values.future.length > 0; });\n};\n//# sourceMappingURL=actions.js.map","import { ActionTypes } from 'redux-undo';\nexport var undo = function () { return ({\n    type: ActionTypes.UNDO,\n}); };\nexport var redo = function () { return ({\n    type: ActionTypes.REDO,\n}); };\n//# sourceMappingURL=undo.js.map","export var focus = function (state) {\n    return state && state.reactPage && state.reactPage.focus;\n};\n//# sourceMappingURL=focus.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { useEffect } from 'react';\nimport { useSelector } from '../../reduxConnect';\nimport { focus } from '../../selector/focus';\n/**\n * @returns the current focused nodeId or null\n */\nexport var useFocusedNodeId = function () {\n    return useSelector(function (state) { var _a; return (_a = focus(state)) === null || _a === void 0 ? void 0 : _a.nodeId; });\n};\n/**\n *\n * @param id the id of the node (row/cell)\n * @returns true if the given node id is focused\n */\nexport var useIsFocused = function (id) {\n    return useSelector(function (state) { var _a; return ((_a = focus(state)) === null || _a === void 0 ? void 0 : _a.nodeId) === id; });\n};\n/**\n *\n * @param id the id of the node\n * @param effect callback that is run when the given node is focused and the focus action demanded scrollToCell\n * @param deps effect deps array\n */\nexport var useScrollToViewEffect = function (id, effect, deps) {\n    var scrollToCell = useSelector(function (state) {\n        var f = focus(state);\n        if (!f || f.nodeId !== id) {\n            return null;\n        }\n        return f.scrollToCell;\n    });\n    useEffect(function () {\n        if (scrollToCell) {\n            return effect();\n        }\n    }, __spread([scrollToCell], deps));\n};\n//# sourceMappingURL=focus.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { isRow } from '../types/node';\nvar getMyPositionInParent = function (node, parent) {\n    var _a;\n    var siblings = (_a = (isRow(parent) ? parent.cells : parent.rows)) !== null && _a !== void 0 ? _a : [];\n    var index = siblings.findIndex(function (c) { return c.id === node.id; });\n    return [index, siblings.length];\n};\nvar left = function (node, ancestors) {\n    var _a = __read(ancestors), parent = _a[0], greatParents = _a.slice(1);\n    if (!parent)\n        return 0;\n    if (isRow(node)) {\n        return left(parent, greatParents) + 1;\n    }\n    else {\n        var _b = __read(getMyPositionInParent(node, parent), 1), index = _b[0];\n        if (index === 0) {\n            return left(parent, greatParents) + 1;\n        }\n        else {\n            return 0;\n        }\n    }\n};\nvar right = function (node, ancestors) {\n    var _a = __read(ancestors), parent = _a[0], greatParents = _a.slice(1);\n    if (!parent)\n        return 0;\n    if (isRow(node)) {\n        return right(parent, greatParents) + 1;\n    }\n    else {\n        var _b = __read(getMyPositionInParent(node, parent), 2), index = _b[0], numberOfSiblings = _b[1];\n        if (index === numberOfSiblings - 1) {\n            return right(parent, greatParents) + 1;\n        }\n        else {\n            return 0;\n        }\n    }\n};\nvar above = function (node, ancestors) {\n    var _a = __read(ancestors), parent = _a[0], greatParents = _a.slice(1);\n    if (!parent)\n        return 0;\n    if (!isRow(node)) {\n        return above(parent, greatParents) + 1;\n    }\n    else {\n        var _b = __read(getMyPositionInParent(node, parent), 1), index = _b[0];\n        if (index === 0) {\n            return above(parent, greatParents) + 1;\n        }\n        else {\n            return 0;\n        }\n    }\n};\nvar below = function (node, ancestors) {\n    var _a = __read(ancestors), parent = _a[0], greatParents = _a.slice(1);\n    if (!parent)\n        return 0;\n    if (!isRow(node)) {\n        return below(parent, greatParents) + 1;\n    }\n    else {\n        var _b = __read(getMyPositionInParent(node, parent), 2), index = _b[0], numberOfSiblings = _b[1];\n        if (index === numberOfSiblings - 1) {\n            return below(parent, greatParents) + 1;\n        }\n        else {\n            return 0;\n        }\n    }\n};\nexport var getDropLevels = function (node, ancestors) { return ({\n    left: left(node, ancestors),\n    right: right(node, ancestors),\n    above: above(node, ancestors),\n    below: below(node, ancestors),\n}); };\n//# sourceMappingURL=getDropLevels.js.map","import { useContext } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../core';\n/**\n * A hook to retrieve the DragDropManager from Context\n */\n\nexport function useDragDropManager() {\n  var _useContext = useContext(DndContext),\n      dragDropManager = _useContext.dragDropManager;\n\n  invariant(dragDropManager != null, 'Expected drag drop context');\n  return dragDropManager;\n}","import { useLayoutEffect, useEffect } from 'react'; // suppress the useLayoutEffect warning on server side.\n\nexport var useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var DropTargetImpl = /*#__PURE__*/function () {\n  function DropTargetImpl(spec, monitor) {\n    _classCallCheck(this, DropTargetImpl);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n  }\n\n  _createClass(DropTargetImpl, [{\n    key: \"canDrop\",\n    value: function canDrop() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      return spec.canDrop ? spec.canDrop(monitor.getItem(), monitor) : true;\n    }\n  }, {\n    key: \"hover\",\n    value: function hover() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (spec.hover) {\n        spec.hover(monitor.getItem(), monitor);\n      }\n    }\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (spec.drop) {\n        return spec.drop(monitor.getItem(), monitor);\n      }\n    }\n  }]);\n\n  return DropTargetImpl;\n}();","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { registerTarget } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nimport { useAccept } from './useAccept';\nimport { useDropTarget } from './useDropTarget';\nexport function useRegisteredDropTarget(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var dropTarget = useDropTarget(spec, monitor);\n  var accept = useAccept(spec);\n  useIsomorphicLayoutEffect(function registerDropTarget() {\n    var _registerTarget = registerTarget(accept, dropTarget, manager),\n        _registerTarget2 = _slicedToArray(_registerTarget, 2),\n        handlerId = _registerTarget2[0],\n        unregister = _registerTarget2[1];\n\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, [manager, monitor, dropTarget, connector, accept.map(function (a) {\n    return a.toString();\n  }).join('|')]);\n}","import { useEffect, useMemo } from 'react';\nimport { DropTargetImpl } from './DropTargetImpl';\nexport function useDropTarget(spec, monitor) {\n  var dropTarget = useMemo(function () {\n    return new DropTargetImpl(spec, monitor);\n  }, [monitor]);\n  useEffect(function () {\n    dropTarget.spec = spec;\n  }, [spec]);\n  return dropTarget;\n}","import { invariant } from '@react-dnd/invariant';\nimport { useMemo } from 'react';\n/**\n * Internal utility hook to get an array-version of spec.accept.\n * The main utility here is that we aren't creating a new array on every render if a non-array spec.accept is passed in.\n * @param spec\n */\n\nexport function useAccept(spec) {\n  var accept = spec.accept;\n  return useMemo(function () {\n    invariant(spec.accept != null, 'accept must be defined');\n    return Array.isArray(accept) ? accept : [accept];\n  }, [accept]);\n}","export function registerTarget(type, target, manager) {\n  var registry = manager.getRegistry();\n  var targetId = registry.addTarget(type, target);\n  return [targetId, function () {\n    return registry.removeTarget(targetId);\n  }];\n}\nexport function registerSource(type, source, manager) {\n  var registry = manager.getRegistry();\n  var sourceId = registry.addSource(type, source);\n  return [sourceId, function () {\n    return registry.removeSource(sourceId);\n  }];\n}","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { useMemo } from 'react';\nexport function useOptionalFactory(arg, deps) {\n  var memoDeps = _toConsumableArray(deps || []);\n\n  if (deps == null && typeof arg !== 'function') {\n    memoDeps.push(arg);\n  }\n\n  return useMemo(function () {\n    return typeof arg === 'function' ? arg() : arg;\n  }, memoDeps);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrop = false;\nexport var DropTargetMonitorImpl = /*#__PURE__*/function () {\n  function DropTargetMonitorImpl(manager) {\n    _classCallCheck(this, DropTargetMonitorImpl);\n\n    _defineProperty(this, \"internalMonitor\", void 0);\n\n    _defineProperty(this, \"targetId\", null);\n\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DropTargetMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(targetId) {\n      this.targetId = targetId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.targetId;\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      // Cut out early if the target id has not been set. This should prevent errors\n      // where the user has an older version of dnd-core like in\n      // https://github.com/react-dnd/react-dnd/issues/1310\n      if (!this.targetId) {\n        return false;\n      }\n\n      invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');\n\n      try {\n        isCallingCanDrop = true;\n        return this.internalMonitor.canDropOnTarget(this.targetId);\n      } finally {\n        isCallingCanDrop = false;\n      }\n    }\n  }, {\n    key: \"isOver\",\n    value: function isOver(options) {\n      if (!this.targetId) {\n        return false;\n      }\n\n      return this.internalMonitor.isOverTarget(this.targetId, options);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DropTargetMonitorImpl;\n}();","import { invariant } from '@react-dnd/invariant';\nimport { cloneElement, isValidElement } from 'react';\n\nfunction throwIfCompositeComponentElement(element) {\n  // Custom components can no longer be wrapped directly in React DnD 2.0\n  // so that we don't need to depend on findDOMNode() from react-dom.\n  if (typeof element.type === 'string') {\n    return;\n  }\n\n  var displayName = element.type.displayName || element.type.name || 'the component';\n  throw new Error('Only native element nodes can now be passed to React DnD connectors.' + \"You can either wrap \".concat(displayName, \" into a <div>, or turn it into a \") + 'drag source or a drop target itself.');\n}\n\nfunction wrapHookToRecognizeElement(hook) {\n  return function () {\n    var elementOrNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    // When passed a node, call the hook straight away.\n    if (!isValidElement(elementOrNode)) {\n      var node = elementOrNode;\n      hook(node, options); // return the node so it can be chained (e.g. when within callback refs\n      // <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\n      return node;\n    } // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n\n\n    var element = elementOrNode;\n    throwIfCompositeComponentElement(element); // When no options are passed, use the hook directly\n\n    var ref = options ? function (node) {\n      return hook(node, options);\n    } : hook;\n    return cloneWithRef(element, ref);\n  };\n}\n\nexport function wrapConnectorHooks(hooks) {\n  var wrappedHooks = {};\n  Object.keys(hooks).forEach(function (key) {\n    var hook = hooks[key]; // ref objects should be passed straight through without wrapping\n\n    if (key.endsWith('Ref')) {\n      wrappedHooks[key] = hooks[key];\n    } else {\n      var wrappedHook = wrapHookToRecognizeElement(hook);\n\n      wrappedHooks[key] = function () {\n        return wrappedHook;\n      };\n    }\n  });\n  return wrappedHooks;\n}\n\nfunction setRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else {\n    ref.current = node;\n  }\n}\n\nfunction cloneWithRef(element, newRef) {\n  var previousRef = element.ref;\n  invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return cloneElement(element, {\n      ref: newRef\n    });\n  } else {\n    return cloneElement(element, {\n      ref: function ref(node) {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      }\n    });\n  }\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isRef(obj) {\n  return (// eslint-disable-next-line no-prototype-builtins\n    obj !== null && _typeof(obj) === 'object' && Object.prototype.hasOwnProperty.call(obj, 'current')\n  );\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from './isRef';\nexport var TargetConnector = /*#__PURE__*/function () {\n  // The drop target may either be attached via ref or connect function\n  function TargetConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, TargetConnector);\n\n    _defineProperty(this, \"hooks\", wrapConnectorHooks({\n      dropTarget: function dropTarget(node, options) {\n        _this.clearDropTarget();\n\n        _this.dropTargetOptions = options;\n\n        if (isRef(node)) {\n          _this.dropTargetRef = node;\n        } else {\n          _this.dropTargetNode = node;\n        }\n\n        _this.reconnect();\n      }\n    }));\n\n    _defineProperty(this, \"handlerId\", null);\n\n    _defineProperty(this, \"dropTargetRef\", null);\n\n    _defineProperty(this, \"dropTargetNode\", void 0);\n\n    _defineProperty(this, \"dropTargetOptionsInternal\", null);\n\n    _defineProperty(this, \"unsubscribeDropTarget\", void 0);\n\n    _defineProperty(this, \"lastConnectedHandlerId\", null);\n\n    _defineProperty(this, \"lastConnectedDropTarget\", null);\n\n    _defineProperty(this, \"lastConnectedDropTargetOptions\", null);\n\n    _defineProperty(this, \"backend\", void 0);\n\n    this.backend = backend;\n  }\n\n  _createClass(TargetConnector, [{\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dropTarget;\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      // if nothing has changed then don't resubscribe\n      var didChange = this.didHandlerIdChange() || this.didDropTargetChange() || this.didOptionsChange();\n\n      if (didChange) {\n        this.disconnectDropTarget();\n      }\n\n      var dropTarget = this.dropTarget;\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dropTarget) {\n        this.lastConnectedDropTarget = dropTarget;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDropTarget = dropTarget;\n        this.lastConnectedDropTargetOptions = this.dropTargetOptions;\n        this.unsubscribeDropTarget = this.backend.connectDropTarget(this.handlerId, dropTarget, this.dropTargetOptions);\n      }\n    }\n  }, {\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (newHandlerId === this.handlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"dropTargetOptions\",\n    get: function get() {\n      return this.dropTargetOptionsInternal;\n    },\n    set: function set(options) {\n      this.dropTargetOptionsInternal = options;\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didDropTargetChange\",\n    value: function didDropTargetChange() {\n      return this.lastConnectedDropTarget !== this.dropTarget;\n    }\n  }, {\n    key: \"didOptionsChange\",\n    value: function didOptionsChange() {\n      return !shallowEqual(this.lastConnectedDropTargetOptions, this.dropTargetOptions);\n    }\n  }, {\n    key: \"disconnectDropTarget\",\n    value: function disconnectDropTarget() {\n      if (this.unsubscribeDropTarget) {\n        this.unsubscribeDropTarget();\n        this.unsubscribeDropTarget = undefined;\n      }\n    }\n  }, {\n    key: \"dropTarget\",\n    get: function get() {\n      return this.dropTargetNode || this.dropTargetRef && this.dropTargetRef.current;\n    }\n  }, {\n    key: \"clearDropTarget\",\n    value: function clearDropTarget() {\n      this.dropTargetRef = null;\n      this.dropTargetNode = null;\n    }\n  }]);\n\n  return TargetConnector;\n}();","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport equal from 'fast-deep-equal';\nimport { useState, useCallback } from 'react';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\n/**\n *\n * @param monitor The monitor to collect state from\n * @param collect The collecting function\n * @param onUpdate A method to invoke when updates occur\n */\n\nexport function useCollector(monitor, collect, onUpdate) {\n  var _useState = useState(function () {\n    return collect(monitor);\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      collected = _useState2[0],\n      setCollected = _useState2[1];\n\n  var updateCollected = useCallback(function () {\n    var nextValue = collect(monitor); // This needs to be a deep-equality check because some monitor-collected values\n    // include XYCoord objects that may be equivalent, but do not have instance equality.\n\n    if (!equal(collected, nextValue)) {\n      setCollected(nextValue);\n\n      if (onUpdate) {\n        onUpdate();\n      }\n    }\n  }, [collected, monitor, onUpdate]); // update the collected properties after react renders.\n  // Note that the \"Dustbin Stress Test\" fails if this is not\n  // done when the component updates\n\n  useIsomorphicLayoutEffect(updateCollected);\n  return [collected, updateCollected];\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nimport { useCollector } from './useCollector';\nexport function useMonitorOutput(monitor, collect, onCollect) {\n  var _useCollector = useCollector(monitor, collect, onCollect),\n      _useCollector2 = _slicedToArray(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useIsomorphicLayoutEffect(function subscribeToMonitorStateChange() {\n    var handlerId = monitor.getHandlerId();\n\n    if (handlerId == null) {\n      return;\n    }\n\n    return monitor.subscribeToStateChange(updateCollected, {\n      handlerIds: [handlerId]\n    });\n  }, [monitor, updateCollected]);\n  return collected;\n}","import { useMonitorOutput } from './useMonitorOutput';\nexport function useCollectedProps(collector, monitor, connector) {\n  return useMonitorOutput(monitor, collector || function () {\n    return {};\n  }, function () {\n    return connector.reconnect();\n  });\n}","import { useMemo } from 'react';\nexport function useConnectDropTarget(connector) {\n  return useMemo(function () {\n    return connector.hooks.dropTarget();\n  }, [connector]);\n}","import { useRegisteredDropTarget } from './useRegisteredDropTarget';\nimport { useOptionalFactory } from '../useOptionalFactory';\nimport { useDropTargetMonitor } from './useDropTargetMonitor';\nimport { useDropTargetConnector } from './useDropTargetConnector';\nimport { useCollectedProps } from '../useCollectedProps';\nimport { useConnectDropTarget } from './connectors';\n/**\n * useDropTarget Hook\n * @param spec The drop target specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\n\nexport function useDrop(specArg, deps) {\n  var spec = useOptionalFactory(specArg, deps);\n  var monitor = useDropTargetMonitor();\n  var connector = useDropTargetConnector(spec.options);\n  useRegisteredDropTarget(spec, monitor, connector);\n  return [useCollectedProps(spec.collect, monitor, connector), useConnectDropTarget(connector)];\n}","import { useMemo } from 'react';\nimport { DropTargetMonitorImpl } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nexport function useDropTargetMonitor() {\n  var manager = useDragDropManager();\n  return useMemo(function () {\n    return new DropTargetMonitorImpl(manager);\n  }, [manager]);\n}","import { useMemo } from 'react';\nimport { TargetConnector } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nexport function useDropTargetConnector(options) {\n  var manager = useDragDropManager();\n  var connector = useMemo(function () {\n    return new TargetConnector(manager.getBackend());\n  }, [manager]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dropTargetOptions = options || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDropTarget();\n    };\n  }, [options]);\n  return connector;\n}","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useCallback } from 'react';\nimport { blurAllCells } from '../../actions/cell';\nimport { blurCell, focusCell, removeCell, resizeCell, updateCellData, updateCellIsDraft, } from '../../actions/cell/core';\nimport { duplicateCell, insertCellAtTheEnd, insertCellNewAsNewRow, } from '../../actions/cell/insert';\nimport { setDisplayReferenceNodeId } from '../../actions/display';\nimport { setLang } from '../../actions/setting';\nimport { useDispatch } from '../../reduxConnect';\nimport { isRow } from '../../types/node';\nimport { useEditorStore, useLang } from './options';\nimport { useDrop } from 'react-dnd';\nimport { useAllCellPluginsForNode, useParentCellId } from './node';\n/**\n * @param id id of a node\n * @returns function, that sets a cell in draft mode (will be invisible in readonly / preview)\n */\nexport var useSetDraft = function (id) {\n    var dispatch = useDispatch();\n    return useCallback(function (isDraft, lang) {\n        return dispatch(updateCellIsDraft(id, isDraft, lang));\n    }, [dispatch, id]);\n};\n/**\n * @returns function to resize a cell\n */\nexport var useResizeCellById = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (nodeId, size) { return dispatch(resizeCell(nodeId)(size)); }, [dispatch]);\n};\n/**\n *\n * @param id a cell id\n * @returns a function to resize the given cell\n */\nexport var useResizeCell = function (id) {\n    var resizeById = useResizeCellById();\n    return useCallback(function (size) { return resizeById(id, size); }, [resizeById, id]);\n};\n/**\n *\n * @returns a function to change the current language\n */\nexport var useSetLang = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (lang) { return dispatch(setLang(lang)); }, [dispatch]);\n};\n/**\n *\n * @param id a cell id\n * @returns function to update the data of the given cell. Sets the data in the current language, unless options.lang is set\n */\nexport var useUpdateCellData = function (id) {\n    var dispatch = useDispatch();\n    var currentLang = useLang();\n    return useCallback(function (data, options) {\n        if (options === void 0) { options = {}; }\n        dispatch(updateCellData(id)(data, __assign({ notUndoable: false, lang: currentLang }, options)));\n    }, [dispatch, id, currentLang]);\n};\n/**\n * @returns a function to remove a cell by id\n */\nexport var useRemoveCellById = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (id) { return dispatch(removeCell(id)); }, [dispatch]);\n};\n/**\n * @param id a cell id\n * @returns a function to remove the given cell\n */\nexport var useRemoveCell = function (id) {\n    var removeById = useRemoveCellById();\n    return useCallback(function () { return removeById(id); }, [removeById, id]);\n};\n/**\n * @param a cell id\n * @returns a function that duplicates the given cell\n */\nexport var useDuplicateCell = function (id) {\n    var dispatch = useDispatch();\n    var editor = useEditorStore();\n    var parentCellId = useParentCellId(id);\n    var lang = useLang();\n    var cellPlugins = useAllCellPluginsForNode(parentCellId);\n    return useCallback(function () {\n        return dispatch(duplicateCell({ cellPlugins: cellPlugins, lang: lang, focusAfter: true })(editor.getNode(id)));\n    }, [dispatch, cellPlugins, lang, id]);\n};\n/**\n * experimental\n * @returns function to set the reference node id. used internally\n */\nexport var useSetDisplayReferenceNodeId = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (nodeId) {\n        dispatch(setDisplayReferenceNodeId(nodeId));\n    }, [dispatch]);\n};\n/**\n * @returns a function to focus a cell by id\n */\nexport var useFocusCellById = function () {\n    var dispatch = useDispatch();\n    var editor = useEditorStore();\n    return useCallback(function (id, scrollToCell, source) {\n        var _a, _b, _c;\n        var parentCellId = (_c = (_b = (_a = editor\n            .getNodeWithAncestors(id)) === null || _a === void 0 ? void 0 : _a.ancestors) === null || _b === void 0 ? void 0 : _b.find(function (node) { return !isRow(node); })) === null || _c === void 0 ? void 0 : _c.id;\n        dispatch(setDisplayReferenceNodeId(parentCellId));\n        dispatch(focusCell(id, scrollToCell, source));\n    }, [dispatch, editor]);\n};\n/**\n * @returns a function to focus a cell by id\n */\nexport var useFocusCell = function (id) {\n    var focusCellById = useFocusCellById();\n    return useCallback(function (scrollToCell, source) {\n        return focusCellById(id, scrollToCell, source);\n    }, [focusCellById]);\n};\n/**\n * @returns function to blur a cell by id\n */\nexport var useBlurCell = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (id) {\n        dispatch(blurCell(id));\n    }, [dispatch]);\n};\n/**\n * @returns function to blur all cells\n */\nexport var useBlurAllCells = function () {\n    var dispatch = useDispatch();\n    return useCallback(function () {\n        dispatch(blurAllCells());\n    }, [dispatch]);\n};\n/**\n * @returns function to insert a cell at the end of the document or the end of the parent cell\n *\n * if the id already exists, it will move that cell\n */\nexport var useInsertNew = function (parentCellId) {\n    var dispatch = useDispatch();\n    var cellPlugins = useAllCellPluginsForNode(parentCellId);\n    var editor = useEditorStore();\n    var lang = useLang();\n    return useCallback(function (partialCell) {\n        var action = parentCellId ? insertCellNewAsNewRow : insertCellAtTheEnd;\n        dispatch(action({\n            cellPlugins: cellPlugins,\n            lang: lang,\n            focusAfter: true,\n        })(partialCell, { id: parentCellId }));\n    }, [dispatch, editor, cellPlugins, parentCellId]);\n};\n/**\n * used for the trash target\n */\nexport var useTrashDrop = function () {\n    var removeCell = useRemoveCellById();\n    return useDrop({\n        accept: 'cell',\n        collect: function (monitor) { return ({\n            isHovering: monitor.isOver({ shallow: true }),\n        }); },\n        drop: function (item, monitor) { return removeCell(item.cell.id); },\n    });\n};\n//# sourceMappingURL=nodeActions.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport debounce from 'lodash.debounce';\nimport { useCallback, useEffect, useRef, useState, useMemo } from 'react';\nimport { useSelector } from '../../reduxConnect';\nimport { findNodeInState } from '../../selector/editable';\nimport { isRow } from '../../types/node';\nimport deepEquals from '../../utils/deepEquals';\nimport { getCellData } from '../../utils/getCellData';\nimport { getCellInnerDivStylingProps } from '../../utils/getCellStylingProps';\nimport { getDropLevels } from '../../utils/getDropLevels';\nimport { useUpdateCellData } from './nodeActions';\nimport { useLang, useOptions } from './options';\nimport { getAvailablePlugins } from '../../utils/getAvailablePlugins';\n/**\n * Use this function to get derived properties of a node. It prevents unnessesary rerenders when only the nessesary properties are returned by the selector\n * @param nodeId an id of a node (cell or row)\n * @param selector receives the node object or null (if no node with this id exists) and returns T\n * @returns the selection T\n */\nexport var useNodeProps = function (nodeId, selector) {\n    var node = useSelector(function (state) {\n        var result = findNodeInState(state, nodeId);\n        if (!result) {\n            return selector(null, []);\n        }\n        return selector(result.node, result.ancestors);\n    }, deepEquals);\n    return node;\n};\n/**\n *\n * @param nodeId id of a node\n * @param selector receives the ancestors array and returns T\n * @returns T\n */\nexport var useNodeAncestorProps = function (nodeId, selector) {\n    return useNodeProps(nodeId, function (__, ancestors) { return selector(ancestors); });\n};\n/**\n * This is the same as @see useNodeProps, but only for cells. selector will receive null if the given nodeId is not a cell\n * @param nodeId an id of a cell\n * @param selector receives the cell or null (if no cell with this id exists) object and returns T\n * @returns the selection T\n */\nexport var useCellProps = function (nodeId, selector) {\n    return useNodeProps(nodeId, function (node, ancestors) {\n        return !isRow(node) ? selector(node, ancestors) : selector(null, ancestors);\n    });\n};\n/**\n * better use useCellProps, unless you really need the full cell object\n * @param nodeId an id of a cell\n * @returns full Cell object\n */\nexport var useCell = function (nodeId) {\n    return useNodeProps(nodeId, function (node, ancestors) {\n        return !isRow(node) ? node : null;\n    });\n};\n/**\n * This is the same as @see useNodeProps, but only for rows.\n * @param nodeId an id of a row\n * @param selector receives the row or null (if no row with this id exists) object and returns T\n * @returns the selection T\n */\nexport var useRowProps = function (nodeId, selector) {\n    return useNodeProps(nodeId, function (node, ancestors) {\n        return isRow(node) ? selector(node, ancestors) : null;\n    });\n};\n/**\n *\n * @param nodeId id of a node\n * @returns the relative hover position over the given node, or null if this node is not hovered over\n */\nexport var useNodeHoverPosition = function (nodeId) {\n    return useSelector(function (state) {\n        var _a;\n        return ((_a = state.reactPage.hover) === null || _a === void 0 ? void 0 : _a.nodeId) === nodeId\n            ? state.reactPage.hover.position\n            : null;\n    });\n};\n/**\n *\n * @param nodeId id of a node\n * @returns an array of ids that are ancestors of the given node\n */\nexport var useNodeAncestorIds = function (nodeId) {\n    return useNodeAncestorProps(nodeId, function (ancestors) {\n        return ancestors.map(function (a) { return a.id; });\n    });\n};\n/**\n *\n * @param nodeId the id of a row or cell\n * @returns the nearest ancestor cell of the cell or row that has a plugin\n */\nexport var useParentCellId = function (nodeId) {\n    return useNodeProps(nodeId, function (node, ancestors) {\n        var _a;\n        return node && ancestors\n            ? (_a = ancestors.find(function (node) { return !isRow(node) && node.plugin; })) === null || _a === void 0 ? void 0 : _a.id : null;\n    });\n};\n/**\n *\n * @deprecated currently not used\n */\nexport var useNodeDropLevels = function (nodeId) {\n    return useNodeProps(nodeId, function (node, ancestors) {\n        return getDropLevels(node, ancestors);\n    });\n};\n/**\n *\n * @deprecated currently unused\n */\nexport var useCellBounds = function (nodeId) {\n    return useNodeProps(nodeId, function (node, ancestors) {\n        var _a;\n        var parent = isRow(ancestors[0]) ? ancestors[0] : null;\n        var myIndex = (_a = parent === null || parent === void 0 ? void 0 : parent.cells.findIndex(function (c) { return c.id === node.id; })) !== null && _a !== void 0 ? _a : -1;\n        var cell = !isRow(node) ? node : null;\n        if (!cell || myIndex < 0) {\n            return null;\n        }\n        if (cell.inline) {\n            return {\n                left: 0,\n                right: 0,\n            };\n        }\n        return {\n            left: myIndex > 0 ? parent.cells[myIndex - 1].size + cell.size - 1 : 0,\n            right: myIndex === parent.cells.length - 1\n                ? 0\n                : cell.size - 1 + parent.cells[myIndex + 1].size,\n        };\n    });\n};\n/**\n *\n * @param nodeId a node id\n * @returns an array of nodeIds that are direct children of the given node\n */\nexport var useNodeChildrenIds = function (nodeId) {\n    return useNodeProps(nodeId, function (node) {\n        var _a, _b, _c, _d;\n        return isRow(node)\n            ? (_b = (_a = node.cells) === null || _a === void 0 ? void 0 : _a.map(function (c) { return c.id; })) !== null && _b !== void 0 ? _b : [] : (_d = (_c = node.rows) === null || _c === void 0 ? void 0 : _c.map(function (r) { return r.id; })) !== null && _d !== void 0 ? _d : [];\n    });\n};\n/**\n *\n * @param nodeId a node id\n * @returns true if node has children\n */\nexport var useNodeHasChildren = function (nodeId) {\n    return useNodeProps(nodeId, function (node) {\n        var _a, _b, _c, _d;\n        return isRow(node)\n            ? (_b = ((_a = node.cells) === null || _a === void 0 ? void 0 : _a.length) > 0) !== null && _b !== void 0 ? _b : false : (_d = ((_c = node.rows) === null || _c === void 0 ? void 0 : _c.length) > 0) !== null && _d !== void 0 ? _d : false;\n    });\n};\n/**\n *\n * @param nodeId an id of a cell\n * @returns true if this cell has a configured plugin. It does not check if this plugin exists (in @see Options)\n */\nexport var useCellHasPlugin = function (nodeId) {\n    return useCellProps(nodeId, function (c) { return Boolean(c.plugin); });\n};\n/**\n * @param parentNodeId the parent node id, or null if its the root\n * @returns all configured CellPlugin that are allowed in the given parentCellId\n */\nexport var useAllCellPluginsForNode = function (parentNodeId) {\n    var currentLang = useLang();\n    var ancestors = useNodeProps(parentNodeId, function (node, ancestors) {\n        return __spread([node], ancestors).reverse().map(function (a) {\n            var _a;\n            return {\n                pluginId: !a || isRow(a) ? null : (_a = a.plugin) === null || _a === void 0 ? void 0 : _a.id,\n                data: !a || isRow(a) ? null : getCellData(a, currentLang),\n            };\n        });\n    });\n    // pluginIdsOfAncestors is an array of ids, the last one is the\n    var rootCellPlugins = useOptions().cellPlugins;\n    return useMemo(function () {\n        return getAvailablePlugins(rootCellPlugins, ancestors);\n    }, [rootCellPlugins, ancestors]);\n};\nexport var useCellIsAllowedHere = function (nodeId) {\n    var availablePlugins = useAllCellPluginsForNode(nodeId);\n    return useCallback(function (item) {\n        var _a, _b, _c;\n        if (!(item === null || item === void 0 ? void 0 : item.cell)) {\n            return false;\n        }\n        var itemPluginId = typeof ((_a = item.cell) === null || _a === void 0 ? void 0 : _a.plugin) === 'string'\n            ? item.cell.plugin\n            : (_b = item.cell) === null || _b === void 0 ? void 0 : _b.plugin.id;\n        var allowed = !((_c = item.cell) === null || _c === void 0 ? void 0 : _c.plugin) ||\n            availablePlugins.some(function (p) { return p.id === itemPluginId; });\n        return allowed;\n    }, [availablePlugins]);\n};\n/**\n * Use this function to get the plugin of a cell.\n * @param nodeId an id of a cell\n * @returns the plugin of the given cell\n *\n */\nexport var usePluginOfCell = function (nodeId) {\n    var _a = useCellProps(nodeId, function (c, ancestors) {\n        var _a, _b;\n        return ({\n            pluginId: (_a = c === null || c === void 0 ? void 0 : c.plugin) === null || _a === void 0 ? void 0 : _a.id,\n            parentNodeId: (_b = ancestors === null || ancestors === void 0 ? void 0 : ancestors[0]) === null || _b === void 0 ? void 0 : _b.id,\n        });\n    }), pluginId = _a.pluginId, parentNodeId = _a.parentNodeId;\n    var plugins = useAllCellPluginsForNode(parentNodeId);\n    return plugins.find(function (p) { return p.id === pluginId; });\n};\n/**\n *\n * @param nodeId a cell id\n * @returns the raw localized data of the cell\n */\nexport var useCellDataI18nRaw = function (nodeId) {\n    return useCellProps(nodeId, function (c) { return c === null || c === void 0 ? void 0 : c.dataI18n; });\n};\n/**\n *\n * @param nodeId a cell id\n * @param lang a language key\n * @returns the data object in the given language of the given cell\n */\nexport var useCellData = function (nodeId, lang) {\n    var currentLang = useLang();\n    var theLang = lang !== null && lang !== void 0 ? lang : currentLang;\n    return useCellProps(nodeId, function (c) { var _a; return (_a = getCellData(c, theLang)) !== null && _a !== void 0 ? _a : {}; });\n};\n/**\n *returns style and classname of a cell's inner div\n * @param nodeId a cell id\n * @param lang a language key (optionally)\n * @returns the data object in the given language of the given cell\n */\nexport var useCellInnerDivStylingProps = function (nodeId, lang) {\n    var plugin = usePluginOfCell(nodeId);\n    var currentLang = useLang();\n    var theLang = lang !== null && lang !== void 0 ? lang : currentLang;\n    return useCellProps(nodeId, function (c) {\n        var data = getCellData(c, theLang);\n        return getCellInnerDivStylingProps(c, plugin, data);\n    });\n};\n/**\n *\n * @returns [data, onChangeData] pair, with setData debouncing the propagation\n * also data is always partially updated\n * @param nodeId the id of a cell\n */\nexport var useDebouncedCellData = function (nodeId) {\n    var cellData = useCellData(nodeId);\n    var _a = __read(useState(cellData), 2), setData = _a[1];\n    var dataRef = useRef(cellData);\n    var cellDataRef = useRef(cellData);\n    var updateCellData = useUpdateCellData(nodeId);\n    var updateCellDataDebounced = useCallback(debounce(function (options) {\n        cellDataRef.current = dataRef.current;\n        updateCellData(dataRef.current, options);\n    }, 200), [updateCellData]);\n    var changed = useMemo(function () { return !deepEquals(cellData, cellDataRef.current); }, [\n        cellData,\n    ]);\n    useEffect(function () {\n        // changed from \"outside\" overwrite whatever is pending\n        if (changed) {\n            cellDataRef.current = cellData;\n            dataRef.current = cellData;\n            setData(cellData);\n        }\n    }, [changed, cellData]);\n    var onChange = useCallback(function (partialData, options) {\n        dataRef.current = __assign(__assign({}, dataRef.current), partialData);\n        setData(dataRef.current);\n        updateCellDataDebounced(options);\n    }, [updateCellDataDebounced, setData]);\n    return [dataRef.current, onChange];\n};\n//# sourceMappingURL=node.js.map","import { DISPLAY_MODE_EDIT, DISPLAY_MODE_LAYOUT, DISPLAY_MODE_PREVIEW, DISPLAY_MODE_INSERT, DISPLAY_MODE_RESIZING, } from '../../actions/display';\nexport var isPreviewMode = function (_a) {\n    var mode = _a.reactPage.display.mode;\n    return mode === DISPLAY_MODE_PREVIEW;\n};\nexport var isLayoutMode = function (_a) {\n    var mode = _a.reactPage.display.mode;\n    return mode === DISPLAY_MODE_LAYOUT;\n};\nexport var isEditMode = function (_a) {\n    var mode = _a.reactPage.display.mode;\n    return mode === DISPLAY_MODE_EDIT;\n};\nexport var isInsertMode = function (_a) {\n    var mode = _a.reactPage.display.mode;\n    return mode === DISPLAY_MODE_INSERT;\n};\nexport var isResizeMode = function (_a) {\n    var mode = _a.reactPage.display.mode;\n    return mode === DISPLAY_MODE_RESIZING;\n};\n//# sourceMappingURL=index.js.map","import { useCallback } from 'react';\nimport { DISPLAY_MODE_EDIT, DISPLAY_MODE_INSERT, DISPLAY_MODE_LAYOUT, DISPLAY_MODE_PREVIEW, DISPLAY_MODE_RESIZING, setMode, } from '../../actions/display';\nimport { useDispatch, useSelector } from '../../reduxConnect';\nimport { isEditMode, isInsertMode, isLayoutMode, isPreviewMode, isResizeMode, } from '../../selector/display';\n/**\n * @returns true whether the editor is in edit mode\n */\nexport var useIsEditMode = function () {\n    return useSelector(isEditMode);\n};\n/**\n * @returns true whether the editor is in insert mode\n */\nexport var useIsInsertMode = function () {\n    return useSelector(isInsertMode);\n};\n/**\n * @returns true whether the editor is in layout mode\n */\nexport var useIsLayoutMode = function () {\n    return useSelector(isLayoutMode);\n};\n/**\n * @returns true whether the editor is in preview mode mode\n */\nexport var useIsPreviewMode = function () {\n    return useSelector(isPreviewMode);\n};\n/**\n * @returns true whether the editor is in resize mode mode\n */\nexport var useIsResizeMode = function () {\n    return useSelector(isResizeMode);\n};\n/**\n * @returns the current display mode\n */\nexport var useDisplayMode = function () {\n    return useSelector(function (state) { return state.reactPage.display.mode; });\n};\n/**\n * experimental, used internaly for the add new button.\n * @returns a referenced nodeId for the current display mode.\n *\n *\n */\nexport var useDisplayModeReferenceNodeId = function () {\n    return useSelector(function (state) { var _a, _b; return (_b = (_a = state.reactPage) === null || _a === void 0 ? void 0 : _a.display) === null || _b === void 0 ? void 0 : _b.referenceNodeId; });\n};\n/**\n * @returns function to set the display mode\n */\nexport var useSetMode = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (mode, referenceNodeId) {\n        dispatch(setMode(mode, referenceNodeId));\n    }, [dispatch]);\n};\n/**\n * @returns function to change to resize mode\n */\nexport var useSetResizeMode = function () {\n    var setMode = useSetMode();\n    return useCallback(function () { return setMode(DISPLAY_MODE_RESIZING); }, [setMode]);\n};\n/**\n * @returns function to change to edit mode mode\n */\nexport var useSetEditMode = function () {\n    var setMode = useSetMode();\n    return useCallback(function () { return setMode(DISPLAY_MODE_EDIT); }, [setMode]);\n};\n/**\n * @returns function to change to layout mode\n */\nexport var useSetLayoutMode = function () {\n    var setMode = useSetMode();\n    return useCallback(function () { return setMode(DISPLAY_MODE_LAYOUT); }, [setMode]);\n};\n/**\n * @returns function to change to insert mode\n */\nexport var useSetInsertMode = function () {\n    var setMode = useSetMode();\n    return useCallback(function () { return setMode(DISPLAY_MODE_INSERT); }, [setMode]);\n};\n/**\n * @returns function to change to preview mode\n */\nexport var useSetPreviewMode = function () {\n    var setMode = useSetMode();\n    return useCallback(function () { return setMode(DISPLAY_MODE_PREVIEW); }, [setMode]);\n};\n//# sourceMappingURL=displayMode.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\n/* eslint-disable @typescript-eslint/ban-types */\nimport isHotkey from 'is-hotkey';\nimport React, { useCallback, useEffect, useMemo } from 'react';\nimport { blurAllCells } from '../../actions/cell';\nimport { isRow } from '../../types/node';\nimport { useEditorStore, useFocusCellById, useIsEditMode, useRedo, useRemoveCellById, useUndo, useFocusedNodeId, useAllCellPluginsForNode, useParentCellId, } from '../hooks';\nvar getLeave = function (node, last) {\n    var _a;\n    if (!node)\n        return null;\n    if (isRow(node)) {\n        return getLeave(last ? node.cells[node.cells.length - 1] : node.cells[0], last);\n    }\n    else {\n        if (((_a = node.rows) === null || _a === void 0 ? void 0 : _a.length) > 0) {\n            return getLeave(last ? node.rows[node.rows.length - 1] : node.rows[0], last);\n        }\n        else {\n            return node;\n        }\n    }\n};\nvar getLeaveSibling = function (nodeId, ancestors, previous) {\n    var _a;\n    var _b = __read(ancestors), parent = _b[0], restAncestors = _b.slice(1);\n    if (!parent) {\n        return null;\n    }\n    var allSiblings = isRow(parent) ? parent.cells : parent.rows;\n    if (!parent) {\n        return;\n    }\n    var myIndex = (_a = allSiblings.findIndex(function (c) { return c.id === nodeId; })) !== null && _a !== void 0 ? _a : -1;\n    var siblint = allSiblings[myIndex + (previous ? -1 : 1)];\n    if (siblint) {\n        return getLeave(siblint, previous);\n    }\n    else {\n        // go one deep\n        return getLeaveSibling(parent.id, restAncestors, previous);\n    }\n};\nvar Decorator = function (_a) {\n    var children = _a.children;\n    var editor = useEditorStore();\n    var undo = useUndo();\n    var redo = useRedo();\n    var focusedNodeId = useFocusedNodeId();\n    var focusParentId = useParentCellId(focusedNodeId);\n    var plugins = useAllCellPluginsForNode(focusParentId);\n    var focusCell = useFocusCellById();\n    var removeCell = useRemoveCellById();\n    var delegateToFoundPlugin = useCallback(function (event, nodeId, handlerName, defaultHandler) { return __awaiter(void 0, void 0, void 0, function () {\n        var node, plugin, e_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    node = editor.getNode(nodeId);\n                    plugin = plugins.find(function (p) { var _a, _b; return p.id === ((_b = (_a = node) === null || _a === void 0 ? void 0 : _a.plugin) === null || _b === void 0 ? void 0 : _b.id); });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 5, , 6]);\n                    if (!(node && plugin[handlerName])) return [3 /*break*/, 3];\n                    return [4 /*yield*/, plugin[handlerName](event, node)];\n                case 2:\n                    _a.sent();\n                    _a.label = 3;\n                case 3: \n                // if the plugin handler resolve or there is no, they do not handle it, so do the default\n                return [4 /*yield*/, defaultHandler(event, node)];\n                case 4:\n                    // if the plugin handler resolve or there is no, they do not handle it, so do the default\n                    _a.sent();\n                    return [3 /*break*/, 6];\n                case 5:\n                    e_1 = _a.sent();\n                    if (e_1) {\n                        // tslint:disable-next-line:no-console\n                        console.error(e_1);\n                    }\n                    return [3 /*break*/, 6];\n                case 6: return [2 /*return*/];\n            }\n        });\n    }); }, [editor]);\n    var handlers = useMemo(function () { return [\n        {\n            hotkeys: ['ctrl+z', 'command+z'],\n            handler: function () {\n                undo();\n            },\n        },\n        {\n            hotkeys: ['ctrl+shift+z', 'ctrl+y', 'command+shift+z', 'command+y'],\n            handler: function () {\n                redo();\n            },\n        },\n        {\n            hotkeys: ['alt+del', 'alt+backspace'],\n            handler: function (event) {\n                delegateToFoundPlugin(event, focusedNodeId, 'handleRemoveHotKey', function () {\n                    removeCell(focusedNodeId);\n                });\n            },\n        },\n        {\n            hotkeys: ['alt+down', 'alt+right'],\n            handler: function (event) {\n                delegateToFoundPlugin(event, focusedNodeId, 'handleFocusNextHotKey', function () {\n                    var ancestors = editor.getNodeWithAncestors(focusedNodeId).ancestors;\n                    var nextSibling = getLeaveSibling(focusedNodeId, ancestors, false);\n                    if (nextSibling) {\n                        blurAllCells();\n                        focusCell(nextSibling.id, false);\n                    }\n                });\n            },\n        },\n        {\n            hotkeys: ['alt+up', 'alt+left'],\n            handler: function (event) {\n                delegateToFoundPlugin(event, focusedNodeId, 'handleFocusPreviousHotKey', function () {\n                    var ancestors = editor.getNodeWithAncestors(focusedNodeId).ancestors;\n                    var previousSibling = getLeaveSibling(focusedNodeId, ancestors, true);\n                    if (previousSibling) {\n                        blurAllCells();\n                        focusCell(previousSibling.id, true);\n                    }\n                });\n            },\n        },\n    ]; }, [focusedNodeId, blurAllCells, focusCell, removeCell]);\n    var isEditMode = useIsEditMode();\n    useEffect(function () {\n        // in editmode we only allow hotkeys if a cell is focused.\n        // this is because if we have multiple editors on the same page, we don't want to interfer with others\n        // and also to make it more explicit\n        // The BlurGate currently guarantees that only one editor ever has a focused cell, so we already know on which one we can apply hotkeys\n        // If the editor is in another mode, all hot keys are allowed (which is useful for undo/redo, e.g. when resizing)\n        // because the BlurGate also guarantees that only one editor will be in another mode then editMode\n        // This is not totally clean, but it works very well.\n        if (isEditMode && !focus) {\n            return;\n        }\n        var keyHandler = function (event) {\n            var matchingHandler = handlers.find(function (handler) {\n                return handler.hotkeys.some(function (hotkey) { return isHotkey(hotkey, event); });\n            });\n            matchingHandler === null || matchingHandler === void 0 ? void 0 : matchingHandler.handler(event);\n        };\n        document.addEventListener('keydown', keyHandler);\n        return function () {\n            document.removeEventListener('keydown', keyHandler);\n        };\n    }, [handlers, focus, isEditMode]);\n    return React.createElement(React.Fragment, null, children);\n};\nexport default Decorator;\n//# sourceMappingURL=Decorator.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React from 'react';\nimport { useCallback } from 'react';\nimport { useDrop } from 'react-dnd';\nimport { useCellIsAllowedHere, useInsertNew, useSetDisplayReferenceNodeId, } from '../hooks';\nvar FallbackDropArea = function (_a) {\n    var children = _a.children;\n    var insertNew = useInsertNew();\n    var isAllowed = useCellIsAllowedHere();\n    var _b = __read(useDrop({\n        accept: 'cell',\n        canDrop: function (item) { return isAllowed(item); },\n        drop: function (item, monitor) {\n            // fallback drop\n            if (!monitor.didDrop()) {\n                insertNew(item.cell);\n            }\n        },\n    }), 2), dropRef = _b[1];\n    var setReference = useSetDisplayReferenceNodeId();\n    var clearReference = useCallback(function () { return setReference(null); }, [setReference]);\n    return (React.createElement(\"div\", { ref: dropRef, onClick: clearReference }, children));\n};\nexport default FallbackDropArea;\n//# sourceMappingURL=FallbackDropArea.js.map","export default (function (element, offset, behavior) {\n    if (offset === void 0) { offset = 0; }\n    if (behavior === void 0) { behavior = 'smooth'; }\n    if (!element) {\n        return;\n    }\n    var bodyRect = document.body.getBoundingClientRect().top;\n    var elementRect = element.getBoundingClientRect().top;\n    var elementPosition = elementRect - bodyRect;\n    var offsetPosition = elementPosition - offset;\n    window.scrollTo({\n        top: offsetPosition,\n        behavior: behavior,\n    });\n});\n//# sourceMappingURL=scrollIntoViewWithOffset.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React from 'react';\nimport { useDrop } from 'react-dnd';\nimport { useCellIsAllowedHere, useInsertNew, useIsLayoutMode, useIsPreviewMode, useSetDisplayReferenceNodeId, useSetInsertMode, } from '../hooks';\nvar InsertNew = function (_a) {\n    var parentCellId = _a.parentCellId;\n    var setInsertMode = useSetInsertMode();\n    var insertNew = useInsertNew(parentCellId);\n    var isPreviewMode = useIsPreviewMode();\n    var isLayoutMode = useIsLayoutMode();\n    var setReferenceNodeId = useSetDisplayReferenceNodeId();\n    var checkIfAllowed = useCellIsAllowedHere(parentCellId);\n    var _b = __read(useDrop({\n        accept: 'cell',\n        canDrop: function (item) {\n            return checkIfAllowed(item);\n        },\n        collect: function (monitor) { return ({\n            isOver: monitor.isOver(),\n            isAllowed: checkIfAllowed(monitor.getItem()),\n        }); },\n        drop: function (item, monitor) {\n            // fallback drop\n            if (!monitor.didDrop()) {\n                insertNew(item.cell);\n            }\n        },\n    }), 2), _c = _b[0], isOver = _c.isOver, isAllowed = _c.isAllowed, dropRef = _b[1];\n    if (isPreviewMode)\n        return null;\n    return (React.createElement(\"div\", { ref: dropRef, className: 'react-page-cell-insert-new' + (isOver && isAllowed ? ' hover' : ''), style: {\n            pointerEvents: 'all',\n            zIndex: isLayoutMode ? 10 : 1,\n            overflow: 'hidden',\n            width: '50%',\n            minWidth: 120,\n            margin: 'auto',\n            cursor: isOver && !isAllowed ? 'not-allowed' : 'pointer',\n        }, onClick: function (e) {\n            e.stopPropagation();\n            setReferenceNodeId(parentCellId);\n            setInsertMode();\n        } }));\n};\nexport default React.memo(InsertNew);\n//# sourceMappingURL=InsertNew.js.map","export var noop = function () { };\nexport function on(obj) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    if (obj && obj.addEventListener) {\n        obj.addEventListener.apply(obj, args);\n    }\n}\nexport function off(obj) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    if (obj && obj.removeEventListener) {\n        obj.removeEventListener.apply(obj, args);\n    }\n}\nexport var isBrowser = typeof window !== 'undefined';\nexport var isNavigator = typeof navigator !== 'undefined';\n","import { useEffect, useLayoutEffect } from 'react';\nimport { isBrowser } from './misc/util';\nvar useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\nexport default useIsomorphicLayoutEffect;\n","import { useMemo, useState } from 'react';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect';\nimport { isBrowser, noop } from './misc/util';\nvar defaultState = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0,\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n};\nfunction useMeasure() {\n    var _a = useState(null), element = _a[0], ref = _a[1];\n    var _b = useState(defaultState), rect = _b[0], setRect = _b[1];\n    var observer = useMemo(function () {\n        return new window.ResizeObserver(function (entries) {\n            if (entries[0]) {\n                var _a = entries[0].contentRect, x = _a.x, y = _a.y, width = _a.width, height = _a.height, top_1 = _a.top, left = _a.left, bottom = _a.bottom, right = _a.right;\n                setRect({ x: x, y: y, width: width, height: height, top: top_1, left: left, bottom: bottom, right: right });\n            }\n        });\n    }, []);\n    useIsomorphicLayoutEffect(function () {\n        if (!element)\n            return;\n        observer.observe(element);\n        return function () {\n            observer.disconnect();\n        };\n    }, [element]);\n    return [ref, rect];\n}\nexport default isBrowser && typeof window.ResizeObserver !== 'undefined'\n    ? useMeasure\n    : (function () { return [noop, defaultState]; });\n","import { useMemo } from 'react';\nimport { cancelCellDrag, cellHoverAbove, cellHoverBelow, cellHoverInlineLeft, cellHoverInlineRight, cellHoverLeftOf, cellHoverRightOf, clearHover, dragCell, } from '../../actions/cell';\nimport { insertCellAbove, insertCellBelow, insertCellLeftInline, insertCellLeftOf, insertCellRightInline, insertCellRightOf, } from '../../actions/cell/insert';\nimport { useDispatch } from '../../reduxConnect';\nimport { useAllCellPluginsForNode } from './node';\nimport { useLang } from './options';\n/**\n * @returns object of actions for hovering\n */\nexport var useHoverActions = function () {\n    var dispatch = useDispatch();\n    return useMemo(function () { return ({\n        dragCell: function (id) { return dispatch(dragCell(id)); },\n        clear: function () { return dispatch(clearHover()); },\n        cancelCellDrag: function () { return dispatch(cancelCellDrag()); },\n        above: function (drag, hover, level) {\n            return dispatch(cellHoverAbove(drag, hover, level));\n        },\n        below: function (drag, hover, level) {\n            return dispatch(cellHoverBelow(drag, hover, level));\n        },\n        leftOf: function (drag, hover, level) {\n            return dispatch(cellHoverLeftOf(drag, hover, level));\n        },\n        rightOf: function (drag, hover, level) {\n            return dispatch(cellHoverRightOf(drag, hover, level));\n        },\n        inlineLeft: function (drag, hover) { return dispatch(cellHoverInlineLeft(drag, hover)); },\n        inlineRight: function (drag, hover) { return dispatch(cellHoverInlineRight(drag, hover)); },\n    }); }, [dispatch]);\n};\n/**\n * @param nodeId the parent reference node id\n * @returns object of actions for dropping a cell\n */\nexport var useDropActions = function (parentNodeId) {\n    var dispatch = useDispatch();\n    var lang = useLang();\n    var cellPlugins = useAllCellPluginsForNode(parentNodeId);\n    return useMemo(function () { return ({\n        above: function (drag, hover, level) {\n            return dispatch(insertCellAbove({ cellPlugins: cellPlugins, lang: lang })(drag, hover, level));\n        },\n        below: function (drag, hover, level) {\n            return dispatch(insertCellBelow({ cellPlugins: cellPlugins, lang: lang })(drag, hover, level));\n        },\n        leftOf: function (drag, hover, level) {\n            return dispatch(insertCellLeftOf({ cellPlugins: cellPlugins, lang: lang })(drag, hover, level));\n        },\n        rightOf: function (drag, hover, level) {\n            return dispatch(insertCellRightOf({ cellPlugins: cellPlugins, lang: lang })(drag, hover, level));\n        },\n        inlineLeft: function (drag, hover) {\n            return dispatch(insertCellLeftInline({ cellPlugins: cellPlugins, lang: lang })(drag, hover));\n        },\n        inlineRight: function (drag, hover) {\n            return dispatch(insertCellRightInline({ cellPlugins: cellPlugins, lang: lang })(drag, hover));\n        },\n        dragCell: function (id) { return dispatch(dragCell(id)); },\n        clear: function () { return dispatch(clearHover()); },\n        cancelCellDrag: function () { return dispatch(cancelCellDrag()); },\n    }); }, [dispatch, lang, cellPlugins]);\n};\n//# sourceMappingURL=dragDropActions.js.map","import { isProduction } from '../../const';\nexport var delay = isProduction ? 40 : 60;\n//# sourceMappingURL=index.js.map","// tslint:disable:no-console\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nvar trace = function () {\n    var e = new Error('dummy');\n    return e.stack\n        .replace(/^[^(]+?[\\n$]/gm, '')\n        .replace(/^\\s+at\\s+/gm, '')\n        .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@')\n        .split('\\n');\n};\nvar Logger = /** @class */ (function () {\n    function Logger() {\n    }\n    /**\n     * Logs a warning. Warnings are things that are exceptional, but easily to recover from.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Logger.prototype.warn = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        console.warn.apply(console, __spread(['Warning:'], args));\n    };\n    /**\n     * Logs a debug message. Debug messages are things that help developers debugging things.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Logger.prototype.debug = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        console.log.apply(console, __spread(['Debug:'], args));\n    };\n    /**\n     * Logs an info. Infos are things that might be interesting for someone who needs to take a closer look.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Logger.prototype.info = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        console.log.apply(console, __spread(['Info:'], args));\n    };\n    /**\n     * Logs an error. Error are things that are exceptional, but can be recovered from.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Logger.prototype.error = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        console.error.apply(console, __spread(['Error:'], args));\n        console.error('Trace:', trace());\n    };\n    /**\n     * Logs a fatal error. Fatal errors are things that are exceptional and can not be recovered from.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Logger.prototype.fatal = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        console.error.apply(console, __spread(['Fatal:'], args));\n        console.error('Trace:', trace());\n        throw new Error(args.join(' '));\n    };\n    /**\n     * Logs a message.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Logger.prototype.log = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        console.log.apply(console, __spread(['Fatal:'], args));\n        console.log('Trace:', trace());\n    };\n    return Logger;\n}());\nexport { Logger };\nvar instance = new Logger();\nexport default instance;\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar _a;\nimport { isRow } from '../../types';\nimport deepEquals from '../../utils/deepEquals';\nimport logger from '../logger';\n/**\n * NO (None): No drop zone.\n *\n * Corners are counted clockwise, beginning top left\n * C1 (Corner top left): Position decided by top left corner function\n * C2 (Corner top right): Position decided by top right corner function\n * C3 (Corner bottom right): Position decided by bottom right corner function\n * C4 (Corner bottom left): Position decided by bottom left corner function\n *\n * Above:\n * AH (Above here): above, same level\n * AA (Above of self or some ancestor): Above, compute active level using classification functions, e.g. log, sin, mx + t\n *\n * Below:\n * BH (Below here)\n * BA (Below of self or some ancestor)\n *\n * Left of:\n * LH (Left of here)\n * LA (Left of self or some ancestor)\n *\n * Right of:\n * RH (Right of here)\n * RA (Right of self or some ancestor)\n *\n * Inside / inline\n * IL (Inline left)\n * IR (Inline right)\n */\nexport var classes = {\n    NO: 0,\n    C1: 10,\n    C2: 11,\n    C3: 12,\n    C4: 13,\n    AH: 200,\n    AA: 201,\n    BH: 210,\n    BA: 211,\n    LH: 220,\n    LA: 221,\n    RH: 230,\n    RA: 231,\n    IL: 300,\n    IR: 301,\n};\nvar c = classes;\n/**\n * A list of matrices that are used to define the callback function.\n *\n * @type {{6x6: *[], 10x10: *[], 10x10-no-inline: *[]}}\n */\nvar MATRIX_LIST = {\n    '6x6': [\n        [c.C1, c.AA, c.AA, c.AA, c.AA, c.C2],\n        [c.LA, c.IL, c.AH, c.AH, c.IR, c.RA],\n        [c.LA, c.LH, c.NO, c.NO, c.RH, c.RA],\n        [c.LA, c.LH, c.NO, c.NO, c.RH, c.RA],\n        [c.LA, c.C4, c.BH, c.BH, c.C3, c.RA],\n        [c.C4, c.BA, c.BA, c.BA, c.BA, c.C3],\n    ],\n    '10x10': [\n        [c.C1, c.AA, c.AA, c.AA, c.AA, c.AA, c.AA, c.AA, c.AA, c.C2],\n        [c.LA, c.IL, c.IL, c.IL, c.AH, c.AH, c.IR, c.IR, c.IR, c.RA],\n        [c.LA, c.IL, c.IL, c.IL, c.AH, c.AH, c.IR, c.IR, c.IR, c.RA],\n        [c.LA, c.IL, c.IL, c.IL, c.AH, c.AH, c.IR, c.IR, c.IR, c.RA],\n        [c.LA, c.LH, c.LH, c.LH, c.C1, c.C2, c.RH, c.RH, c.RH, c.RA],\n        [c.LA, c.LH, c.LH, c.LH, c.C4, c.C3, c.RH, c.RH, c.RH, c.RA],\n        [c.LA, c.LH, c.LH, c.C4, c.BH, c.BH, c.C3, c.IR, c.RH, c.RA],\n        [c.LA, c.LH, c.C4, c.BH, c.BH, c.BH, c.BH, c.C3, c.RH, c.RA],\n        [c.LA, c.C4, c.BH, c.BH, c.BH, c.BH, c.BH, c.BH, c.C3, c.RA],\n        [c.C4, c.BA, c.BA, c.BA, c.BA, c.BA, c.BA, c.BA, c.BA, c.C3],\n    ],\n    '10x10-no-inline': [\n        [c.C1, c.AA, c.AA, c.AA, c.AA, c.AA, c.AA, c.AA, c.AA, c.C2],\n        [c.LA, c.C1, c.AH, c.AH, c.AH, c.AH, c.AH, c.AH, c.C2, c.RA],\n        [c.LA, c.LH, c.C1, c.AH, c.AH, c.AH, c.AH, c.C2, c.RH, c.RA],\n        [c.LA, c.LH, c.LH, c.C1, c.AH, c.AH, c.C2, c.RH, c.RH, c.RA],\n        [c.LA, c.LH, c.LH, c.LH, c.C1, c.C2, c.RH, c.RH, c.RH, c.RA],\n        [c.LA, c.LH, c.LH, c.LH, c.C4, c.C3, c.RH, c.RH, c.RH, c.RA],\n        [c.LA, c.LH, c.LH, c.C4, c.BH, c.BH, c.C3, c.RH, c.RH, c.RA],\n        [c.LA, c.LH, c.C4, c.BH, c.BH, c.BH, c.BH, c.C3, c.RH, c.RA],\n        [c.LA, c.C4, c.BH, c.BH, c.BH, c.BH, c.BH, c.BH, c.C3, c.RA],\n        [c.C4, c.BA, c.BA, c.BA, c.BA, c.BA, c.BA, c.BA, c.BA, c.C3],\n    ],\n};\n/**\n * Computes the average width and height for cells in a room.\n *\n * @param room\n * @param matrix\n * @returns {{x: number, y: number}}\n */\nvar getRoomScale = function (_a) {\n    var room = _a.room, matrix = _a.matrix;\n    var rows = matrix.length;\n    var cells = matrix[0].length;\n    var scalingX = room.width / cells;\n    var scalingY = room.height / rows;\n    return {\n        x: scalingX,\n        y: scalingY,\n    };\n};\n/**\n * Returns the index of the hover cell.\n *\n * @param mouse\n * @param scale\n */\nvar getMouseHoverCell = function (_a) {\n    var mouse = _a.mouse, scale = _a.scale;\n    return ({\n        cell: Math.floor(mouse.x / scale.x),\n        row: Math.floor(mouse.y / scale.y),\n    });\n};\n/**\n * Used for caching.\n */\nvar last = { '10x10': null, '10x10-no-inline': null };\nexport var computeHover = function (drag, hover, actions, _a) {\n    var room = _a.room, mouse = _a.mouse, _b = _a.matrixName, matrixName = _b === void 0 ? '10x10' : _b, options = _a.options;\n    var matrix = MATRIX_LIST[matrixName];\n    var scale = getRoomScale({ room: room, matrix: matrix });\n    var hoverCell = getMouseHoverCell({ mouse: mouse, scale: scale });\n    var rows = matrix.length;\n    var cells = matrix[0].length;\n    if (hoverCell.row >= rows) {\n        hoverCell.row = rows - 1;\n    }\n    else if (hoverCell.row < 0) {\n        hoverCell.row = 0;\n    }\n    if (hoverCell.cell >= cells) {\n        hoverCell.cell = cells - 1;\n    }\n    else if (hoverCell.cell < 0) {\n        hoverCell.cell = 0;\n    }\n    var cell = matrix[hoverCell.row][hoverCell.cell];\n    if (!CALLBACK_LIST[cell]) {\n        logger.error('Matrix callback not found.', {\n            room: room,\n            mouse: mouse,\n            matrix: matrix,\n            scale: scale,\n            hoverCell: hoverCell,\n            rows: rows,\n            cells: cells,\n        });\n        return;\n    }\n    var all = {\n        item: drag.id,\n        hover: hover.id,\n        actions: actions,\n        ctx: {\n            room: room,\n            mouse: mouse,\n            position: hoverCell,\n            size: { rows: rows, cells: cells },\n            scale: scale,\n        },\n    };\n    if (deepEquals(all, last[matrixName])) {\n        return;\n    }\n    last[matrixName] = all;\n    return CALLBACK_LIST[cell](drag, hover, actions, {\n        room: room,\n        mouse: mouse,\n        position: hoverCell,\n        size: { rows: rows, cells: cells },\n        options: options,\n        scale: scale,\n    });\n};\n/**\n * Return the mouse position relative to the cell.\n */\nvar relativeMousePosition = function (_a) {\n    var mouse = _a.mouse, position = _a.position, scale = _a.scale;\n    return ({\n        x: Math.round(mouse.x - position.cell * scale.x),\n        y: Math.round(mouse.y - position.row * scale.y),\n    });\n};\n/**\n * Computes the drop level based on the mouse position and the cell width.\n */\nexport var computeLevel = function (_a) {\n    var size = _a.size, levels = _a.levels, position = _a.position;\n    if (size <= (levels + 1) * 2) {\n        return Math.round(position / (size / levels));\n    }\n    var spare = size - (levels + 1) * 2;\n    var steps = [0];\n    var current = spare;\n    for (var i = 0; i <= levels; i++) {\n        steps.push(steps[i] + current / 2);\n        current /= 2;\n        if (position >= steps[i] + i * 2 && position < steps[i + 1] + (i + 1) * 2) {\n            return i;\n        }\n    }\n    return levels;\n};\n/**\n * Computes the horizontal drop level based on the mouse position.\n *\n * @param mouse\n * @param position\n * @param hover\n * @param scale\n * @param level\n * @param inv returns the inverse drop level. Usually true for left and above drop level computation.\n * @returns number\n */\nvar computeHorizontal = function (_a, inv) {\n    var mouse = _a.mouse, position = _a.position, hover = _a.hover, scale = _a.scale, level = _a.level;\n    if (inv === void 0) { inv = false; }\n    var x = relativeMousePosition({ mouse: mouse, position: position, scale: scale }).x;\n    var at = computeLevel({ size: scale.x, position: x, levels: level });\n    if (isRow(hover)) {\n        // Is row, always opt for lowest level\n        return level;\n    }\n    // If the hovered element is an inline element, level 0 would be directly besides it which doesn't work.\n    // Set it to 1 instead.\n    if (hover.inline && at === 0) {\n        at = 1;\n    }\n    return inv ? level - at : at;\n};\n/**\n * Computes the vertical drop level based on the mouse position.\n *\n * @returns number\n */\nvar computeVertical = function (_a, inv) {\n    var level = _a.level, mouse = _a.mouse, hover = _a.hover, position = _a.position, scale = _a.scale;\n    if (inv === void 0) { inv = false; }\n    var y = relativeMousePosition({ mouse: mouse, position: position, scale: scale }).y;\n    var at = computeLevel({ size: scale.y, position: y, levels: level });\n    if (isRow(hover)) {\n        // Is row, always opt for lowest level\n        return level;\n    }\n    // If the hovered element is an inline element, level 0 would be directly besides it which doesn't work.\n    // Set it to 1 instead.\n    if (hover.inline && at === 0) {\n        at = 1;\n    }\n    return inv ? level - at : at;\n};\nvar getDropLevel = function (hover) {\n    return !isRow(hover) && hover.inline ? 1 : 0;\n};\n/**\n * A list of callbacks.\n */\nexport var CALLBACK_LIST = (_a = {},\n    _a[c.NO] = function (item, hover, _a) {\n        var clear = _a.clear;\n        return clear();\n    },\n    /* corners */\n    _a[c.C1] = function (item, hover, _a, ctx) {\n        var leftOf = _a.leftOf, above = _a.above;\n        var mouse = relativeMousePosition(ctx);\n        var level = getDropLevel(hover);\n        if (mouse.x < mouse.y) {\n            return leftOf(item, hover, level);\n        }\n        above(item, hover, level);\n    },\n    _a[c.C2] = function (item, hover, _a, ctx) {\n        var rightOf = _a.rightOf, above = _a.above;\n        var mouse = relativeMousePosition(ctx);\n        var level = getDropLevel(hover);\n        if (mouse.x > mouse.y) {\n            return rightOf(item, hover, level);\n        }\n        above(item, hover, level);\n    },\n    _a[c.C3] = function (item, hover, _a, ctx) {\n        var rightOf = _a.rightOf, below = _a.below;\n        var mouse = relativeMousePosition(ctx);\n        var level = getDropLevel(hover);\n        if (mouse.x > mouse.y) {\n            return rightOf(item, hover, level);\n        }\n        below(item, hover, level);\n    },\n    _a[c.C4] = function (item, hover, _a, ctx) {\n        var leftOf = _a.leftOf, below = _a.below;\n        var mouse = relativeMousePosition(ctx);\n        var level = getDropLevel(hover);\n        if (mouse.x < mouse.y) {\n            return leftOf(item, hover, level);\n        }\n        below(item, hover, level);\n    },\n    /* heres */\n    _a[c.AH] = function (item, hover, _a) {\n        var above = _a.above;\n        var level = getDropLevel(hover);\n        above(item, hover, level);\n    },\n    _a[c.BH] = function (item, hover, _a) {\n        var below = _a.below;\n        var level = getDropLevel(hover);\n        below(item, hover, level);\n    },\n    _a[c.LH] = function (item, hover, _a) {\n        var leftOf = _a.leftOf;\n        var level = getDropLevel(hover);\n        leftOf(item, hover, level);\n    },\n    _a[c.RH] = function (item, hover, _a) {\n        var rightOf = _a.rightOf;\n        var level = getDropLevel(hover);\n        rightOf(item, hover, level);\n    },\n    /* ancestors */\n    _a[c.AA] = function (item, hover, _a, ctx) {\n        var above = _a.above;\n        return above(item, hover, computeVertical(__assign(__assign({}, ctx), { hover: hover, level: hover.levels.above }), true));\n    },\n    _a[c.BA] = function (item, hover, _a, ctx) {\n        var below = _a.below;\n        return below(item, hover, computeVertical(__assign(__assign({}, ctx), { hover: hover, level: hover.levels.below })));\n    },\n    _a[c.LA] = function (item, hover, _a, ctx) {\n        var leftOf = _a.leftOf;\n        return leftOf(item, hover, computeHorizontal(__assign(__assign({}, ctx), { hover: hover, level: hover.levels.left }), true));\n    },\n    _a[c.RA] = function (item, hover, _a, ctx) {\n        var rightOf = _a.rightOf;\n        return rightOf(item, hover, computeHorizontal(__assign(__assign({}, ctx), { hover: hover, level: hover.levels.right })));\n    },\n    /* inline */\n    _a[c.IL] = function (item, hover, _a, _b) {\n        var _c;\n        var inlineLeft = _a.inlineLeft, leftOf = _a.leftOf;\n        var options = _b.options;\n        if (isRow(item) || isRow(hover)) {\n            return;\n        }\n        var inline = hover.inline, hasInlineNeighbour = hover.hasInlineNeighbour;\n        var plugin = options.cellPlugins.find(function (p) {\n            var _a;\n            return p.id ===\n                (typeof item.plugin === 'string' ? item.plugin : (_a = item.plugin) === null || _a === void 0 ? void 0 : _a.id);\n        });\n        var isInlineable = (_c = plugin === null || plugin === void 0 ? void 0 : plugin.isInlineable) !== null && _c !== void 0 ? _c : false;\n        if (inline || !isInlineable) {\n            return leftOf(item, hover, 2);\n        }\n        if (hasInlineNeighbour && hasInlineNeighbour !== item.id) {\n            return leftOf(item, hover, 2);\n        }\n        if (hasInlineNeighbour &&\n            hasInlineNeighbour === item.id &&\n            item.inline === 'left') {\n            return leftOf(item, hover, 2);\n        }\n        inlineLeft(item, hover);\n    },\n    _a[c.IR] = function (item, hover, _a, _b) {\n        var _c;\n        var inlineRight = _a.inlineRight, rightOf = _a.rightOf;\n        var options = _b.options;\n        if (isRow(item) || isRow(hover)) {\n            return;\n        }\n        var inline = hover.inline, hasInlineNeighbour = hover.hasInlineNeighbour;\n        var plugin = options.cellPlugins.find(function (p) {\n            var _a;\n            return p.id ===\n                (typeof item.plugin === 'string' ? item.plugin : (_a = item.plugin) === null || _a === void 0 ? void 0 : _a.id);\n        });\n        var isInlineable = (_c = plugin === null || plugin === void 0 ? void 0 : plugin.isInlineable) !== null && _c !== void 0 ? _c : false;\n        if (inline || !isInlineable) {\n            return rightOf(item, hover, 2);\n        }\n        if (hasInlineNeighbour && hasInlineNeighbour !== item.id) {\n            return rightOf(item, hover, 2);\n        }\n        if (hasInlineNeighbour &&\n            hasInlineNeighbour === item.id &&\n            item.inline === 'right') {\n            return rightOf(item, hover, 2);\n        }\n        inlineRight(item, hover);\n    },\n    _a);\n//# sourceMappingURL=computeHover.js.map","import { computeHover } from './computeHover';\nvar computeCurrentDropPosition = function (actions, hover, drag, monitor, element, options, matrixName) {\n    var mousePosition = monitor.getClientOffset();\n    var componentPosition = element.getBoundingClientRect();\n    var room = {\n        height: componentPosition.bottom - componentPosition.top,\n        width: componentPosition.right - componentPosition.left,\n    };\n    var mouse = {\n        y: mousePosition.y - componentPosition.top,\n        x: mousePosition.x - componentPosition.left,\n    };\n    computeHover(drag, hover, actions, {\n        room: room,\n        mouse: mouse,\n        matrixName: matrixName,\n        options: options,\n    });\n};\nexport var computeAndDispatchInsert = function (hover, drag, monitor, element, actions, options, matrixName) {\n    if (matrixName === void 0) { matrixName = '10x10'; }\n    return computeCurrentDropPosition(actions, hover, drag, monitor, element, options, matrixName);\n};\nexport var computeAndDispatchHover = function (hover, drag, monitor, element, actions, options, matrixName) {\n    if (matrixName === void 0) { matrixName = '10x10'; }\n    return computeCurrentDropPosition(actions, hover, drag, monitor, element, options, matrixName);\n};\n//# sourceMappingURL=input.js.map","import throttle from 'lodash.throttle';\nimport { delay } from '../../../../helper/throttle';\nimport { computeAndDispatchHover, computeAndDispatchInsert, } from '../../../../service/hover/input';\nimport logger from '../../../../service/logger';\nvar last = { hoverId: '', dragId: '' };\nvar shouldClear = function (hoverId, dragId) {\n    if (hoverId === last.hoverId && dragId === last.dragId) {\n        return false;\n    }\n    last = { hoverId: hoverId, dragId: dragId };\n    return true;\n};\nexport var onHover = throttle(function (target, monitor, element, actions, options) {\n    var _a, _b;\n    var drag = monitor.getItem();\n    if (!drag || !target) {\n        // item undefined, happens when throttle triggers after drop\n        return;\n    }\n    if (drag.cell.id === target.id) {\n        // If hovering over itself, do nothing\n        if (shouldClear(target.id, drag.cell.id)) {\n            actions.clear();\n        }\n        return;\n    }\n    else if (!monitor.isOver({ shallow: true })) {\n        // If hovering over ancestor cell, do nothing (we are going to propagate later in the tree anyways)\n        return;\n    }\n    else if (target.ancestorIds.includes(drag.cell.id)) {\n        if (shouldClear(target.id, drag.cell.id)) {\n            actions.clear();\n        }\n        return;\n    }\n    else if (!target.id) {\n        // If hovering over something that isn't a cell or hasn't an id, do nothing. Should be an edge case\n        logger.warn('Canceled cell drop, no id given.', target, drag);\n        return;\n    }\n    last = { hoverId: target.id, dragId: drag.cell.id };\n    var allowInlineNeighbours = (_b = (_a = options.cellPlugins.find(function (p) { return p.id === target.pluginId; })) === null || _a === void 0 ? void 0 : _a.allowInlineNeighbours) !== null && _b !== void 0 ? _b : false;\n    computeAndDispatchHover(target, drag.cell, monitor, element, actions, options, \"10x10\" + (allowInlineNeighbours ? '' : '-no-inline'));\n}, delay, { leading: false });\nexport var onDrop = function (target, monitor, element, actions, options) {\n    var _a, _b;\n    var drag = monitor.getItem();\n    if (monitor.didDrop() || !monitor.isOver({ shallow: true }) || !target) {\n        // If the item drop occurred deeper down the tree, don't do anything\n        return;\n    }\n    else if (drag.cell.id === target.id) {\n        // If the item being dropped on itself do nothing\n        actions.cancelCellDrag();\n        return;\n    }\n    else if (target.ancestorIds.includes(drag.cell.id)) {\n        // If hovering over a child of itself, don't propagate further\n        actions.cancelCellDrag();\n        return;\n    }\n    last = { hoverId: target.id, dragId: drag.cell.id };\n    var allowInlineNeighbours = (_b = (_a = options.cellPlugins.find(function (p) { return p.id === target.pluginId; })) === null || _a === void 0 ? void 0 : _a.allowInlineNeighbours) !== null && _b !== void 0 ? _b : false;\n    computeAndDispatchInsert(target, drag.cell, monitor, element, actions, options, \"10x10\" + (allowInlineNeighbours ? '' : '-no-inline'));\n};\n//# sourceMappingURL=dnd.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport classNames from 'classnames';\nimport React, { useEffect, useCallback } from 'react';\nimport { useDrop } from 'react-dnd';\nimport { useSelector } from '../../../reduxConnect';\nimport { getDropLevels } from '../../../utils/getDropLevels';\nimport { usePluginOfCell, useCellProps, useDropActions, useHoverActions, useIsInsertMode, useIsLayoutMode, useNodeHoverPosition, useOptions, useCellHasPlugin, useCellSpacing, useCellIsAllowedHere, } from '../../hooks';\nimport { onDrop, onHover } from './helper/dnd';\nexport var useCellDrop = function (nodeId) {\n    var _a;\n    var ref = React.useRef(null);\n    var hoverTarget = useCellProps(nodeId, function (node, ancestors) {\n        var _a;\n        return node\n            ? {\n                id: node.id,\n                ancestorIds: ancestors.map(function (a) { return a.id; }),\n                hasInlineNeighbour: node.hasInlineNeighbour,\n                inline: node.inline,\n                levels: getDropLevels(node, ancestors),\n                pluginId: (_a = node.plugin) === null || _a === void 0 ? void 0 : _a.id,\n            }\n            : null;\n    });\n    var targetParentNodeId = (_a = hoverTarget === null || hoverTarget === void 0 ? void 0 : hoverTarget.ancestorIds) === null || _a === void 0 ? void 0 : _a[0];\n    var checkIfAllowed = useCellIsAllowedHere(targetParentNodeId);\n    var plugin = usePluginOfCell(nodeId);\n    var options = useOptions();\n    var hoverActions = useHoverActions();\n    var dropActions = useDropActions(targetParentNodeId);\n    var isHoveringOverThis = useSelector(function (state) { var _a; return ((_a = state.reactPage.hover) === null || _a === void 0 ? void 0 : _a.nodeId) === nodeId; });\n    var _b = __read(useDrop({\n        accept: 'cell',\n        canDrop: function (item) {\n            // check if plugin is allowed here\n            if (!checkIfAllowed(item)) {\n                return false;\n            }\n            if (plugin === null || plugin === void 0 ? void 0 : plugin.allowNeighbour) {\n                if (!plugin.allowNeighbour(item.cell)) {\n                    return false;\n                }\n            }\n            return (item.cell.id !== nodeId &&\n                !(hoverTarget === null || hoverTarget === void 0 ? void 0 : hoverTarget.ancestorIds.includes(item.cell.id)));\n        },\n        collect: function (monitor) { return ({\n            isOver: monitor.isOver(),\n            isAllowed: checkIfAllowed(monitor.getItem()),\n        }); },\n        hover: function (item, monitor) {\n            if (plugin === null || plugin === void 0 ? void 0 : plugin.allowNeighbour) {\n                if (!plugin.allowNeighbour(item.cell)) {\n                    return false;\n                }\n            }\n            onHover(hoverTarget, monitor, ref.current, hoverActions, options);\n        },\n        drop: function (item, monitor) {\n            onDrop(hoverTarget, monitor, ref.current, dropActions, options);\n        },\n    }), 2), _c = _b[0], isOver = _c.isOver, isAllowed = _c.isAllowed, dropRef = _b[1];\n    useEffect(function () {\n        if (!isOver && isHoveringOverThis) {\n            hoverActions.clear();\n        }\n    }, [isOver, isHoveringOverThis, hoverActions.clear]);\n    // see https://github.com/react-dnd/react-dnd/issues/1955\n    var attach = useCallback(function (domElement) {\n        dropRef(domElement);\n        ref.current = domElement;\n        // use dom element here for measuring\n    }, [dropRef]);\n    return [attach, isAllowed];\n};\nvar Droppable = function (props) {\n    var _a;\n    var isLayoutMode = useIsLayoutMode();\n    var isInsertMode = useIsInsertMode();\n    var _b = __read(useCellDrop(props.nodeId), 2), attach = _b[0], isAllowed = _b[1];\n    var hoverPosition = useNodeHoverPosition(props.nodeId);\n    var options = useOptions();\n    var hasPlugin = useCellHasPlugin(props.nodeId);\n    var cellSpacingY = useCellSpacing().y;\n    var needVerticalMargin = !props.isLeaf && !hasPlugin;\n    if (!(isLayoutMode || isInsertMode) && !options.allowMoveInEditMode) {\n        return (React.createElement(\"div\", { className: 'react-page-cell-droppable-container' }, props.children));\n    }\n    return (React.createElement(\"div\", { ref: attach, style: {\n            height: '100%',\n        }, className: \"react-page-cell-droppable\" },\n        React.createElement(\"div\", { style: {\n                position: 'absolute',\n                pointerEvents: 'none',\n                top: needVerticalMargin ? cellSpacingY / 2 + \"px\" : 0,\n                left: 0,\n                bottom: needVerticalMargin ? cellSpacingY / 2 + \"px\" : 0,\n                right: 0,\n            }, className: classNames((_a = {\n                    'react-page-cell-droppable-not-allowed': !isAllowed,\n                    'react-page-cell-droppable-is-over-current': isAllowed && hoverPosition\n                },\n                _a[\"react-page-cell-droppable-is-over-\" + hoverPosition] = isAllowed && hoverPosition,\n                _a['react-page-cell-droppable-leaf'] = props.isLeaf,\n                _a)) }),\n        props.children));\n};\nexport default Droppable;\n//# sourceMappingURL=index.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React from 'react';\nimport { useCellDrop } from '../../Cell/Droppable';\nimport { useIsInsertMode, useIsLayoutMode } from '../../hooks';\nvar Droppable = function (_a) {\n    var children = _a.children, nodeId = _a.nodeId;\n    var isLayoutMode = useIsLayoutMode();\n    var isInsertMode = useIsInsertMode();\n    var _b = __read(useCellDrop(nodeId), 2), ref = _b[0], isAllowed = _b[1];\n    if (!(isLayoutMode || isInsertMode)) {\n        return React.createElement(\"div\", { className: \"react-page-row-droppable-container\" }, children);\n    }\n    return (React.createElement(\"div\", { ref: ref, className: \"react-page-row-droppable\" }, children));\n};\nexport default Droppable;\n//# sourceMappingURL=index.js.map","import React from 'react';\nimport { useIsEditMode, useRemoveCell, useUiTranslator } from '../../hooks';\nvar ErrorCell = function (_a) {\n    var nodeId = _a.nodeId, error = _a.error;\n    var isEditMode = useIsEditMode();\n    var removeCell = useRemoveCell(nodeId);\n    var t = useUiTranslator().t;\n    return (React.createElement(\"div\", { className: \"react-page-cell-error\" },\n        React.createElement(\"strong\", null, t('An error occurred!')),\n        React.createElement(\"small\", null,\n            React.createElement(\"dl\", null,\n                React.createElement(\"dt\", null, t('Cause:')),\n                React.createElement(\"dd\", null, error.message),\n                React.createElement(\"dt\", null, t('Cell:')),\n                React.createElement(\"dd\", null, nodeId))),\n        isEditMode ? (React.createElement(\"button\", { onClick: function () { return removeCell(); } }, t('Remove'))) : null));\n};\nexport default ErrorCell;\n//# sourceMappingURL=index.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var DragSourceImpl = /*#__PURE__*/function () {\n  function DragSourceImpl(spec, monitor, connector) {\n    _classCallCheck(this, DragSourceImpl);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"connector\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.connector = connector;\n  }\n\n  _createClass(DragSourceImpl, [{\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      var _result;\n\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var result = null;\n\n      if (_typeof(spec.item) === 'object') {\n        result = spec.item;\n      } else if (typeof spec.item === 'function') {\n        result = spec.item(monitor);\n      } else {\n        result = {};\n      }\n\n      return (_result = result) !== null && _result !== void 0 ? _result : null;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (typeof spec.canDrag === 'boolean') {\n        return spec.canDrag;\n      } else if (typeof spec.canDrag === 'function') {\n        return spec.canDrag(monitor);\n      } else {\n        return true;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(globalMonitor, target) {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var isDragging = spec.isDragging;\n      return isDragging ? isDragging(monitor) : target === globalMonitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var connector = this.connector;\n      var end = spec.end;\n\n      if (end) {\n        end(monitor.getItem(), monitor);\n      }\n\n      connector.reconnect();\n    }\n  }]);\n\n  return DragSourceImpl;\n}();","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { registerSource } from '../../internals';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nimport { useDragSource } from './useDragSource';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useDragType } from './useDragType';\nexport function useRegisteredDragSource(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var handler = useDragSource(spec, monitor, connector);\n  var itemType = useDragType(spec);\n  useIsomorphicLayoutEffect(function registerDragSource() {\n    if (itemType != null) {\n      var _registerSource = registerSource(itemType, handler, manager),\n          _registerSource2 = _slicedToArray(_registerSource, 2),\n          handlerId = _registerSource2[0],\n          unregister = _registerSource2[1];\n\n      monitor.receiveHandlerId(handlerId);\n      connector.receiveHandlerId(handlerId);\n      return unregister;\n    }\n  }, [manager, monitor, connector, handler, itemType]);\n}","import { useEffect, useMemo } from 'react';\nimport { DragSourceImpl } from './DragSourceImpl';\nexport function useDragSource(spec, monitor, connector) {\n  var handler = useMemo(function () {\n    return new DragSourceImpl(spec, monitor, connector);\n  }, [monitor, connector]);\n  useEffect(function () {\n    handler.spec = spec;\n  }, [spec]);\n  return handler;\n}","import { invariant } from '@react-dnd/invariant';\nimport { useMemo } from 'react';\nexport function useDragType(spec) {\n  return useMemo(function () {\n    var result = spec.type;\n    invariant(result != null, 'spec.type must be defined');\n    return result;\n  }, [spec]);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrag = false;\nvar isCallingIsDragging = false;\nexport var DragSourceMonitorImpl = /*#__PURE__*/function () {\n  function DragSourceMonitorImpl(manager) {\n    _classCallCheck(this, DragSourceMonitorImpl);\n\n    _defineProperty(this, \"internalMonitor\", void 0);\n\n    _defineProperty(this, \"sourceId\", null);\n\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DragSourceMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(sourceId) {\n      this.sourceId = sourceId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.sourceId;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      invariant(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingCanDrag = true;\n        return this.internalMonitor.canDragSource(this.sourceId);\n      } finally {\n        isCallingCanDrag = false;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      if (!this.sourceId) {\n        return false;\n      }\n\n      invariant(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingIsDragging = true;\n        return this.internalMonitor.isDraggingSource(this.sourceId);\n      } finally {\n        isCallingIsDragging = false;\n      }\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      return this.internalMonitor.isDraggingSource(sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId, options) {\n      return this.internalMonitor.isOverTarget(targetId, options);\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.internalMonitor.getTargetIds();\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return this.internalMonitor.isSourcePublic();\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.internalMonitor.getSourceId();\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      return this.internalMonitor.subscribeToOffsetChange(listener);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      return this.internalMonitor.canDragSource(sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      return this.internalMonitor.canDropOnTarget(targetId);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DragSourceMonitorImpl;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from './isRef';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nexport var SourceConnector = /*#__PURE__*/function () {\n  // The drop target may either be attached via ref or connect function\n  // The drag preview may either be attached via ref or connect function\n  function SourceConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, SourceConnector);\n\n    _defineProperty(this, \"hooks\", wrapConnectorHooks({\n      dragSource: function dragSource(node, options) {\n        _this.clearDragSource();\n\n        _this.dragSourceOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragSourceRef = node;\n        } else {\n          _this.dragSourceNode = node;\n        }\n\n        _this.reconnectDragSource();\n      },\n      dragPreview: function dragPreview(node, options) {\n        _this.clearDragPreview();\n\n        _this.dragPreviewOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragPreviewRef = node;\n        } else {\n          _this.dragPreviewNode = node;\n        }\n\n        _this.reconnectDragPreview();\n      }\n    }));\n\n    _defineProperty(this, \"handlerId\", null);\n\n    _defineProperty(this, \"dragSourceRef\", null);\n\n    _defineProperty(this, \"dragSourceNode\", void 0);\n\n    _defineProperty(this, \"dragSourceOptionsInternal\", null);\n\n    _defineProperty(this, \"dragSourceUnsubscribe\", void 0);\n\n    _defineProperty(this, \"dragPreviewRef\", null);\n\n    _defineProperty(this, \"dragPreviewNode\", void 0);\n\n    _defineProperty(this, \"dragPreviewOptionsInternal\", null);\n\n    _defineProperty(this, \"dragPreviewUnsubscribe\", void 0);\n\n    _defineProperty(this, \"lastConnectedHandlerId\", null);\n\n    _defineProperty(this, \"lastConnectedDragSource\", null);\n\n    _defineProperty(this, \"lastConnectedDragSourceOptions\", null);\n\n    _defineProperty(this, \"lastConnectedDragPreview\", null);\n\n    _defineProperty(this, \"lastConnectedDragPreviewOptions\", null);\n\n    _defineProperty(this, \"backend\", void 0);\n\n    this.backend = backend;\n  }\n\n  _createClass(SourceConnector, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (this.handlerId === newHandlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dragSource;\n    }\n  }, {\n    key: \"dragSourceOptions\",\n    get: function get() {\n      return this.dragSourceOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragSourceOptionsInternal = options;\n    }\n  }, {\n    key: \"dragPreviewOptions\",\n    get: function get() {\n      return this.dragPreviewOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragPreviewOptionsInternal = options;\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      this.reconnectDragSource();\n      this.reconnectDragPreview();\n    }\n  }, {\n    key: \"reconnectDragSource\",\n    value: function reconnectDragSource() {\n      var dragSource = this.dragSource; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragSourceChange() || this.didDragSourceOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragSource();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragSource) {\n        this.lastConnectedDragSource = dragSource;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragSource = dragSource;\n        this.lastConnectedDragSourceOptions = this.dragSourceOptions;\n        this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);\n      }\n    }\n  }, {\n    key: \"reconnectDragPreview\",\n    value: function reconnectDragPreview() {\n      var dragPreview = this.dragPreview; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragPreviewChange() || this.didDragPreviewOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragPreview();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragPreview) {\n        this.lastConnectedDragPreview = dragPreview;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragPreview = dragPreview;\n        this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;\n        this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);\n      }\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didConnectedDragSourceChange\",\n    value: function didConnectedDragSourceChange() {\n      return this.lastConnectedDragSource !== this.dragSource;\n    }\n  }, {\n    key: \"didConnectedDragPreviewChange\",\n    value: function didConnectedDragPreviewChange() {\n      return this.lastConnectedDragPreview !== this.dragPreview;\n    }\n  }, {\n    key: \"didDragSourceOptionsChange\",\n    value: function didDragSourceOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragSourceOptions, this.dragSourceOptions);\n    }\n  }, {\n    key: \"didDragPreviewOptionsChange\",\n    value: function didDragPreviewOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);\n    }\n  }, {\n    key: \"disconnectDragSource\",\n    value: function disconnectDragSource() {\n      if (this.dragSourceUnsubscribe) {\n        this.dragSourceUnsubscribe();\n        this.dragSourceUnsubscribe = undefined;\n      }\n    }\n  }, {\n    key: \"disconnectDragPreview\",\n    value: function disconnectDragPreview() {\n      if (this.dragPreviewUnsubscribe) {\n        this.dragPreviewUnsubscribe();\n        this.dragPreviewUnsubscribe = undefined;\n        this.dragPreviewNode = null;\n        this.dragPreviewRef = null;\n      }\n    }\n  }, {\n    key: \"dragSource\",\n    get: function get() {\n      return this.dragSourceNode || this.dragSourceRef && this.dragSourceRef.current;\n    }\n  }, {\n    key: \"dragPreview\",\n    get: function get() {\n      return this.dragPreviewNode || this.dragPreviewRef && this.dragPreviewRef.current;\n    }\n  }, {\n    key: \"clearDragSource\",\n    value: function clearDragSource() {\n      this.dragSourceNode = null;\n      this.dragSourceRef = null;\n    }\n  }, {\n    key: \"clearDragPreview\",\n    value: function clearDragPreview() {\n      this.dragPreviewNode = null;\n      this.dragPreviewRef = null;\n    }\n  }]);\n\n  return SourceConnector;\n}();","import { useMemo } from 'react';\nexport function useConnectDragSource(connector) {\n  return useMemo(function () {\n    return connector.hooks.dragSource();\n  }, [connector]);\n}\nexport function useConnectDragPreview(connector) {\n  return useMemo(function () {\n    return connector.hooks.dragPreview();\n  }, [connector]);\n}","import { useRegisteredDragSource } from './useRegisteredDragSource';\nimport { useOptionalFactory } from '../useOptionalFactory';\nimport { useDragSourceMonitor } from './useDragSourceMonitor';\nimport { useDragSourceConnector } from './useDragSourceConnector';\nimport { useCollectedProps } from '../useCollectedProps';\nimport { useConnectDragPreview, useConnectDragSource } from './connectors';\nimport { invariant } from '@react-dnd/invariant';\n/**\n * useDragSource hook\n * @param sourceSpec The drag source specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\n\nexport function useDrag(specArg, deps) {\n  var spec = useOptionalFactory(specArg, deps);\n  invariant(!spec.begin, \"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)\");\n  var monitor = useDragSourceMonitor();\n  var connector = useDragSourceConnector(spec.options, spec.previewOptions);\n  useRegisteredDragSource(spec, monitor, connector);\n  return [useCollectedProps(spec.collect, monitor, connector), useConnectDragSource(connector), useConnectDragPreview(connector)];\n}","import { useMemo } from 'react';\nimport { DragSourceMonitorImpl } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nexport function useDragSourceMonitor() {\n  var manager = useDragDropManager();\n  return useMemo(function () {\n    return new DragSourceMonitorImpl(manager);\n  }, [manager]);\n}","import { useMemo } from 'react';\nimport { SourceConnector } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nexport function useDragSourceConnector(dragSourceOptions, dragPreviewOptions) {\n  var manager = useDragDropManager();\n  var connector = useMemo(function () {\n    return new SourceConnector(manager.getBackend());\n  }, [manager]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragSourceOptions = dragSourceOptions || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDragSource();\n    };\n  }, [connector, dragSourceOptions]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragPreviewOptions = dragPreviewOptions || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDragPreview();\n    };\n  }, [connector, dragPreviewOptions]);\n  return connector;\n}","import { useEffect, memo } from 'react';\n/**\n * A utility for rendering a drag preview image\n */\n\nexport var DragPreviewImage = memo(function DragPreviewImage(_ref) {\n  var connect = _ref.connect,\n      src = _ref.src;\n  useEffect(function () {\n    if (typeof Image === 'undefined') return;\n    var connected = false;\n    var img = new Image();\n    img.src = src;\n\n    img.onload = function () {\n      connect(img);\n      connected = true;\n    };\n\n    return function () {\n      if (connected) {\n        connect(null);\n      }\n    };\n  });\n  return null;\n});","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { useDrag, DragPreviewImage } from 'react-dnd';\nimport { useCell, useHoverActions } from '../../hooks';\nimport React from 'react';\nexport var dragIcon = \n// tslint:disable-next-line:max-line-length\n'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAhCAYAAACbffiEAAAA6UlEQVRYhe2ZQQ6CMBBFX0njHg7ESXTp1p3uvIBewc3Em3AfdelSFwRDCAm01JRO+pa0lP8zzc9kMCKyAa7AFqhIixdwB44WuACHuHq8KWm1vwtgF1lMCPaWkevUNE3Qr9R17XTu1P5uvUdV+IpbG2qMGBH5xBYRAjUVUWPEjj10SS3XRFry3kha/VBTETVGcmqtDTVGFqdWn7k9ku96f88QNRVRYySn1tpQY8QptXz7qinmnpt7rZTIqbU21BgJ2mv1+XfCDVFTETVGjIg8SG8KP+RZ0I7lU+dmgRNgaKfyZVw9znT/R85fOHJJE77U6UcAAAAASUVORK5CYII=';\nexport var useDragHandle = function (nodeId, enabled) {\n    if (enabled === void 0) { enabled = true; }\n    var actions = useHoverActions();\n    var cell = useCell(nodeId);\n    var _a = __read(useDrag({\n        canDrag: enabled,\n        item: function () {\n            actions.dragCell(nodeId);\n            return { cell: cell };\n        },\n        type: 'cell',\n        collect: function (monitor) { return ({\n            isDragging: monitor.isDragging(),\n        }); },\n        end: function (item, monitor) {\n            if (monitor.didDrop()) {\n                // If the item drop occurred deeper down the tree, don't do anything\n                return;\n            }\n            // If drag ended but drop did not occur, cancel dragging\n            actions.cancelCellDrag();\n        },\n    }), 3), isDragging = _a[0].isDragging, dragRef = _a[1], preview = _a[2];\n    var previewElement = React.createElement(DragPreviewImage, { connect: preview, src: dragIcon });\n    return [isDragging, dragRef, previewElement];\n};\n//# sourceMappingURL=useDragHandle.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useCell, useFocusCell, useIsLayoutMode, useOptions, } from '../../hooks';\nimport { useDragHandle } from './useDragHandle';\nvar DefaultSmallHandle = function (_a) {\n    var onClick = _a.onClick;\n    return (React.createElement(\"div\", { className: \"react-page-cell-draggable-overlay-handle\", onClick: onClick },\n        React.createElement(\"div\", { className: \"react-page-cell-draggable-overlay-handle-icon\" })));\n};\nvar Draggable = function (_a) {\n    var _b;\n    var _c, _d;\n    var isLeaf = _a.isLeaf, children = _a.children, nodeId = _a.nodeId;\n    var cell = useCell(nodeId);\n    var _e = __read(useDragHandle(nodeId), 3), isDragging = _e[0], dragRef = _e[1], previewElement = _e[2];\n    var focus = useFocusCell(nodeId);\n    var isLayoutMode = useIsLayoutMode();\n    var options = useOptions();\n    var ResizeHandle = (_d = (_c = options.components) === null || _c === void 0 ? void 0 : _c.EditModeResizeHandle) !== null && _d !== void 0 ? _d : DefaultSmallHandle;\n    return (React.createElement(React.Fragment, null,\n        previewElement,\n        React.createElement(\"div\", { ref: isLayoutMode ? dragRef : undefined, style: {\n                height: '100%',\n            }, className: classNames({\n                'react-page-cell-draggable-in-edit': !isLayoutMode && options.allowMoveInEditMode,\n                'react-page-cell-draggable': isLayoutMode,\n                'react-page-cell-draggable-is-dragging': isDragging,\n            }) },\n            isLayoutMode ? (React.createElement(\"div\", { className: classNames((_b = {\n                        'react-page-cell-draggable-overlay': isLayoutMode\n                    },\n                    _b[\"react-page-cell-draggable-inline-\" + cell.inline] = cell.inline,\n                    _b['react-page-cell-draggable-leaf'] = isLeaf,\n                    _b)) })) : options.allowMoveInEditMode ? (React.createElement(\"div\", { ref: dragRef },\n                React.createElement(ResizeHandle, { onClick: focus }))) : null,\n            children)));\n};\nexport default Draggable;\n//# sourceMappingURL=index.js.map","import React from 'react';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { ThemeProvider as MaterialUiThemeProvider, StylesProvider, } from '@material-ui/styles';\nimport { createGenerateClassName } from '@material-ui/styles';\nimport darkTheme from './DarkTheme/index';\nimport { themeOptions } from './themeOptions';\nexport { darkTheme };\nvar generateClassName = createGenerateClassName({\n    disableGlobal: true,\n    seed: 'reactPage',\n    productionPrefix: 'reactPage',\n});\nvar theme = createMuiTheme(themeOptions);\nexport var ThemeProvider = function (props) {\n    return (React.createElement(StylesProvider, { injectFirst: true, generateClassName: generateClassName },\n        React.createElement(MaterialUiThemeProvider, { theme: props.theme || theme }, props.children)));\n};\n//# sourceMappingURL=index.js.map","export var themeOptions = {};\n//# sourceMappingURL=themeOptions.js.map","import { createMuiTheme } from '@material-ui/core/styles';\nvar theme = createMuiTheme({\n    palette: {\n        type: 'dark',\n    },\n});\nexport default theme;\n//# sourceMappingURL=index.js.map","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport { alpha } from '../styles/colorManipulator';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      height: 1,\n      margin: 0,\n      // Reset browser default style.\n      border: 'none',\n      flexShrink: 0,\n      backgroundColor: theme.palette.divider\n    },\n\n    /* Styles applied to the root element if `absolute={true}`. */\n    absolute: {\n      position: 'absolute',\n      bottom: 0,\n      left: 0,\n      width: '100%'\n    },\n\n    /* Styles applied to the root element if `variant=\"inset\"`. */\n    inset: {\n      marginLeft: 72\n    },\n\n    /* Styles applied to the root element if `light={true}`. */\n    light: {\n      backgroundColor: alpha(theme.palette.divider, 0.08)\n    },\n\n    /* Styles applied to the root element if `variant=\"middle\"`. */\n    middle: {\n      marginLeft: theme.spacing(2),\n      marginRight: theme.spacing(2)\n    },\n\n    /* Styles applied to the root element if `orientation=\"vertical\"`. */\n    vertical: {\n      height: '100%',\n      width: 1\n    },\n\n    /* Styles applied to the root element if `flexItem={true}`. */\n    flexItem: {\n      alignSelf: 'stretch',\n      height: 'auto'\n    }\n  };\n};\nvar Divider = /*#__PURE__*/React.forwardRef(function Divider(props, ref) {\n  var _props$absolute = props.absolute,\n      absolute = _props$absolute === void 0 ? false : _props$absolute,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'hr' : _props$component,\n      _props$flexItem = props.flexItem,\n      flexItem = _props$flexItem === void 0 ? false : _props$flexItem,\n      _props$light = props.light,\n      light = _props$light === void 0 ? false : _props$light,\n      _props$orientation = props.orientation,\n      orientation = _props$orientation === void 0 ? 'horizontal' : _props$orientation,\n      _props$role = props.role,\n      role = _props$role === void 0 ? Component !== 'hr' ? 'separator' : undefined : _props$role,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'fullWidth' : _props$variant,\n      other = _objectWithoutProperties(props, [\"absolute\", \"classes\", \"className\", \"component\", \"flexItem\", \"light\", \"orientation\", \"role\", \"variant\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className, variant !== 'fullWidth' && classes[variant], absolute && classes.absolute, flexItem && classes.flexItem, light && classes.light, orientation === 'vertical' && classes.vertical),\n    role: role,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Divider.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Absolutely position the element.\n   */\n  absolute: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * If `true`, a vertical divider will have the correct height when used in flex container.\n   * (By default, a vertical divider will have a calculated height of `0px` if it is the child of a flex container.)\n   */\n  flexItem: PropTypes.bool,\n\n  /**\n   * If `true`, the divider will have a lighter color.\n   */\n  light: PropTypes.bool,\n\n  /**\n   * The divider orientation.\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n  /**\n   * @ignore\n   */\n  role: PropTypes.string,\n\n  /**\n   * The variant to use.\n   */\n  variant: PropTypes.oneOf(['fullWidth', 'inset', 'middle'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiDivider'\n})(Divider);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport Modal from '../Modal';\nimport Backdrop from '../Backdrop';\nimport withStyles from '../styles/withStyles';\nimport Slide from '../Slide';\nimport Paper from '../Paper';\nimport capitalize from '../utils/capitalize';\nimport { duration } from '../styles/transitions';\nimport useTheme from '../styles/useTheme';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {},\n\n    /* Styles applied to the root element if `variant=\"permanent or persistent\"`. */\n    docked: {\n      flex: '0 0 auto'\n    },\n\n    /* Styles applied to the `Paper` component. */\n    paper: {\n      overflowY: 'auto',\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100%',\n      flex: '1 0 auto',\n      zIndex: theme.zIndex.drawer,\n      WebkitOverflowScrolling: 'touch',\n      // Add iOS momentum scrolling.\n      // temporary style\n      position: 'fixed',\n      top: 0,\n      // We disable the focus ring for mouse, touch and keyboard users.\n      // At some point, it would be better to keep it for keyboard users.\n      // :focus-ring CSS pseudo-class will help.\n      outline: 0\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"left\"`. */\n    paperAnchorLeft: {\n      left: 0,\n      right: 'auto'\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"right\"`. */\n    paperAnchorRight: {\n      left: 'auto',\n      right: 0\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"top\"`. */\n    paperAnchorTop: {\n      top: 0,\n      left: 0,\n      bottom: 'auto',\n      right: 0,\n      height: 'auto',\n      maxHeight: '100%'\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"bottom\"`. */\n    paperAnchorBottom: {\n      top: 'auto',\n      left: 0,\n      bottom: 0,\n      right: 0,\n      height: 'auto',\n      maxHeight: '100%'\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"left\"` and `variant` is not \"temporary\". */\n    paperAnchorDockedLeft: {\n      borderRight: \"1px solid \".concat(theme.palette.divider)\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"top\"` and `variant` is not \"temporary\". */\n    paperAnchorDockedTop: {\n      borderBottom: \"1px solid \".concat(theme.palette.divider)\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"right\"` and `variant` is not \"temporary\". */\n    paperAnchorDockedRight: {\n      borderLeft: \"1px solid \".concat(theme.palette.divider)\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"bottom\"` and `variant` is not \"temporary\". */\n    paperAnchorDockedBottom: {\n      borderTop: \"1px solid \".concat(theme.palette.divider)\n    },\n\n    /* Styles applied to the `Modal` component. */\n    modal: {}\n  };\n};\nvar oppositeDirection = {\n  left: 'right',\n  right: 'left',\n  top: 'down',\n  bottom: 'up'\n};\nexport function isHorizontal(anchor) {\n  return ['left', 'right'].indexOf(anchor) !== -1;\n}\nexport function getAnchor(theme, anchor) {\n  return theme.direction === 'rtl' && isHorizontal(anchor) ? oppositeDirection[anchor] : anchor;\n}\nvar defaultTransitionDuration = {\n  enter: duration.enteringScreen,\n  exit: duration.leavingScreen\n};\n/**\n * The props of the [Modal](/api/modal/) component are available\n * when `variant=\"temporary\"` is set.\n */\n\nvar Drawer = /*#__PURE__*/React.forwardRef(function Drawer(props, ref) {\n  var _props$anchor = props.anchor,\n      anchorProp = _props$anchor === void 0 ? 'left' : _props$anchor,\n      BackdropProps = props.BackdropProps,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$elevation = props.elevation,\n      elevation = _props$elevation === void 0 ? 16 : _props$elevation,\n      _props$ModalProps = props.ModalProps;\n  _props$ModalProps = _props$ModalProps === void 0 ? {} : _props$ModalProps;\n\n  var BackdropPropsProp = _props$ModalProps.BackdropProps,\n      ModalProps = _objectWithoutProperties(_props$ModalProps, [\"BackdropProps\"]),\n      onClose = props.onClose,\n      _props$open = props.open,\n      open = _props$open === void 0 ? false : _props$open,\n      _props$PaperProps = props.PaperProps,\n      PaperProps = _props$PaperProps === void 0 ? {} : _props$PaperProps,\n      SlideProps = props.SlideProps,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Slide : _props$TransitionComp,\n      _props$transitionDura = props.transitionDuration,\n      transitionDuration = _props$transitionDura === void 0 ? defaultTransitionDuration : _props$transitionDura,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'temporary' : _props$variant,\n      other = _objectWithoutProperties(props, [\"anchor\", \"BackdropProps\", \"children\", \"classes\", \"className\", \"elevation\", \"ModalProps\", \"onClose\", \"open\", \"PaperProps\", \"SlideProps\", \"TransitionComponent\", \"transitionDuration\", \"variant\"]);\n\n  var theme = useTheme(); // Let's assume that the Drawer will always be rendered on user space.\n  // We use this state is order to skip the appear transition during the\n  // initial mount of the component.\n\n  var mounted = React.useRef(false);\n  React.useEffect(function () {\n    mounted.current = true;\n  }, []);\n  var anchor = getAnchor(theme, anchorProp);\n  var drawer = /*#__PURE__*/React.createElement(Paper, _extends({\n    elevation: variant === 'temporary' ? elevation : 0,\n    square: true\n  }, PaperProps, {\n    className: clsx(classes.paper, classes[\"paperAnchor\".concat(capitalize(anchor))], PaperProps.className, variant !== 'temporary' && classes[\"paperAnchorDocked\".concat(capitalize(anchor))])\n  }), children);\n\n  if (variant === 'permanent') {\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      className: clsx(classes.root, classes.docked, className),\n      ref: ref\n    }, other), drawer);\n  }\n\n  var slidingDrawer = /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    in: open,\n    direction: oppositeDirection[anchor],\n    timeout: transitionDuration,\n    appear: mounted.current\n  }, SlideProps), drawer);\n\n  if (variant === 'persistent') {\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      className: clsx(classes.root, classes.docked, className),\n      ref: ref\n    }, other), slidingDrawer);\n  } // variant === temporary\n\n\n  return /*#__PURE__*/React.createElement(Modal, _extends({\n    BackdropProps: _extends({}, BackdropProps, BackdropPropsProp, {\n      transitionDuration: transitionDuration\n    }),\n    BackdropComponent: Backdrop,\n    className: clsx(classes.root, classes.modal, className),\n    open: open,\n    onClose: onClose,\n    ref: ref\n  }, other, ModalProps), slidingDrawer);\n});\nprocess.env.NODE_ENV !== \"production\" ? Drawer.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Side from which the drawer will appear.\n   */\n  anchor: PropTypes.oneOf(['bottom', 'left', 'right', 'top']),\n\n  /**\n   * @ignore\n   */\n  BackdropProps: PropTypes.object,\n\n  /**\n   * The contents of the drawer.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The elevation of the drawer.\n   */\n  elevation: PropTypes.number,\n\n  /**\n   * Props applied to the [`Modal`](/api/modal/) element.\n   */\n  ModalProps: PropTypes.object,\n\n  /**\n   * Callback fired when the component requests to be closed.\n   *\n   * @param {object} event The event source of the callback.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * If `true`, the drawer is open.\n   */\n  open: PropTypes.bool,\n\n  /**\n   * Props applied to the [`Paper`](/api/paper/) element.\n   */\n  PaperProps: PropTypes.object,\n\n  /**\n   * Props applied to the [`Slide`](/api/slide/) element.\n   */\n  SlideProps: PropTypes.object,\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   */\n  transitionDuration: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })]),\n\n  /**\n   * The variant to use.\n   */\n  variant: PropTypes.oneOf(['permanent', 'persistent', 'temporary'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiDrawer',\n  flip: false\n})(Drawer);","// Source from https://github.com/alitaheri/normalize-scroll-left\nvar cachedType;\n/**\n * Based on the jquery plugin https://github.com/othree/jquery.rtl-scroll-type\n *\n * Types of scrollLeft, assuming scrollWidth=100 and direction is rtl.\n *\n * Type             | <- Most Left | Most Right -> | Initial\n * ---------------- | ------------ | ------------- | -------\n * default          | 0            | 100           | 100\n * negative (spec*) | -100         | 0             | 0\n * reverse          | 100          | 0             | 0\n *\n * Edge 85: default\n * Safari 14: negative\n * Chrome 85: negative\n * Firefox 81: negative\n * IE 11: reverse\n *\n * spec* https://drafts.csswg.org/cssom-view/#dom-window-scroll\n */\n\nexport function detectScrollType() {\n  if (cachedType) {\n    return cachedType;\n  }\n\n  var dummy = document.createElement('div');\n  var container = document.createElement('div');\n  container.style.width = '10px';\n  container.style.height = '1px';\n  dummy.appendChild(container);\n  dummy.dir = 'rtl';\n  dummy.style.fontSize = '14px';\n  dummy.style.width = '4px';\n  dummy.style.height = '1px';\n  dummy.style.position = 'absolute';\n  dummy.style.top = '-1000px';\n  dummy.style.overflow = 'scroll';\n  document.body.appendChild(dummy);\n  cachedType = 'reverse';\n\n  if (dummy.scrollLeft > 0) {\n    cachedType = 'default';\n  } else {\n    dummy.scrollLeft = 1;\n\n    if (dummy.scrollLeft === 0) {\n      cachedType = 'negative';\n    }\n  }\n\n  document.body.removeChild(dummy);\n  return cachedType;\n} // Based on https://stackoverflow.com/a/24394376\n\nexport function getNormalizedScrollLeft(element, direction) {\n  var scrollLeft = element.scrollLeft; // Perform the calculations only when direction is rtl to avoid messing up the ltr bahavior\n\n  if (direction !== 'rtl') {\n    return scrollLeft;\n  }\n\n  var type = detectScrollType();\n\n  switch (type) {\n    case 'negative':\n      return element.scrollWidth - element.clientWidth + scrollLeft;\n\n    case 'reverse':\n      return element.scrollWidth - element.clientWidth - scrollLeft;\n\n    default:\n      return scrollLeft;\n  }\n}","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { Divider, Drawer, Portal } from '@material-ui/core';\nimport React, { Fragment } from 'react';\nimport { useIsSmallScreen } from '../../core/components/hooks';\nvar darkBlack = 'rgba(0, 0, 0, 0.87)';\nvar bright = 'rgba(255,255,255, 0.98)';\nvar brightBorder = 'rgba(0, 0, 0, 0.12)';\nexport var BottomToolbarDrawer = function (_a) {\n    var className = _a.className, anchor = _a.anchor, open = _a.open, dark = _a.dark, _b = _a.scale, scale = _b === void 0 ? 1 : _b, children = _a.children, _c = _a.style, style = _c === void 0 ? {} : _c;\n    var divider = (React.createElement(Divider, { style: {\n            marginLeft: -24,\n            marginRight: -24,\n            marginTop: 12,\n            marginBottom: 12,\n        } }));\n    var theChildren = React.Children.toArray(children).filter(Boolean);\n    var isSmall = useIsSmallScreen();\n    return (React.createElement(Portal, null,\n        React.createElement(Drawer, { SlideProps: {\n                mountOnEnter: true,\n                unmountOnExit: true,\n            }, variant: \"persistent\", className: className, open: open, anchor: anchor, PaperProps: {\n                style: {\n                    zIndex: 10,\n                    backgroundColor: 'transparent',\n                    border: 'none',\n                    overflow: 'visible',\n                    pointerEvents: 'none',\n                },\n            } },\n            React.createElement(\"div\", { style: __assign(__assign(__assign({ pointerEvents: 'all', border: (dark ? darkBlack : brightBorder) + \" 1px solid\", borderRadius: '4px 4px 0 0', backgroundColor: dark ? darkBlack : bright, padding: '12px 24px' }, (isSmall\n                    ? {\n                        marginLeft: 20,\n                        marginRight: 80,\n                    }\n                    : {\n                        marginLeft: 'auto',\n                        marginRight: 'auto',\n                        minWidth: '50vw',\n                        maxWidth: 'min(1280px, calc(100vw - 250px))',\n                    })), { boxShadow: '0px 1px 8px -1px rgba(0,0,0,0.4)', position: 'relative', transformOrigin: 'bottom', transform: \"scale(\" + scale + \")\", transition: 'scale 0.3s' }), style) }, theChildren.map(function (child, index) { return (React.createElement(Fragment, { key: index },\n                child,\n                index < theChildren.length - 1 ? divider : null)); })))));\n};\n//# sourceMappingURL=Drawer.js.map","import { FormControlLabel, Switch, Tooltip } from '@material-ui/core';\nimport VisibleIcon from '@material-ui/icons/Visibility';\nimport NonVisibleIcon from '@material-ui/icons/VisibilityOff';\nimport React from 'react';\nimport { useCellProps, useLang, useSetDraft, useUiTranslator, } from '../../core/components/hooks';\nvar DraftSwitch = function (_a) {\n    var _b, _c;\n    var nodeId = _a.nodeId, lang = _a.lang;\n    var t = useUiTranslator().t;\n    var cell = useCellProps(nodeId, function (c) { return ({\n        isDraft: c.isDraft,\n        isDraftI18n: c.isDraftI18n,\n    }); });\n    var setDraft = useSetDraft(nodeId);\n    var currentLang = useLang();\n    if (!cell) {\n        return null;\n    }\n    var theLang = lang !== null && lang !== void 0 ? lang : currentLang;\n    var hasI18n = Boolean(cell.isDraftI18n);\n    var isDraft = (_c = (_b = cell === null || cell === void 0 ? void 0 : cell.isDraftI18n) === null || _b === void 0 ? void 0 : _b[theLang]) !== null && _c !== void 0 ? _c : cell === null || cell === void 0 ? void 0 : cell.isDraft; // fallback to legacy\n    var title = t(isDraft ? 'Content is hidden' : 'Content is visible');\n    return cell ? (React.createElement(Tooltip, { title: title + (hasI18n ? ' in ' + theLang : '') },\n        React.createElement(FormControlLabel, { style: { marginRight: 5 }, labelPlacement: \"start\", control: React.createElement(Switch, { color: \"primary\", checked: !isDraft, onChange: function (e) {\n                    setDraft(!e.target.checked, theLang);\n                } }), label: isDraft ? (React.createElement(NonVisibleIcon, { style: { marginTop: 5 } })) : (React.createElement(VisibleIcon, { style: { marginTop: 5 } })) }))) : null;\n};\nexport default DraftSwitch;\n//# sourceMappingURL=index.js.map","import { IconButton, Tooltip } from '@material-ui/core';\nimport Icon from '@material-ui/icons/FileCopy';\nimport React from 'react';\nimport { useDuplicateCell, useUiTranslator } from '../../core/components/hooks';\nexport var DuplicateButton = React.memo(function (_a) {\n    var nodeId = _a.nodeId;\n    var duplicateCell = useDuplicateCell(nodeId);\n    var t = useUiTranslator().t;\n    return (React.createElement(Tooltip, { title: t('Duplicate Plugin') },\n        React.createElement(IconButton, { onClick: duplicateCell, \"aria-label\": \"delete\", color: \"default\" },\n            React.createElement(Icon, null))));\n});\n//# sourceMappingURL=index.js.map","import { Select } from '@material-ui/core';\nimport React, { memo } from 'react';\nimport { useLang, useOptions, useSetLang } from '../../core/components/hooks';\nvar SelectLang = function () {\n    var _a;\n    var options = useOptions();\n    var lang = useLang();\n    var setLang = useSetLang();\n    if (((_a = options.languages) === null || _a === void 0 ? void 0 : _a.length) > 0) {\n        return (React.createElement(Select, { value: lang || '', onChange: function (e) { return setLang(e.target.value); } }, options.languages.map(function (l) { return (React.createElement(\"option\", { key: l.lang, value: l.lang }, l.label)); })));\n    }\n    return null;\n};\nexport default memo(SelectLang);\n//# sourceMappingURL=SelectLang.js.map","import { Button, DialogContent, Table } from '@material-ui/core';\nimport Translate from '@material-ui/icons/Translate';\nimport React, { useCallback } from 'react';\nimport { useCellDataI18nRaw, useLang, useOptions, useSetLang, useUiTranslator, useUpdateCellData, } from '../../core/components/hooks';\nimport DraftSwitch from '../DraftSwitch';\nimport SelectLang from './SelectLang';\nvar I18nDialog = function (_a) {\n    var _b, _c;\n    var nodeId = _a.nodeId, onClose = _a.onClose;\n    var currentLang = useLang();\n    var options = useOptions();\n    var t = useUiTranslator().t;\n    var setLang = useSetLang();\n    var dataI18n = useCellDataI18nRaw(nodeId);\n    var updateCellData = useUpdateCellData(nodeId);\n    var reset = useCallback(function (lang) {\n        updateCellData(null, {\n            lang: lang,\n        });\n    }, [updateCellData]);\n    var defaultLangLabel = (_c = (_b = options.languages) === null || _b === void 0 ? void 0 : _b[0]) === null || _c === void 0 ? void 0 : _c.label;\n    return (React.createElement(DialogContent, null,\n        React.createElement(\"div\", { style: { display: 'flex', alignItems: 'center' } },\n            React.createElement(Translate, { style: { marginRight: 'auto' } }),\n            \" \",\n            React.createElement(SelectLang, null)),\n        React.createElement(\"hr\", null),\n        React.createElement(Table, null,\n            React.createElement(\"tbody\", null, options.languages.map(function (l, index) {\n                var data = dataI18n === null || dataI18n === void 0 ? void 0 : dataI18n[l.lang];\n                var isCurrent = currentLang === l.lang;\n                var hasData = Boolean(data);\n                return (React.createElement(\"tr\", { key: l.lang },\n                    React.createElement(\"th\", { style: {\n                            textAlign: 'left',\n                            textDecoration: isCurrent ? 'underline' : undefined,\n                        } },\n                        React.createElement(Button, { onClick: function () { return setLang(l.lang); } },\n                            l.label,\n                            \" \",\n                            index === 0 ? t('(default)') : null)),\n                    React.createElement(\"td\", null,\n                        React.createElement(DraftSwitch, { nodeId: nodeId, lang: l.lang })),\n                    React.createElement(\"td\", null, hasData ? '' : ' '),\n                    React.createElement(\"td\", null, hasData && index !== 0 ? (React.createElement(Button, { onClick: function () {\n                            reset(l.lang);\n                        } }, t(\"Reset to \" + defaultLangLabel + \" \\u26A0\\uFE0F\"))) : null)));\n            }))),\n        React.createElement(Button, { onClick: function () { return onClose(); } }, t('Close'))));\n};\nexport default I18nDialog;\n//# sourceMappingURL=I18nDialog.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { IconButton, Dialog } from '@material-ui/core';\nimport Translate from '@material-ui/icons/Translate';\nimport React, { useState } from 'react';\nimport SelectLang from './SelectLang';\nimport I18nDialog from './I18nDialog';\nimport { useOptions } from '../../core/components/hooks';\nexport var I18nTools = React.memo(function (_a) {\n    var _b;\n    var nodeId = _a.nodeId;\n    var options = useOptions();\n    var _c = __read(useState(false), 2), showI18nDialog = _c[0], setShowI18nDialog = _c[1];\n    var hasI18n = ((_b = options.languages) === null || _b === void 0 ? void 0 : _b.length) > 0;\n    var onClose = function () { return setShowI18nDialog(false); };\n    if (!hasI18n) {\n        return null;\n    }\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Dialog, { open: showI18nDialog, onClose: onClose },\n            React.createElement(I18nDialog, { nodeId: nodeId, onClose: onClose })),\n        React.createElement(\"div\", { style: { display: 'flex', alignItems: 'center' } },\n            React.createElement(IconButton, { onClick: function () { return setShowI18nDialog(true); }, \"aria-label\": \"i18n\", color: \"secondary\" },\n                React.createElement(Translate, null)),\n            React.createElement(SelectLang, null))));\n});\n//# sourceMappingURL=index.js.map","import IconButton from '@material-ui/core/IconButton';\nimport VerticalAlignTopIcon from '@material-ui/icons/VerticalAlignTop';\nimport React from 'react';\nimport { useFocusCell, useParentCellId, useUiTranslator, } from '../../core/components/hooks';\nexport var SelectParentButton = React.memo(function (_a) {\n    var nodeId = _a.nodeId;\n    var parentCellId = useParentCellId(nodeId);\n    var t = useUiTranslator().t;\n    var focusParent = useFocusCell(parentCellId);\n    return parentCellId ? (React.createElement(IconButton, { className: \"bottomToolbar__selectParentButton\", onClick: function () { return focusParent(); }, color: \"default\", title: t('Select parent') },\n        React.createElement(VerticalAlignTopIcon, null))) : null;\n});\n//# sourceMappingURL=index.js.map","import { IconButton, Tooltip } from '@material-ui/core';\nimport Delete from '@material-ui/icons/Delete';\nimport React from 'react';\nimport { useRemoveCell, useUiTranslator } from '../../core/components/hooks';\nimport DraftSwitch from '../DraftSwitch';\nimport { DuplicateButton } from '../DuplicateButton';\nimport { I18nTools } from '../I18nTools';\nimport { SelectParentButton } from '../SelectParentButton';\nexport var BottomToolbarTools = React.memo(function (_a) {\n    var nodeId = _a.nodeId;\n    var t = useUiTranslator().t;\n    var removeCell = useRemoveCell(nodeId);\n    return (React.createElement(\"div\", { style: { display: 'flex', alignItems: 'center' } },\n        React.createElement(I18nTools, { nodeId: nodeId }),\n        React.createElement(DraftSwitch, { nodeId: nodeId }),\n        React.createElement(DuplicateButton, { nodeId: nodeId }),\n        React.createElement(SelectParentButton, { nodeId: nodeId }),\n        React.createElement(Tooltip, { title: t('Remove Plugin') },\n            React.createElement(IconButton, { onClick: function () { return removeCell(); }, \"aria-label\": \"delete\", color: \"secondary\" },\n                React.createElement(Delete, null)))));\n});\n//# sourceMappingURL=Tools.js.map","import { Avatar, Grid, Typography } from '@material-ui/core';\nimport React from 'react';\nimport { usePluginOfCell, useUiTranslator } from '../../core/components/hooks';\nimport { BottomToolbarTools } from './Tools';\nexport var BottomToolbarMainBar = React.memo(function (_a) {\n    var _b;\n    var nodeId = _a.nodeId, actionsLeft = _a.actionsLeft;\n    var _c = (_b = usePluginOfCell(nodeId)) !== null && _b !== void 0 ? _b : {}, title = _c.title, icon = _c.icon;\n    var t = useUiTranslator().t;\n    return (React.createElement(\"div\", null,\n        React.createElement(Grid, { container: true, direction: \"row\", alignItems: \"center\" },\n            icon || title ? (React.createElement(Grid, { item: true },\n                React.createElement(Avatar, { children: icon || (title ? title[0] : ''), style: {\n                        marginRight: 16,\n                    } }))) : null,\n            React.createElement(Grid, { item: true },\n                React.createElement(Typography, { variant: \"subtitle1\" }, t(title))),\n            React.Children.map(actionsLeft, function (action, index) { return (React.createElement(Grid, { item: true, key: index }, action)); }),\n            React.createElement(Grid, { item: true, style: { marginLeft: 'auto' } },\n                React.createElement(BottomToolbarTools, { nodeId: nodeId })))));\n});\n//# sourceMappingURL=NodeTools.js.map","import { IconButton, Tooltip } from '@material-ui/core';\nimport ScaleIcon from '@material-ui/icons/AspectRatio';\nimport React from 'react';\nimport { useUiTranslator } from '../../core/components/hooks';\nvar SCALING_FACTORS = [1, 0.8, 0.6, 1.2];\nvar lastScale = SCALING_FACTORS[0]; // poor mans redux\nexport var ScaleButton = function (_a) {\n    var scale = _a.scale, setScale = _a.setScale;\n    var t = useUiTranslator().t;\n    var toggleScale = React.useCallback(function () {\n        var newScalingFactor = SCALING_FACTORS[(SCALING_FACTORS.indexOf(lastScale !== null && lastScale !== void 0 ? lastScale : scale) + 1) %\n            SCALING_FACTORS.length];\n        setScale(newScalingFactor);\n        // poor man's redux\n        lastScale = newScalingFactor;\n    }, [scale, lastScale, setScale]);\n    return (React.createElement(Tooltip, { title: t('Change size of this window') },\n        React.createElement(IconButton, { onClick: toggleScale, \"aria-label\": \"Change size of this window\", color: \"primary\" },\n            React.createElement(ScaleIcon, null))));\n};\n//# sourceMappingURL=ScaleButton.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport React from 'react';\nimport { darkTheme, ThemeProvider } from '../ThemeProvider';\nimport { BottomToolbarDrawer } from './Drawer';\nimport { BottomToolbarMainBar } from './NodeTools';\nimport { ScaleButton } from './ScaleButton';\nexport * from './types';\nexport * from './Drawer';\nexport * from './NodeTools';\nexport * from './Tools';\nexport var BottomToolbar = React.memo(function (_a) {\n    var _b = _a.open, open = _b === void 0 ? false : _b, className = _a.className, _c = _a.dark, dark = _c === void 0 ? false : _c, theme = _a.theme, _d = _a.anchor, anchor = _d === void 0 ? 'bottom' : _d, pluginControls = _a.pluginControls, nodeId = _a.nodeId, actionsLeft = _a.actionsLeft, style = _a.style, children = _a.children;\n    var _e = __read(React.useState(1), 2), scale = _e[0], setScale = _e[1];\n    return (React.createElement(ThemeProvider, { theme: theme ? theme : dark ? darkTheme : null },\n        React.createElement(BottomToolbarDrawer, { className: className, open: open, anchor: anchor, scale: scale, dark: dark, style: style },\n            children,\n            pluginControls,\n            React.createElement(BottomToolbarMainBar, { nodeId: nodeId, actionsLeft: __spread([\n                    React.createElement(ScaleButton, { key: \"scalebutton\", scale: scale, setScale: setScale })\n                ], React.Children.toArray(actionsLeft)) }))));\n});\n//# sourceMappingURL=index.js.map","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport ButtonBase from '../ButtonBase';\nimport capitalize from '../utils/capitalize';\nimport unsupportedProp from '../utils/unsupportedProp';\nexport var styles = function styles(theme) {\n  var _extends2;\n\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.button, (_extends2 = {\n      maxWidth: 264,\n      minWidth: 72,\n      position: 'relative',\n      boxSizing: 'border-box',\n      minHeight: 48,\n      flexShrink: 0,\n      padding: '6px 12px'\n    }, _defineProperty(_extends2, theme.breakpoints.up('sm'), {\n      padding: '6px 24px'\n    }), _defineProperty(_extends2, \"overflow\", 'hidden'), _defineProperty(_extends2, \"whiteSpace\", 'normal'), _defineProperty(_extends2, \"textAlign\", 'center'), _defineProperty(_extends2, theme.breakpoints.up('sm'), {\n      minWidth: 160\n    }), _extends2)),\n\n    /* Styles applied to the root element if both `icon` and `label` are provided. */\n    labelIcon: {\n      minHeight: 72,\n      paddingTop: 9,\n      '& $wrapper > *:first-child': {\n        marginBottom: 6\n      }\n    },\n\n    /* Styles applied to the root element if the parent [`Tabs`](/api/tabs/) has `textColor=\"inherit\"`. */\n    textColorInherit: {\n      color: 'inherit',\n      opacity: 0.7,\n      '&$selected': {\n        opacity: 1\n      },\n      '&$disabled': {\n        opacity: 0.5\n      }\n    },\n\n    /* Styles applied to the root element if the parent [`Tabs`](/api/tabs/) has `textColor=\"primary\"`. */\n    textColorPrimary: {\n      color: theme.palette.text.secondary,\n      '&$selected': {\n        color: theme.palette.primary.main\n      },\n      '&$disabled': {\n        color: theme.palette.text.disabled\n      }\n    },\n\n    /* Styles applied to the root element if the parent [`Tabs`](/api/tabs/) has `textColor=\"secondary\"`. */\n    textColorSecondary: {\n      color: theme.palette.text.secondary,\n      '&$selected': {\n        color: theme.palette.secondary.main\n      },\n      '&$disabled': {\n        color: theme.palette.text.disabled\n      }\n    },\n\n    /* Pseudo-class applied to the root element if `selected={true}` (controlled by the Tabs component). */\n    selected: {},\n\n    /* Pseudo-class applied to the root element if `disabled={true}` (controlled by the Tabs component). */\n    disabled: {},\n\n    /* Styles applied to the root element if `fullWidth={true}` (controlled by the Tabs component). */\n    fullWidth: {\n      flexShrink: 1,\n      flexGrow: 1,\n      flexBasis: 0,\n      maxWidth: 'none'\n    },\n\n    /* Styles applied to the root element if `wrapped={true}`. */\n    wrapped: {\n      fontSize: theme.typography.pxToRem(12),\n      lineHeight: 1.5\n    },\n\n    /* Styles applied to the `icon` and `label`'s wrapper element. */\n    wrapper: {\n      display: 'inline-flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      width: '100%',\n      flexDirection: 'column'\n    }\n  };\n};\nvar Tab = /*#__PURE__*/React.forwardRef(function Tab(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      _props$disableFocusRi = props.disableFocusRipple,\n      disableFocusRipple = _props$disableFocusRi === void 0 ? false : _props$disableFocusRi,\n      fullWidth = props.fullWidth,\n      icon = props.icon,\n      indicator = props.indicator,\n      label = props.label,\n      onChange = props.onChange,\n      onClick = props.onClick,\n      onFocus = props.onFocus,\n      selected = props.selected,\n      selectionFollowsFocus = props.selectionFollowsFocus,\n      _props$textColor = props.textColor,\n      textColor = _props$textColor === void 0 ? 'inherit' : _props$textColor,\n      value = props.value,\n      _props$wrapped = props.wrapped,\n      wrapped = _props$wrapped === void 0 ? false : _props$wrapped,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"disabled\", \"disableFocusRipple\", \"fullWidth\", \"icon\", \"indicator\", \"label\", \"onChange\", \"onClick\", \"onFocus\", \"selected\", \"selectionFollowsFocus\", \"textColor\", \"value\", \"wrapped\"]);\n\n  var handleClick = function handleClick(event) {\n    if (onChange) {\n      onChange(event, value);\n    }\n\n    if (onClick) {\n      onClick(event);\n    }\n  };\n\n  var handleFocus = function handleFocus(event) {\n    if (selectionFollowsFocus && !selected && onChange) {\n      onChange(event, value);\n    }\n\n    if (onFocus) {\n      onFocus(event);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(ButtonBase, _extends({\n    focusRipple: !disableFocusRipple,\n    className: clsx(classes.root, classes[\"textColor\".concat(capitalize(textColor))], className, disabled && classes.disabled, selected && classes.selected, label && icon && classes.labelIcon, fullWidth && classes.fullWidth, wrapped && classes.wrapped),\n    ref: ref,\n    role: \"tab\",\n    \"aria-selected\": selected,\n    disabled: disabled,\n    onClick: handleClick,\n    onFocus: handleFocus,\n    tabIndex: selected ? 0 : -1\n  }, other), /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.wrapper\n  }, icon, label), indicator);\n});\nprocess.env.NODE_ENV !== \"production\" ? Tab.propTypes = {\n  /**\n   * This prop isn't supported.\n   * Use the `component` prop if you need to change the children structure.\n   */\n  children: unsupportedProp,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the tab will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the  keyboard focus ripple will be disabled.\n   */\n  disableFocusRipple: PropTypes.bool,\n\n  /**\n   * If `true`, the ripple effect will be disabled.\n   */\n  disableRipple: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  fullWidth: PropTypes.bool,\n\n  /**\n   * The icon element.\n   */\n  icon: PropTypes.node,\n\n  /**\n   * @ignore\n   * For server-side rendering consideration, we let the selected tab\n   * render the indicator.\n   */\n  indicator: PropTypes.node,\n\n  /**\n   * The label element.\n   */\n  label: PropTypes.node,\n\n  /**\n   * @ignore\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  selected: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  selectionFollowsFocus: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  textColor: PropTypes.oneOf(['secondary', 'primary', 'inherit']),\n\n  /**\n   * You can provide your own value. Otherwise, we fallback to the child position index.\n   */\n  value: PropTypes.any,\n\n  /**\n   * Tab labels appear in a single row.\n   * They can use a second line if needed.\n   */\n  wrapped: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiTab'\n})(Tab);","function easeInOutSin(time) {\n  return (1 + Math.sin(Math.PI * time - Math.PI / 2)) / 2;\n}\n\nexport default function animate(property, element, to) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var cb = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : function () {};\n  var _options$ease = options.ease,\n      ease = _options$ease === void 0 ? easeInOutSin : _options$ease,\n      _options$duration = options.duration,\n      duration = _options$duration === void 0 ? 300 : _options$duration;\n  var start = null;\n  var from = element[property];\n  var cancelled = false;\n\n  var cancel = function cancel() {\n    cancelled = true;\n  };\n\n  var step = function step(timestamp) {\n    if (cancelled) {\n      cb(new Error('Animation cancelled'));\n      return;\n    }\n\n    if (start === null) {\n      start = timestamp;\n    }\n\n    var time = Math.min(1, (timestamp - start) / duration);\n    element[property] = ease(time) * (to - from) + from;\n\n    if (time >= 1) {\n      requestAnimationFrame(function () {\n        cb(null);\n      });\n      return;\n    }\n\n    requestAnimationFrame(step);\n  };\n\n  if (from === to) {\n    cb(new Error('Element already at target position'));\n    return cancel;\n  }\n\n  requestAnimationFrame(step);\n  return cancel;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport debounce from '../utils/debounce';\nvar styles = {\n  width: 99,\n  height: 99,\n  position: 'absolute',\n  top: -9999,\n  overflow: 'scroll'\n};\n/**\n * @ignore - internal component.\n * The component originates from https://github.com/STORIS/react-scrollbar-size.\n * It has been moved into the core in order to minimize the bundle size.\n */\n\nexport default function ScrollbarSize(props) {\n  var onChange = props.onChange,\n      other = _objectWithoutProperties(props, [\"onChange\"]);\n\n  var scrollbarHeight = React.useRef();\n  var nodeRef = React.useRef(null);\n\n  var setMeasurements = function setMeasurements() {\n    scrollbarHeight.current = nodeRef.current.offsetHeight - nodeRef.current.clientHeight;\n  };\n\n  React.useEffect(function () {\n    var handleResize = debounce(function () {\n      var prevHeight = scrollbarHeight.current;\n      setMeasurements();\n\n      if (prevHeight !== scrollbarHeight.current) {\n        onChange(scrollbarHeight.current);\n      }\n    });\n    window.addEventListener('resize', handleResize);\n    return function () {\n      handleResize.clear();\n      window.removeEventListener('resize', handleResize);\n    };\n  }, [onChange]);\n  React.useEffect(function () {\n    setMeasurements();\n    onChange(scrollbarHeight.current);\n  }, [onChange]);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    style: styles,\n    ref: nodeRef\n  }, other));\n}\nprocess.env.NODE_ENV !== \"production\" ? ScrollbarSize.propTypes = {\n  onChange: PropTypes.func.isRequired\n} : void 0;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    root: {\n      position: 'absolute',\n      height: 2,\n      bottom: 0,\n      width: '100%',\n      transition: theme.transitions.create()\n    },\n    colorPrimary: {\n      backgroundColor: theme.palette.primary.main\n    },\n    colorSecondary: {\n      backgroundColor: theme.palette.secondary.main\n    },\n    vertical: {\n      height: '100%',\n      width: 2,\n      right: 0\n    }\n  };\n};\n/**\n * @ignore - internal component.\n */\n\nvar TabIndicator = /*#__PURE__*/React.forwardRef(function TabIndicator(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      color = props.color,\n      orientation = props.orientation,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"orientation\"]);\n\n  return /*#__PURE__*/React.createElement(\"span\", _extends({\n    className: clsx(classes.root, classes[\"color\".concat(capitalize(color))], className, orientation === 'vertical' && classes.vertical),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? TabIndicator.propTypes = {\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * @ignore\n   * The color of the tab indicator.\n   */\n  color: PropTypes.oneOf(['primary', 'secondary']).isRequired,\n\n  /**\n   * The tabs orientation (layout flow direction).\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']).isRequired\n} : void 0;\nexport default withStyles(styles, {\n  name: 'PrivateTabIndicator'\n})(TabIndicator);","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z\"\n}), 'KeyboardArrowLeft');","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z\"\n}), 'KeyboardArrowRight');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\n/* eslint-disable jsx-a11y/aria-role */\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport KeyboardArrowLeft from '../internal/svg-icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '../internal/svg-icons/KeyboardArrowRight';\nimport withStyles from '../styles/withStyles';\nimport ButtonBase from '../ButtonBase';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    width: 40,\n    flexShrink: 0,\n    opacity: 0.8,\n    '&$disabled': {\n      opacity: 0\n    }\n  },\n\n  /* Styles applied to the root element if `orientation=\"vertical\"`. */\n  vertical: {\n    width: '100%',\n    height: 40,\n    '& svg': {\n      transform: 'rotate(90deg)'\n    }\n  },\n\n  /* Pseudo-class applied to the root element if `disabled={true}`. */\n  disabled: {}\n};\n\nvar _ref = /*#__PURE__*/React.createElement(KeyboardArrowLeft, {\n  fontSize: \"small\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(KeyboardArrowRight, {\n  fontSize: \"small\"\n});\n\nvar TabScrollButton = /*#__PURE__*/React.forwardRef(function TabScrollButton(props, ref) {\n  var classes = props.classes,\n      classNameProp = props.className,\n      direction = props.direction,\n      orientation = props.orientation,\n      disabled = props.disabled,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"direction\", \"orientation\", \"disabled\"]);\n\n  return /*#__PURE__*/React.createElement(ButtonBase, _extends({\n    component: \"div\",\n    className: clsx(classes.root, classNameProp, disabled && classes.disabled, orientation === 'vertical' && classes.vertical),\n    ref: ref,\n    role: null,\n    tabIndex: null\n  }, other), direction === 'left' ? _ref : _ref2);\n});\nprocess.env.NODE_ENV !== \"production\" ? TabScrollButton.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * Which direction should the button indicate?\n   */\n  direction: PropTypes.oneOf(['left', 'right']).isRequired,\n\n  /**\n   * If `true`, the element will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * The tabs orientation (layout flow direction).\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']).isRequired\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiTabScrollButton'\n})(TabScrollButton);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport { isFragment } from 'react-is';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { refType } from '@material-ui/utils';\nimport debounce from '../utils/debounce';\nimport ownerWindow from '../utils/ownerWindow';\nimport { getNormalizedScrollLeft, detectScrollType } from '../utils/scrollLeft';\nimport animate from '../internal/animate';\nimport ScrollbarSize from './ScrollbarSize';\nimport withStyles from '../styles/withStyles';\nimport TabIndicator from './TabIndicator';\nimport TabScrollButton from '../TabScrollButton';\nimport useEventCallback from '../utils/useEventCallback';\nimport useTheme from '../styles/useTheme';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      overflow: 'hidden',\n      minHeight: 48,\n      WebkitOverflowScrolling: 'touch',\n      // Add iOS momentum scrolling.\n      display: 'flex'\n    },\n\n    /* Styles applied to the root element if `orientation=\"vertical\"`. */\n    vertical: {\n      flexDirection: 'column'\n    },\n\n    /* Styles applied to the flex container element. */\n    flexContainer: {\n      display: 'flex'\n    },\n\n    /* Styles applied to the flex container element if `orientation=\"vertical\"`. */\n    flexContainerVertical: {\n      flexDirection: 'column'\n    },\n\n    /* Styles applied to the flex container element if `centered={true}` & `!variant=\"scrollable\"`. */\n    centered: {\n      justifyContent: 'center'\n    },\n\n    /* Styles applied to the tablist element. */\n    scroller: {\n      position: 'relative',\n      display: 'inline-block',\n      flex: '1 1 auto',\n      whiteSpace: 'nowrap'\n    },\n\n    /* Styles applied to the tablist element if `!variant=\"scrollable\"`\b\b\b. */\n    fixed: {\n      overflowX: 'hidden',\n      width: '100%'\n    },\n\n    /* Styles applied to the tablist element if `variant=\"scrollable\"`. */\n    scrollable: {\n      overflowX: 'scroll',\n      // Hide dimensionless scrollbar on MacOS\n      scrollbarWidth: 'none',\n      // Firefox\n      '&::-webkit-scrollbar': {\n        display: 'none' // Safari + Chrome\n\n      }\n    },\n\n    /* Styles applied to the `ScrollButtonComponent` component. */\n    scrollButtons: {},\n\n    /* Styles applied to the `ScrollButtonComponent` component if `scrollButtons=\"auto\"` or scrollButtons=\"desktop\"`. */\n    scrollButtonsDesktop: _defineProperty({}, theme.breakpoints.down('xs'), {\n      display: 'none'\n    }),\n\n    /* Styles applied to the `TabIndicator` component. */\n    indicator: {}\n  };\n};\nvar Tabs = /*#__PURE__*/React.forwardRef(function Tabs(props, ref) {\n  var ariaLabel = props['aria-label'],\n      ariaLabelledBy = props['aria-labelledby'],\n      action = props.action,\n      _props$centered = props.centered,\n      centered = _props$centered === void 0 ? false : _props$centered,\n      childrenProp = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      _props$indicatorColor = props.indicatorColor,\n      indicatorColor = _props$indicatorColor === void 0 ? 'secondary' : _props$indicatorColor,\n      onChange = props.onChange,\n      _props$orientation = props.orientation,\n      orientation = _props$orientation === void 0 ? 'horizontal' : _props$orientation,\n      _props$ScrollButtonCo = props.ScrollButtonComponent,\n      ScrollButtonComponent = _props$ScrollButtonCo === void 0 ? TabScrollButton : _props$ScrollButtonCo,\n      _props$scrollButtons = props.scrollButtons,\n      scrollButtons = _props$scrollButtons === void 0 ? 'auto' : _props$scrollButtons,\n      selectionFollowsFocus = props.selectionFollowsFocus,\n      _props$TabIndicatorPr = props.TabIndicatorProps,\n      TabIndicatorProps = _props$TabIndicatorPr === void 0 ? {} : _props$TabIndicatorPr,\n      TabScrollButtonProps = props.TabScrollButtonProps,\n      _props$textColor = props.textColor,\n      textColor = _props$textColor === void 0 ? 'inherit' : _props$textColor,\n      value = props.value,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'standard' : _props$variant,\n      other = _objectWithoutProperties(props, [\"aria-label\", \"aria-labelledby\", \"action\", \"centered\", \"children\", \"classes\", \"className\", \"component\", \"indicatorColor\", \"onChange\", \"orientation\", \"ScrollButtonComponent\", \"scrollButtons\", \"selectionFollowsFocus\", \"TabIndicatorProps\", \"TabScrollButtonProps\", \"textColor\", \"value\", \"variant\"]);\n\n  var theme = useTheme();\n  var scrollable = variant === 'scrollable';\n  var isRtl = theme.direction === 'rtl';\n  var vertical = orientation === 'vertical';\n  var scrollStart = vertical ? 'scrollTop' : 'scrollLeft';\n  var start = vertical ? 'top' : 'left';\n  var end = vertical ? 'bottom' : 'right';\n  var clientSize = vertical ? 'clientHeight' : 'clientWidth';\n  var size = vertical ? 'height' : 'width';\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (centered && scrollable) {\n      console.error('Material-UI: You can not use the `centered={true}` and `variant=\"scrollable\"` properties ' + 'at the same time on a `Tabs` component.');\n    }\n  }\n\n  var _React$useState = React.useState(false),\n      mounted = _React$useState[0],\n      setMounted = _React$useState[1];\n\n  var _React$useState2 = React.useState({}),\n      indicatorStyle = _React$useState2[0],\n      setIndicatorStyle = _React$useState2[1];\n\n  var _React$useState3 = React.useState({\n    start: false,\n    end: false\n  }),\n      displayScroll = _React$useState3[0],\n      setDisplayScroll = _React$useState3[1];\n\n  var _React$useState4 = React.useState({\n    overflow: 'hidden',\n    marginBottom: null\n  }),\n      scrollerStyle = _React$useState4[0],\n      setScrollerStyle = _React$useState4[1];\n\n  var valueToIndex = new Map();\n  var tabsRef = React.useRef(null);\n  var tabListRef = React.useRef(null);\n\n  var getTabsMeta = function getTabsMeta() {\n    var tabsNode = tabsRef.current;\n    var tabsMeta;\n\n    if (tabsNode) {\n      var rect = tabsNode.getBoundingClientRect(); // create a new object with ClientRect class props + scrollLeft\n\n      tabsMeta = {\n        clientWidth: tabsNode.clientWidth,\n        scrollLeft: tabsNode.scrollLeft,\n        scrollTop: tabsNode.scrollTop,\n        scrollLeftNormalized: getNormalizedScrollLeft(tabsNode, theme.direction),\n        scrollWidth: tabsNode.scrollWidth,\n        top: rect.top,\n        bottom: rect.bottom,\n        left: rect.left,\n        right: rect.right\n      };\n    }\n\n    var tabMeta;\n\n    if (tabsNode && value !== false) {\n      var _children = tabListRef.current.children;\n\n      if (_children.length > 0) {\n        var tab = _children[valueToIndex.get(value)];\n\n        if (process.env.NODE_ENV !== 'production') {\n          if (!tab) {\n            console.error([\"Material-UI: The value provided to the Tabs component is invalid.\", \"None of the Tabs' children match with `\".concat(value, \"`.\"), valueToIndex.keys ? \"You can provide one of the following values: \".concat(Array.from(valueToIndex.keys()).join(', '), \".\") : null].join('\\n'));\n          }\n        }\n\n        tabMeta = tab ? tab.getBoundingClientRect() : null;\n      }\n    }\n\n    return {\n      tabsMeta: tabsMeta,\n      tabMeta: tabMeta\n    };\n  };\n\n  var updateIndicatorState = useEventCallback(function () {\n    var _newIndicatorStyle;\n\n    var _getTabsMeta = getTabsMeta(),\n        tabsMeta = _getTabsMeta.tabsMeta,\n        tabMeta = _getTabsMeta.tabMeta;\n\n    var startValue = 0;\n\n    if (tabMeta && tabsMeta) {\n      if (vertical) {\n        startValue = tabMeta.top - tabsMeta.top + tabsMeta.scrollTop;\n      } else {\n        var correction = isRtl ? tabsMeta.scrollLeftNormalized + tabsMeta.clientWidth - tabsMeta.scrollWidth : tabsMeta.scrollLeft;\n        startValue = tabMeta.left - tabsMeta.left + correction;\n      }\n    }\n\n    var newIndicatorStyle = (_newIndicatorStyle = {}, _defineProperty(_newIndicatorStyle, start, startValue), _defineProperty(_newIndicatorStyle, size, tabMeta ? tabMeta[size] : 0), _newIndicatorStyle);\n\n    if (isNaN(indicatorStyle[start]) || isNaN(indicatorStyle[size])) {\n      setIndicatorStyle(newIndicatorStyle);\n    } else {\n      var dStart = Math.abs(indicatorStyle[start] - newIndicatorStyle[start]);\n      var dSize = Math.abs(indicatorStyle[size] - newIndicatorStyle[size]);\n\n      if (dStart >= 1 || dSize >= 1) {\n        setIndicatorStyle(newIndicatorStyle);\n      }\n    }\n  });\n\n  var scroll = function scroll(scrollValue) {\n    animate(scrollStart, tabsRef.current, scrollValue);\n  };\n\n  var moveTabsScroll = function moveTabsScroll(delta) {\n    var scrollValue = tabsRef.current[scrollStart];\n\n    if (vertical) {\n      scrollValue += delta;\n    } else {\n      scrollValue += delta * (isRtl ? -1 : 1); // Fix for Edge\n\n      scrollValue *= isRtl && detectScrollType() === 'reverse' ? -1 : 1;\n    }\n\n    scroll(scrollValue);\n  };\n\n  var handleStartScrollClick = function handleStartScrollClick() {\n    moveTabsScroll(-tabsRef.current[clientSize]);\n  };\n\n  var handleEndScrollClick = function handleEndScrollClick() {\n    moveTabsScroll(tabsRef.current[clientSize]);\n  };\n\n  var handleScrollbarSizeChange = React.useCallback(function (scrollbarHeight) {\n    setScrollerStyle({\n      overflow: null,\n      marginBottom: -scrollbarHeight\n    });\n  }, []);\n\n  var getConditionalElements = function getConditionalElements() {\n    var conditionalElements = {};\n    conditionalElements.scrollbarSizeListener = scrollable ? /*#__PURE__*/React.createElement(ScrollbarSize, {\n      className: classes.scrollable,\n      onChange: handleScrollbarSizeChange\n    }) : null;\n    var scrollButtonsActive = displayScroll.start || displayScroll.end;\n    var showScrollButtons = scrollable && (scrollButtons === 'auto' && scrollButtonsActive || scrollButtons === 'desktop' || scrollButtons === 'on');\n    conditionalElements.scrollButtonStart = showScrollButtons ? /*#__PURE__*/React.createElement(ScrollButtonComponent, _extends({\n      orientation: orientation,\n      direction: isRtl ? 'right' : 'left',\n      onClick: handleStartScrollClick,\n      disabled: !displayScroll.start,\n      className: clsx(classes.scrollButtons, scrollButtons !== 'on' && classes.scrollButtonsDesktop)\n    }, TabScrollButtonProps)) : null;\n    conditionalElements.scrollButtonEnd = showScrollButtons ? /*#__PURE__*/React.createElement(ScrollButtonComponent, _extends({\n      orientation: orientation,\n      direction: isRtl ? 'left' : 'right',\n      onClick: handleEndScrollClick,\n      disabled: !displayScroll.end,\n      className: clsx(classes.scrollButtons, scrollButtons !== 'on' && classes.scrollButtonsDesktop)\n    }, TabScrollButtonProps)) : null;\n    return conditionalElements;\n  };\n\n  var scrollSelectedIntoView = useEventCallback(function () {\n    var _getTabsMeta2 = getTabsMeta(),\n        tabsMeta = _getTabsMeta2.tabsMeta,\n        tabMeta = _getTabsMeta2.tabMeta;\n\n    if (!tabMeta || !tabsMeta) {\n      return;\n    }\n\n    if (tabMeta[start] < tabsMeta[start]) {\n      // left side of button is out of view\n      var nextScrollStart = tabsMeta[scrollStart] + (tabMeta[start] - tabsMeta[start]);\n      scroll(nextScrollStart);\n    } else if (tabMeta[end] > tabsMeta[end]) {\n      // right side of button is out of view\n      var _nextScrollStart = tabsMeta[scrollStart] + (tabMeta[end] - tabsMeta[end]);\n\n      scroll(_nextScrollStart);\n    }\n  });\n  var updateScrollButtonState = useEventCallback(function () {\n    if (scrollable && scrollButtons !== 'off') {\n      var _tabsRef$current = tabsRef.current,\n          scrollTop = _tabsRef$current.scrollTop,\n          scrollHeight = _tabsRef$current.scrollHeight,\n          clientHeight = _tabsRef$current.clientHeight,\n          scrollWidth = _tabsRef$current.scrollWidth,\n          clientWidth = _tabsRef$current.clientWidth;\n      var showStartScroll;\n      var showEndScroll;\n\n      if (vertical) {\n        showStartScroll = scrollTop > 1;\n        showEndScroll = scrollTop < scrollHeight - clientHeight - 1;\n      } else {\n        var scrollLeft = getNormalizedScrollLeft(tabsRef.current, theme.direction); // use 1 for the potential rounding error with browser zooms.\n\n        showStartScroll = isRtl ? scrollLeft < scrollWidth - clientWidth - 1 : scrollLeft > 1;\n        showEndScroll = !isRtl ? scrollLeft < scrollWidth - clientWidth - 1 : scrollLeft > 1;\n      }\n\n      if (showStartScroll !== displayScroll.start || showEndScroll !== displayScroll.end) {\n        setDisplayScroll({\n          start: showStartScroll,\n          end: showEndScroll\n        });\n      }\n    }\n  });\n  React.useEffect(function () {\n    var handleResize = debounce(function () {\n      updateIndicatorState();\n      updateScrollButtonState();\n    });\n    var win = ownerWindow(tabsRef.current);\n    win.addEventListener('resize', handleResize);\n    return function () {\n      handleResize.clear();\n      win.removeEventListener('resize', handleResize);\n    };\n  }, [updateIndicatorState, updateScrollButtonState]);\n  var handleTabsScroll = React.useCallback(debounce(function () {\n    updateScrollButtonState();\n  }));\n  React.useEffect(function () {\n    return function () {\n      handleTabsScroll.clear();\n    };\n  }, [handleTabsScroll]);\n  React.useEffect(function () {\n    setMounted(true);\n  }, []);\n  React.useEffect(function () {\n    updateIndicatorState();\n    updateScrollButtonState();\n  });\n  React.useEffect(function () {\n    scrollSelectedIntoView();\n  }, [scrollSelectedIntoView, indicatorStyle]);\n  React.useImperativeHandle(action, function () {\n    return {\n      updateIndicator: updateIndicatorState,\n      updateScrollButtons: updateScrollButtonState\n    };\n  }, [updateIndicatorState, updateScrollButtonState]);\n  var indicator = /*#__PURE__*/React.createElement(TabIndicator, _extends({\n    className: classes.indicator,\n    orientation: orientation,\n    color: indicatorColor\n  }, TabIndicatorProps, {\n    style: _extends({}, indicatorStyle, TabIndicatorProps.style)\n  }));\n  var childIndex = 0;\n  var children = React.Children.map(childrenProp, function (child) {\n    if (! /*#__PURE__*/React.isValidElement(child)) {\n      return null;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (isFragment(child)) {\n        console.error([\"Material-UI: The Tabs component doesn't accept a Fragment as a child.\", 'Consider providing an array instead.'].join('\\n'));\n      }\n    }\n\n    var childValue = child.props.value === undefined ? childIndex : child.props.value;\n    valueToIndex.set(childValue, childIndex);\n    var selected = childValue === value;\n    childIndex += 1;\n    return /*#__PURE__*/React.cloneElement(child, {\n      fullWidth: variant === 'fullWidth',\n      indicator: selected && !mounted && indicator,\n      selected: selected,\n      selectionFollowsFocus: selectionFollowsFocus,\n      onChange: onChange,\n      textColor: textColor,\n      value: childValue\n    });\n  });\n\n  var handleKeyDown = function handleKeyDown(event) {\n    var target = event.target; // Keyboard navigation assumes that [role=\"tab\"] are siblings\n    // though we might warn in the future about nested, interactive elements\n    // as a a11y violation\n\n    var role = target.getAttribute('role');\n\n    if (role !== 'tab') {\n      return;\n    }\n\n    var newFocusTarget = null;\n    var previousItemKey = orientation !== \"vertical\" ? 'ArrowLeft' : 'ArrowUp';\n    var nextItemKey = orientation !== \"vertical\" ? 'ArrowRight' : 'ArrowDown';\n\n    if (orientation !== \"vertical\" && theme.direction === 'rtl') {\n      // swap previousItemKey with nextItemKey\n      previousItemKey = 'ArrowRight';\n      nextItemKey = 'ArrowLeft';\n    }\n\n    switch (event.key) {\n      case previousItemKey:\n        newFocusTarget = target.previousElementSibling || tabListRef.current.lastChild;\n        break;\n\n      case nextItemKey:\n        newFocusTarget = target.nextElementSibling || tabListRef.current.firstChild;\n        break;\n\n      case 'Home':\n        newFocusTarget = tabListRef.current.firstChild;\n        break;\n\n      case 'End':\n        newFocusTarget = tabListRef.current.lastChild;\n        break;\n\n      default:\n        break;\n    }\n\n    if (newFocusTarget !== null) {\n      newFocusTarget.focus();\n      event.preventDefault();\n    }\n  };\n\n  var conditionalElements = getConditionalElements();\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className, vertical && classes.vertical),\n    ref: ref\n  }, other), conditionalElements.scrollButtonStart, conditionalElements.scrollbarSizeListener, /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(classes.scroller, scrollable ? classes.scrollable : classes.fixed),\n    style: scrollerStyle,\n    ref: tabsRef,\n    onScroll: handleTabsScroll\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    \"aria-label\": ariaLabel,\n    \"aria-labelledby\": ariaLabelledBy,\n    className: clsx(classes.flexContainer, vertical && classes.flexContainerVertical, centered && !scrollable && classes.centered),\n    onKeyDown: handleKeyDown,\n    ref: tabListRef,\n    role: \"tablist\"\n  }, children), mounted && indicator), conditionalElements.scrollButtonEnd);\n});\nprocess.env.NODE_ENV !== \"production\" ? Tabs.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Callback fired when the component mounts.\n   * This is useful when you want to trigger an action programmatically.\n   * It supports two actions: `updateIndicator()` and `updateScrollButtons()`\n   *\n   * @param {object} actions This object contains all possible actions\n   * that can be triggered programmatically.\n   */\n  action: refType,\n\n  /**\n   * The label for the Tabs as a string.\n   */\n  'aria-label': PropTypes.string,\n\n  /**\n   * An id or list of ids separated by a space that label the Tabs.\n   */\n  'aria-labelledby': PropTypes.string,\n\n  /**\n   * If `true`, the tabs will be centered.\n   * This property is intended for large views.\n   */\n  centered: PropTypes.bool,\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * Determines the color of the indicator.\n   */\n  indicatorColor: PropTypes.oneOf(['primary', 'secondary']),\n\n  /**\n   * Callback fired when the value changes.\n   *\n   * @param {object} event The event source of the callback\n   * @param {any} value We default to the index of the child (number)\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * The tabs orientation (layout flow direction).\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n  /**\n   * The component used to render the scroll buttons.\n   */\n  ScrollButtonComponent: PropTypes.elementType,\n\n  /**\n   * Determine behavior of scroll buttons when tabs are set to scroll:\n   *\n   * - `auto` will only present them when not all the items are visible.\n   * - `desktop` will only present them on medium and larger viewports.\n   * - `on` will always present them.\n   * - `off` will never present them.\n   */\n  scrollButtons: PropTypes.oneOf(['auto', 'desktop', 'off', 'on']),\n\n  /**\n   * If `true` the selected tab changes on focus. Otherwise it only\n   * changes on activation.\n   */\n  selectionFollowsFocus: PropTypes.bool,\n\n  /**\n   * Props applied to the tab indicator element.\n   */\n  TabIndicatorProps: PropTypes.object,\n\n  /**\n   * Props applied to the [`TabScrollButton`](/api/tab-scroll-button/) element.\n   */\n  TabScrollButtonProps: PropTypes.object,\n\n  /**\n   * Determines the color of the `Tab`.\n   */\n  textColor: PropTypes.oneOf(['inherit', 'primary', 'secondary']),\n\n  /**\n   * The value of the currently selected `Tab`.\n   * If you don't want any selected `Tab`, you can set this property to `false`.\n   */\n  value: PropTypes.any,\n\n  /**\n   * Determines additional display behavior of the tabs:\n   *\n   *  - `scrollable` will invoke scrolling properties and allow for horizontally\n   *  scrolling (or swiping) of the tab bar.\n   *  -`fullWidth` will make the tabs grow to use all the available space,\n   *  which should be used for small views, like on mobile.\n   *  - `standard` will render the default state.\n   */\n  variant: PropTypes.oneOf(['fullWidth', 'scrollable', 'standard'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiTabs'\n})(Tabs);","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { Tab, Tabs } from '@material-ui/core';\nimport { withStyles } from '@material-ui/styles';\nimport React, { useState } from 'react';\nimport { AutoformControls } from '../../../../ui';\nvar StyledTab = withStyles(function () { return ({\n    wrapper: {\n        alignItems: 'flex-start',\n    },\n}); })(Tab);\nvar StyledTabs = withStyles(function (theme) { return ({\n    root: {\n        marginTop: -12,\n        marginBottom: -12,\n        marginLeft: -24,\n        alignItems: 'flex-start',\n        backgroundColor: theme.palette.background.default,\n    },\n}); })(Tabs);\nvar ControlsList = React.memo(function (_a) {\n    var _b;\n    var controls = _a.controls, componentProps = _a.componentProps;\n    var _c = __read(useState(0), 2), tab = _c[0], setTab = _c[1];\n    var activeControls = (_b = controls[tab]) === null || _b === void 0 ? void 0 : _b.controls;\n    return (React.createElement(\"div\", { style: {\n            display: 'flex',\n            flexDirection: 'row',\n        } },\n        React.createElement(StyledTabs, { value: tab, onChange: function (e, v) { return setTab(v); }, orientation: \"vertical\", variant: \"scrollable\" }, controls.map(function (t, index) { return (React.createElement(StyledTab, { label: t.title, key: index })); })),\n        activeControls ? (React.createElement(\"div\", { style: {\n                flex: 1,\n                marginLeft: 24,\n                display: 'flex',\n            } },\n            React.createElement(Controls, { controls: activeControls, componentProps: componentProps }))) : null));\n});\nvar Controls = React.memo(function (_a) {\n    var controls = _a.controls, componentProps = _a.componentProps;\n    var pluginControls = null;\n    if (Array.isArray(controls)) {\n        return React.createElement(ControlsList, { componentProps: componentProps, controls: controls });\n    }\n    if ((controls === null || controls === void 0 ? void 0 : controls.type) === 'custom') {\n        var Component = controls.Component;\n        pluginControls = React.createElement(Component, __assign({}, componentProps, controls));\n    }\n    else if ((controls === null || controls === void 0 ? void 0 : controls.type) === 'autoform') {\n        pluginControls = React.createElement(AutoformControls, __assign({}, componentProps, controls));\n    }\n    return React.createElement(\"div\", { style: { overflow: 'auto', flex: 1 } }, pluginControls);\n});\nvar PluginControls = function (_a) {\n    var controls = _a.controls, componentProps = _a.componentProps;\n    return (React.createElement(\"div\", { style: {\n            maxHeight: '50vh',\n            // if it has tabs, stretch to avoid jumping tabs\n            width: Array.isArray(controls) ? '100vw' : undefined,\n            maxWidth: '100%',\n            display: 'flex',\n        } },\n        React.createElement(Controls, { controls: controls, componentProps: componentProps })));\n};\nexport default React.memo(PluginControls);\n//# sourceMappingURL=index.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nvar PluginMissing = function (_a) {\n    var children = _a.children, props = __rest(_a, [\"children\"]);\n    return (React.createElement(\"div\", null,\n        React.createElement(\"div\", { style: {\n                backgroundColor: 'red',\n                padding: '8px',\n                border: '1px solid black',\n                margin: '2px',\n                overflowX: 'scroll',\n            } },\n            \"The requested plugin `\",\n            props.pluginId,\n            \"` could not be found.\",\n            React.createElement(\"button\", { onClick: props.remove }, \"Delete Plugin\"),\n            React.createElement(\"pre\", null, JSON.stringify(props, null, 2))),\n        children));\n};\nexport default PluginMissing;\n//# sourceMappingURL=PluginMissing.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React, { useMemo } from 'react';\nimport { BottomToolbar } from '../../../../ui';\nimport { usePluginOfCell, useDebouncedCellData, useIsEditMode, useIsFocused, useIsPreviewMode, useLang, useRemoveCell, useOptions, useCellProps, } from '../../hooks';\nimport PluginControls from '../PluginControls';\nimport PluginMissing from '../PluginMissing';\nimport NoopProvider from '../NoopProvider';\nvar PluginComponent = function (_a) {\n    var _b, _c, _d, _e, _f, _g;\n    var nodeId = _a.nodeId, children = _a.children, hasChildren = _a.hasChildren;\n    var lang = useLang();\n    var CustomPluginMissing = (_c = (_b = useOptions()) === null || _b === void 0 ? void 0 : _b.components) === null || _c === void 0 ? void 0 : _c.CellPluginMissing;\n    var isPreviewMode = useIsPreviewMode();\n    var isEditMode = useIsEditMode();\n    var _h = __read(useDebouncedCellData(nodeId), 2), data = _h[0], onChange = _h[1];\n    var pluginId = useCellProps(nodeId, function (c) { var _a; return (_a = c.plugin) === null || _a === void 0 ? void 0 : _a.id; });\n    var plugin = usePluginOfCell(nodeId);\n    var focused = useIsFocused(nodeId);\n    var hasInlineNeighbour = useCellProps(nodeId, function (c) { return c.hasInlineNeighbour; });\n    var Renderer = plugin === null || plugin === void 0 ? void 0 : plugin.Renderer;\n    var Missing = CustomPluginMissing !== null && CustomPluginMissing !== void 0 ? CustomPluginMissing : PluginMissing;\n    var Provider = (_d = plugin === null || plugin === void 0 ? void 0 : plugin.Provider) !== null && _d !== void 0 ? _d : NoopProvider;\n    var remove = useRemoveCell(nodeId);\n    var Toolbar = (_f = (_e = useOptions().components) === null || _e === void 0 ? void 0 : _e.BottomToolbar) !== null && _f !== void 0 ? _f : BottomToolbar;\n    var componentProps = useMemo(function () { return ({\n        nodeId: nodeId,\n        lang: lang,\n        data: data,\n        pluginConfig: plugin,\n        focused: isEditMode && focused,\n        readOnly: !isEditMode,\n        onChange: onChange,\n        isEditMode: isEditMode,\n        isPreviewMode: isPreviewMode,\n        remove: remove,\n    }); }, [\n        nodeId,\n        lang,\n        data,\n        plugin,\n        isEditMode,\n        focused,\n        onChange,\n        isEditMode,\n        isPreviewMode,\n        remove,\n    ]);\n    // In case of non-zero cell spacing, nested layouts (layout plugins with children) should have their\n    // margin collapsing functionality off. The simplest solution is to use display:flex for the below wrapping <div>.\n    // This however is not compatible with inline elements flotation, so if a cell has inline neighbors, we are going\n    // to have to keep display:block style. Layout plugins with inline cell support will have to take care of\n    // margin collapsing internally on their own.\n    var display = hasInlineNeighbour\n        ? {}\n        : {\n            display: 'flex',\n            flexDirection: 'column',\n        };\n    return (React.createElement(Provider, __assign({}, componentProps),\n        React.createElement(React.Fragment, null,\n            React.createElement(\"div\", { style: __assign(__assign({}, display), { height: '100%', pointerEvents: !isPreviewMode &&\n                        plugin &&\n                        !(plugin === null || plugin === void 0 ? void 0 : plugin.allowClickInside) &&\n                        !hasChildren\n                        ? 'none'\n                        : undefined }) }, Renderer ? (React.createElement(Renderer, __assign({}, componentProps), children)) : pluginId ? (React.createElement(Missing, __assign({}, componentProps, { pluginId: pluginId }))) : (children)),\n            React.createElement(Toolbar, { nodeId: nodeId, open: focused && isEditMode, dark: (_g = plugin === null || plugin === void 0 ? void 0 : plugin.bottomToolbar) === null || _g === void 0 ? void 0 : _g.dark, pluginControls: (plugin === null || plugin === void 0 ? void 0 : plugin.controls) ? (React.createElement(PluginControls, { componentProps: componentProps, controls: plugin === null || plugin === void 0 ? void 0 : plugin.controls })) : null }))));\n};\nexport default PluginComponent;\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React from 'react';\nimport { getPluginCellSpacing, normalizeCellSpacing, } from '../../../utils/getCellSpacing';\nimport { useCellHasPlugin, useFocusCell, useIsEditMode, useIsFocused, useIsPreviewMode, useNodeChildrenIds, usePluginOfCell, useSetEditMode, useCellSpacing, useCellData, useCellSpacingProvider, useOptions, useCellInnerDivStylingProps, } from '../../hooks';\nimport Row from '../../Row';\nimport Draggable from '../Draggable';\nimport Droppable from '../Droppable';\nimport InsertNew from '../InsertNew';\nimport PluginComponent from '../PluginComponent';\nvar Inner = function (_a) {\n    var _b, _c, _d, _e;\n    var nodeId = _a.nodeId;\n    var isPreviewMode = useIsPreviewMode();\n    var isEditMode = useIsEditMode();\n    var cellShouldHavePlugin = useCellHasPlugin(nodeId);\n    var plugin = usePluginOfCell(nodeId);\n    var setEditMode = useSetEditMode();\n    var focus = useFocusCell(nodeId);\n    var focused = useIsFocused(nodeId);\n    var childrenIds = useNodeChildrenIds(nodeId);\n    var cellSpacingY = useCellSpacing().y;\n    var ref = React.useRef();\n    var hasChildren = childrenIds.length > 0;\n    var data = useCellData(nodeId);\n    var pluginCellSpacing = getPluginCellSpacing(plugin, data);\n    var _f = __read(useCellSpacingProvider(pluginCellSpacing), 2), Provider = _f[0], providerValue = _f[1];\n    if (typeof pluginCellSpacing !== 'undefined' && pluginCellSpacing != null) {\n        cellSpacingY = normalizeCellSpacing(pluginCellSpacing).y;\n    }\n    var onClick = React.useCallback(function (e) {\n        var _a;\n        var target = e.target;\n        // check whether the click was inside cell-inner, but not inside a nested cell\n        if (!focused &&\n            isEditMode &&\n            // this arrives when they stop resizing\n            !((_a = target.classList) === null || _a === void 0 ? void 0 : _a.contains('react-page-row')) && (target === null || target === void 0 ? void 0 : target.closest) &&\n            target.closest('.react-page-cell-inner') === ref.current &&\n            target.closest('.react-page-cell.react-page-cell-has-plugin') ===\n                ref.current.closest('.react-page-cell')) {\n            focus(false, 'onClick');\n            setEditMode();\n        }\n    }, [focus, focused, isEditMode, setEditMode]);\n    var insertAllowed = ((_b = plugin === null || plugin === void 0 ? void 0 : plugin.childConstraints) === null || _b === void 0 ? void 0 : _b.maxChildren) ? ((_c = plugin === null || plugin === void 0 ? void 0 : plugin.childConstraints) === null || _c === void 0 ? void 0 : _c.maxChildren) > childrenIds.length\n        : true;\n    var innerDivProps = useCellInnerDivStylingProps(nodeId);\n    var children = childrenIds.map(function (id) { return React.createElement(Row, { nodeId: id, key: id }); });\n    var options = useOptions();\n    var InsertNewWithDefault = (_e = (_d = options.components) === null || _d === void 0 ? void 0 : _d.InsertNew) !== null && _e !== void 0 ? _e : InsertNew;\n    if (!cellShouldHavePlugin) {\n        return React.createElement(Droppable, { nodeId: nodeId }, children);\n    }\n    return (React.createElement(Droppable, { nodeId: nodeId, isLeaf: !hasChildren },\n        React.createElement(Draggable, { nodeId: nodeId, isLeaf: !hasChildren },\n            React.createElement(\"div\", __assign({ onClick: !isPreviewMode ? onClick : undefined, tabIndex: -1, ref: ref }, innerDivProps),\n                React.createElement(PluginComponent, { nodeId: nodeId, hasChildren: hasChildren },\n                    hasChildren ? (React.createElement(Provider, { value: providerValue },\n                        React.createElement(\"div\", { style: cellSpacingY !== 0\n                                ? { margin: -cellSpacingY / 2 + \"px 0\" }\n                                : undefined }, children))) : (children),\n                    insertAllowed ? (React.createElement(InsertNewWithDefault, { parentCellId: nodeId, childrenIds: childrenIds })) : null)))));\n};\nexport default React.memo(Inner);\n//# sourceMappingURL=index.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useFocusCell, useIsLayoutMode, useOptions, usePluginOfCell, useUiTranslator, } from '../../hooks';\nimport { useDragHandle } from '../Draggable/useDragHandle';\nvar Handle = function (_a) {\n    var nodeId = _a.nodeId;\n    var options = useOptions();\n    var isLayoutMode = useIsLayoutMode();\n    var dragEnabled = options.allowMoveInEditMode || isLayoutMode;\n    var _b = __read(useDragHandle(nodeId, dragEnabled), 3), isDragging = _b[0], dragRef = _b[1], previewElement = _b[2];\n    var focus = useFocusCell(nodeId);\n    var plugin = usePluginOfCell(nodeId);\n    var t = useUiTranslator().t;\n    if (!plugin) {\n        return null;\n    }\n    return (React.createElement(React.Fragment, null,\n        previewElement,\n        React.createElement(\"div\", { className: classNames('react-page-cell-handle', {\n                'react-page-cell-handle-drag-enabled': dragEnabled,\n                'react-page-cell-handle-is-dragging': isDragging,\n            }), ref: dragRef, onClick: function () {\n                focus(false);\n            } }, t((plugin === null || plugin === void 0 ? void 0 : plugin.title) || (plugin === null || plugin === void 0 ? void 0 : plugin.text)))));\n};\nexport default React.memo(Handle);\n//# sourceMappingURL=index.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport React from 'react';\nimport classNames from 'classnames';\nimport { useCellHasPlugin, useCellProps, useIsEditMode, useIsFocused, useIsLayoutMode, useIsPreviewMode, useIsResizeMode, useLang, useNodeHasChildren, useScrollToViewEffect, useCellSpacing, useSetDisplayReferenceNodeId, useIsInsertMode, } from '../hooks';\nimport ErrorCell from './ErrorCell';\nimport Inner from './Inner';\nimport scrollIntoViewWithOffset from './utils/scrollIntoViewWithOffset';\nimport Handle from './Handle';\nimport { useCallback } from 'react';\nimport { getCellOuterDivClassName } from '../../utils/getCellStylingProps';\nvar CellErrorGate = /** @class */ (function (_super) {\n    __extends(class_1, _super);\n    function class_1() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            error: null,\n        };\n        return _this;\n    }\n    class_1.prototype.componentDidCatch = function (error) {\n        this.setState({ error: error });\n    };\n    class_1.prototype.render = function () {\n        if (this.state.error) {\n            return React.createElement(ErrorCell, { nodeId: this.props.nodeId, error: this.state.error });\n        }\n        return this.props.children;\n    };\n    return class_1;\n}(React.Component));\nvar Cell = function (_a) {\n    var _b;\n    var nodeId = _a.nodeId, measureRef = _a.measureRef;\n    var focused = useIsFocused(nodeId);\n    var _c = useCellProps(nodeId, function (_a) {\n        var inline = _a.inline, hasInlineNeighbour = _a.hasInlineNeighbour, isDraft = _a.isDraft, isDraftI18n = _a.isDraftI18n, size = _a.size;\n        return ({\n            inline: inline,\n            hasInlineNeighbour: hasInlineNeighbour,\n            isDraft: isDraft,\n            isDraftI18n: isDraftI18n,\n            size: size,\n        });\n    }), inline = _c.inline, hasInlineNeighbour = _c.hasInlineNeighbour, isDraft = _c.isDraft, isDraftI18n = _c.isDraftI18n, size = _c.size;\n    var lang = useLang();\n    var isPreviewMode = useIsPreviewMode();\n    var isResizeMode = useIsResizeMode();\n    var isEditMode = useIsEditMode();\n    var isLayoutMode = useIsLayoutMode();\n    var isInsertMode = useIsInsertMode();\n    var hasChildren = useNodeHasChildren(nodeId);\n    var hasPlugin = useCellHasPlugin(nodeId);\n    var _d = useCellSpacing(), cellSpacingX = _d.x, cellSpacingY = _d.y;\n    var needVerticalPadding = !hasChildren || hasPlugin;\n    var isDraftInLang = (_b = isDraftI18n === null || isDraftI18n === void 0 ? void 0 : isDraftI18n[lang]) !== null && _b !== void 0 ? _b : isDraft;\n    var ref = React.useRef();\n    var setReferenceNodeId = useSetDisplayReferenceNodeId();\n    var onClick = useCallback(function (e) {\n        if (hasPlugin && isEditMode) {\n            // Code bellow was causing the BottomToolbar to be unclickable with regards to document.addEventListener('click', ...)\n            // e.stopPropagation();\n        }\n        if (isInsertMode) {\n            e.stopPropagation();\n            setReferenceNodeId(nodeId);\n        }\n    }, [nodeId, hasPlugin, isInsertMode, isEditMode, setReferenceNodeId]);\n    useScrollToViewEffect(nodeId, function () {\n        if (ref.current)\n            scrollIntoViewWithOffset(ref.current, 120); // 120 is just a sane default, we might make int configurable in the future\n    }, [ref.current]);\n    if (isDraftInLang && isPreviewMode) {\n        return null;\n    }\n    var cellOuterStlye = cellSpacingY !== 0 || cellSpacingX !== 0\n        ? {\n            padding: (needVerticalPadding ? cellSpacingY / 2 : 0) + \"px \" + cellSpacingX / 2 + \"px\",\n        }\n        : undefined;\n    return (React.createElement(\"div\", { style: cellOuterStlye, ref: ref, className: getCellOuterDivClassName({\n            hasChildren: hasChildren,\n            hasInlineNeighbour: hasInlineNeighbour,\n            size: size,\n            inline: inline,\n        }) +\n            ' ' +\n            classNames({\n                'react-page-cell-has-plugin': hasPlugin,\n                'react-page-cell-focused': focused,\n                'react-page-cell-is-draft': isDraftInLang,\n                'react-page-cell-bring-to-front': !isResizeMode && !isLayoutMode && inline,\n            }), onClick: onClick },\n        React.createElement(Handle, { nodeId: nodeId }),\n        React.createElement(\"div\", { ref: measureRef, style: {\n                height: '100%',\n                boxSizing: 'border-box',\n            } },\n            React.createElement(CellErrorGate, { nodeId: nodeId },\n                React.createElement(Inner, { nodeId: nodeId })))));\n};\nexport default React.memo(Cell);\n//# sourceMappingURL=index.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React from 'react';\nimport Draggable from 'react-draggable';\nimport { useMeasure } from 'react-use';\nimport Cell from '../Cell';\nimport { useIsEditMode, useIsPreviewMode, useIsResizeMode, useOptions, useResizeCell, useCellSpacing, } from '../hooks';\nvar ResizableRowCell = function (_a) {\n    var nodeId = _a.nodeId, rowWidth = _a.rowWidth, rowHasInlineChildrenPosition = _a.rowHasInlineChildrenPosition, isLast = _a.isLast, offset = _a.offset, size = _a.size, maxSize = _a.maxSize;\n    var stepWidth = rowWidth / 12; // we're going to keep it a real number to preserve some precision\n    var allowResizeInEditMode = useOptions().allowResizeInEditMode;\n    var isResizeMode = useIsResizeMode();\n    var isEditMode = useIsEditMode();\n    var isPreviewMode = useIsPreviewMode();\n    var resize = useResizeCell(nodeId);\n    var _b = __read(useMeasure(), 2), ref = _b[0], cellHeight = _b[1].height;\n    var cellSpacingY = useCellSpacing().y;\n    var showResizeHandle = !isPreviewMode &&\n        !isLast &&\n        (isResizeMode || (allowResizeInEditMode && isEditMode));\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Cell, { nodeId: nodeId, measureRef: ref }),\n        showResizeHandle ? (React.createElement(Draggable, { bounds: {\n                top: 0,\n                bottom: 0,\n                left: Math.round(stepWidth),\n                right: Math.round(rowWidth - stepWidth),\n            }, position: {\n                x: rowHasInlineChildrenPosition === 'right'\n                    ? Math.round(stepWidth * (12 - offset))\n                    : Math.round(stepWidth * offset),\n                y: 0,\n            }, axis: \"x\", onDrag: function (e, data) {\n                var diff = Math.round(data.deltaX / stepWidth);\n                var newSize = rowHasInlineChildrenPosition === 'right'\n                    ? size - diff\n                    : size + diff;\n                if (newSize > 0 && newSize <= maxSize)\n                    resize(newSize);\n            }, grid: [Math.round(stepWidth), 0] },\n            React.createElement(\"div\", { className: \"resize-handle\", style: {\n                    // fix floating style\n                    height: rowHasInlineChildrenPosition ? cellHeight : 'auto',\n                    margin: cellSpacingY !== 0 ? cellSpacingY / 2 + \"px 0\" : undefined,\n                }, onClick: function (e) { return e.stopPropagation(); } }))) : null));\n};\nexport default React.memo(ResizableRowCell);\n//# sourceMappingURL=ResizableRowCell.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useMeasure } from 'react-use';\nimport { isRow } from '../../types/node';\nimport { useCellSpacing, useNodeHoverPosition, useNodeProps } from '../hooks';\nimport Droppable from './Droppable';\nimport ResizableRowCell from './ResizableRowCell';\nvar reduceToIdAndSizeArray = function (acc, node, index, array) {\n    var _a, _b;\n    var nextNode = array[index + 1];\n    var size = isRow(node) ? 12 : node.size;\n    var nextSize = !nextNode || isRow(nextNode) ? 0 : nextNode.size;\n    var offset = size + ((_b = (_a = acc[index - 1]) === null || _a === void 0 ? void 0 : _a.offset) !== null && _b !== void 0 ? _b : 0);\n    return __spread(acc, [\n        {\n            id: node.id,\n            size: size,\n            maxSize: size + nextSize - 1,\n            offset: offset,\n        },\n    ]);\n};\nvar Row = function (_a) {\n    var _b;\n    var nodeId = _a.nodeId;\n    var _c = __read(useMeasure(), 2), ref = _c[0], rowWidth = _c[1].width;\n    var hoverPosition = useNodeHoverPosition(nodeId);\n    var childrenWithOffsets = useNodeProps(nodeId, function (node) {\n        var _a, _b, _c, _d;\n        return isRow(node)\n            ? (_b = (_a = node.cells) === null || _a === void 0 ? void 0 : _a.reduce(reduceToIdAndSizeArray, [])) !== null && _b !== void 0 ? _b : [] : (_d = (_c = node.rows) === null || _c === void 0 ? void 0 : _c.reduce(reduceToIdAndSizeArray, [])) !== null && _d !== void 0 ? _d : [];\n    });\n    var rowHasInlineChildrenPosition = useNodeProps(nodeId, function (node) { var _a; return isRow(node) && node.cells.length === 2 && ((_a = node.cells[0]) === null || _a === void 0 ? void 0 : _a.inline); });\n    var _d = useCellSpacing(), cellSpacingX = _d.x, cellSpacingY = _d.y;\n    return (React.createElement(Droppable, { nodeId: nodeId },\n        React.createElement(\"div\", { ref: ref, className: classNames('react-page-row', {\n                'react-page-row-has-floating-children': Boolean(rowHasInlineChildrenPosition),\n            }), style: {\n                position: 'relative',\n                margin: cellSpacingX !== 0 ? \"0 \" + -cellSpacingX / 2 + \"px\" : undefined,\n            } },\n            React.createElement(\"div\", { style: {\n                    position: 'absolute',\n                    pointerEvents: 'none',\n                    top: cellSpacingY / 2 + \"px\",\n                    left: cellSpacingX / 2 + \"px\",\n                    bottom: cellSpacingY / 2 + \"px\",\n                    right: cellSpacingX / 2 + \"px\",\n                }, className: classNames((_b = {\n                        'react-page-row-is-hovering-this': Boolean(hoverPosition)\n                    },\n                    _b[\"react-page-row-is-hovering-\" + (hoverPosition || '')] = Boolean(hoverPosition),\n                    _b)) }),\n            childrenWithOffsets.map(function (_a, index) {\n                var offset = _a.offset, id = _a.id, size = _a.size, maxSize = _a.maxSize;\n                return (React.createElement(ResizableRowCell, { key: id, isLast: index === childrenWithOffsets.length - 1, rowWidth: rowWidth, nodeId: id, rowHasInlineChildrenPosition: rowHasInlineChildrenPosition, offset: offset, size: size, maxSize: maxSize }));\n            }))));\n};\nexport default React.memo(Row);\n//# sourceMappingURL=index.js.map","import throttle from 'lodash.throttle';\nimport React from 'react';\nimport { useEffect, useRef } from 'react';\nimport scrollIntoViewWithOffset from '../../Cell/utils/scrollIntoViewWithOffset';\nimport InsertNew from '../../Cell/InsertNew';\nimport Row from '../../Row';\nimport { useDisplayMode, useOptions, useValueNode, useCellSpacing, } from '../../hooks';\nfunction isElementInViewport(el) {\n    var rect = el.getBoundingClientRect();\n    return (rect.top >= 0 &&\n        rect.left >= 0 &&\n        rect.bottom <=\n            (window.innerHeight ||\n                document.documentElement.clientHeight) /*or $(window).height() */ &&\n        rect.right <=\n            (window.innerWidth ||\n                document.documentElement.clientWidth) /*or $(window).width() */);\n}\nvar Inner = function () {\n    var _a, _b, _c, _d;\n    var rowIds = useValueNode(function (editable) {\n        var _a, _b;\n        return ({\n            rowIds: (_b = (_a = editable === null || editable === void 0 ? void 0 : editable.rows) === null || _a === void 0 ? void 0 : _a.map(function (c) { return c.id; })) !== null && _b !== void 0 ? _b : [],\n        });\n    }).rowIds;\n    var ref = useRef();\n    var options = useOptions();\n    var firstElementInViewPortref = React.useRef();\n    useEffect(function () {\n        var onScroll = throttle(function () {\n            if (ref.current) {\n                var firstInViewport = Array.prototype.find.call(ref.current.getElementsByClassName('react-page-cell'), function (cell) { return isElementInViewport(cell); });\n                if (firstInViewport) {\n                    firstElementInViewPortref.current = {\n                        el: firstInViewport,\n                        topOffset: firstInViewport.getBoundingClientRect().top,\n                    };\n                }\n                else {\n                    firstElementInViewPortref.current = null;\n                }\n            }\n        }, 600);\n        window.addEventListener('scroll', onScroll);\n        return function () {\n            window.removeEventListener('scroll', onScroll);\n        };\n    });\n    useEffect(function () {\n        if (firstElementInViewPortref.current) {\n            var _a = firstElementInViewPortref.current, el_1 = _a.el, topOffset_1 = _a.topOffset;\n            setTimeout(function () {\n                scrollIntoViewWithOffset(el_1, topOffset_1, 'auto');\n            }, 0);\n        }\n    }, [firstElementInViewPortref.current]);\n    var mode = useDisplayMode();\n    var cellSpacingY = useCellSpacing().y;\n    var insertAllowed = ((_a = options.childConstraints) === null || _a === void 0 ? void 0 : _a.maxChildren) ? ((_b = options.childConstraints) === null || _b === void 0 ? void 0 : _b.maxChildren) > rowIds.length\n        : true;\n    var InsertNewWithDefault = (_d = (_c = options.components) === null || _c === void 0 ? void 0 : _c.InsertNew) !== null && _d !== void 0 ? _d : InsertNew;\n    return (React.createElement(\"div\", { ref: ref, style: { minHeight: 480 }, className: 'react-page-editable react-page-editable-mode-' + mode },\n        rowIds.length > 0 ? (React.createElement(\"div\", { style: cellSpacingY !== 0\n                ? { margin: -cellSpacingY / 2 + \"px 0\" }\n                : undefined }, rowIds.map(function (id) { return (React.createElement(Row, { nodeId: id, key: id })); }))) : null,\n        insertAllowed ? React.createElement(InsertNewWithDefault, { childrenIds: rowIds }) : null));\n};\nexport default React.memo(Inner);\n//# sourceMappingURL=index.js.map","import { useSelector } from '../../reduxConnect';\nimport { currentValue } from '../../selector/editable';\nimport deepEquals from '../../utils/deepEquals';\n/**\n *\n * @param selector receives the current value node object and returns T\n * @returns the selection T\n */\nexport var useValueNode = function (selector) {\n    return useSelector(function (state) { return selector(currentValue(state)); }, deepEquals);\n};\n//# sourceMappingURL=value.js.map","import React from 'react';\nimport HotKeyDecorator from '../HotKey/Decorator';\nimport FallbackDropArea from './FallbackDropArea';\nimport Inner from './Inner';\nvar Editable = function () {\n    return (React.createElement(HotKeyDecorator, null,\n        React.createElement(FallbackDropArea, null,\n            React.createElement(Inner, null))));\n};\nexport default React.memo(Editable);\n//# sourceMappingURL=index.js.map","// cheap lodash replacements\nexport function memoize(fn) {\n  var result = null;\n\n  var memoized = function memoized() {\n    if (result == null) {\n      result = fn();\n    }\n\n    return result;\n  };\n\n  return memoized;\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\nexport function union(itemsA, itemsB) {\n  var set = new Set();\n\n  var insertItem = function insertItem(item) {\n    return set.add(item);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  set.forEach(function (key) {\n    return result.push(key);\n  });\n  return result;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { union, without } from './utils/js_utils';\nexport var EnterLeaveCounter = /*#__PURE__*/function () {\n  function EnterLeaveCounter(isNodeInDocument) {\n    _classCallCheck(this, EnterLeaveCounter);\n\n    _defineProperty(this, \"entered\", []);\n\n    _defineProperty(this, \"isNodeInDocument\", void 0);\n\n    this.isNodeInDocument = isNodeInDocument;\n  }\n\n  _createClass(EnterLeaveCounter, [{\n    key: \"enter\",\n    value: function enter(enteringNode) {\n      var _this = this;\n\n      var previousLength = this.entered.length;\n\n      var isNodeEntered = function isNodeEntered(node) {\n        return _this.isNodeInDocument(node) && (!node.contains || node.contains(enteringNode));\n      };\n\n      this.entered = union(this.entered.filter(isNodeEntered), [enteringNode]);\n      return previousLength === 0 && this.entered.length > 0;\n    }\n  }, {\n    key: \"leave\",\n    value: function leave(leavingNode) {\n      var previousLength = this.entered.length;\n      this.entered = without(this.entered.filter(this.isNodeInDocument), leavingNode);\n      return previousLength > 0 && this.entered.length === 0;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.entered = [];\n    }\n  }]);\n\n  return EnterLeaveCounter;\n}();","import { memoize } from './utils/js_utils';\nexport var isFirefox = memoize(function () {\n  return /firefox/i.test(navigator.userAgent);\n});\nexport var isSafari = memoize(function () {\n  return Boolean(window.safari);\n});","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var MonotonicInterpolant = /*#__PURE__*/function () {\n  function MonotonicInterpolant(xs, ys) {\n    _classCallCheck(this, MonotonicInterpolant);\n\n    _defineProperty(this, \"xs\", void 0);\n\n    _defineProperty(this, \"ys\", void 0);\n\n    _defineProperty(this, \"c1s\", void 0);\n\n    _defineProperty(this, \"c2s\", void 0);\n\n    _defineProperty(this, \"c3s\", void 0);\n\n    var length = xs.length; // Rearrange xs and ys so that xs is sorted\n\n    var indexes = [];\n\n    for (var i = 0; i < length; i++) {\n      indexes.push(i);\n    }\n\n    indexes.sort(function (a, b) {\n      return xs[a] < xs[b] ? -1 : 1;\n    }); // Get consecutive differences and slopes\n\n    var dys = [];\n    var dxs = [];\n    var ms = [];\n    var dx;\n    var dy;\n\n    for (var _i = 0; _i < length - 1; _i++) {\n      dx = xs[_i + 1] - xs[_i];\n      dy = ys[_i + 1] - ys[_i];\n      dxs.push(dx);\n      dys.push(dy);\n      ms.push(dy / dx);\n    } // Get degree-1 coefficients\n\n\n    var c1s = [ms[0]];\n\n    for (var _i2 = 0; _i2 < dxs.length - 1; _i2++) {\n      var m2 = ms[_i2];\n      var mNext = ms[_i2 + 1];\n\n      if (m2 * mNext <= 0) {\n        c1s.push(0);\n      } else {\n        dx = dxs[_i2];\n        var dxNext = dxs[_i2 + 1];\n        var common = dx + dxNext;\n        c1s.push(3 * common / ((common + dxNext) / m2 + (common + dx) / mNext));\n      }\n    }\n\n    c1s.push(ms[ms.length - 1]); // Get degree-2 and degree-3 coefficients\n\n    var c2s = [];\n    var c3s = [];\n    var m;\n\n    for (var _i3 = 0; _i3 < c1s.length - 1; _i3++) {\n      m = ms[_i3];\n      var c1 = c1s[_i3];\n      var invDx = 1 / dxs[_i3];\n\n      var _common = c1 + c1s[_i3 + 1] - m - m;\n\n      c2s.push((m - c1 - _common) * invDx);\n      c3s.push(_common * invDx * invDx);\n    }\n\n    this.xs = xs;\n    this.ys = ys;\n    this.c1s = c1s;\n    this.c2s = c2s;\n    this.c3s = c3s;\n  }\n\n  _createClass(MonotonicInterpolant, [{\n    key: \"interpolate\",\n    value: function interpolate(x) {\n      var xs = this.xs,\n          ys = this.ys,\n          c1s = this.c1s,\n          c2s = this.c2s,\n          c3s = this.c3s; // The rightmost point in the dataset should give an exact result\n\n      var i = xs.length - 1;\n\n      if (x === xs[i]) {\n        return ys[i];\n      } // Search for the interval x is in, returning the corresponding y if x is one of the original xs\n\n\n      var low = 0;\n      var high = c3s.length - 1;\n      var mid;\n\n      while (low <= high) {\n        mid = Math.floor(0.5 * (low + high));\n        var xHere = xs[mid];\n\n        if (xHere < x) {\n          low = mid + 1;\n        } else if (xHere > x) {\n          high = mid - 1;\n        } else {\n          return ys[mid];\n        }\n      }\n\n      i = Math.max(0, high); // Interpolate\n\n      var diff = x - xs[i];\n      var diffSq = diff * diff;\n      return ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq;\n    }\n  }]);\n\n  return MonotonicInterpolant;\n}();","import { isSafari, isFirefox } from './BrowserDetector';\nimport { MonotonicInterpolant } from './MonotonicInterpolant';\nvar ELEMENT_NODE = 1;\nexport function getNodeClientOffset(node) {\n  var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n\n  if (!el) {\n    return null;\n  }\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top,\n      left = _el$getBoundingClient.left;\n\n  return {\n    x: left,\n    y: top\n  };\n}\nexport function getEventClientOffset(e) {\n  return {\n    x: e.clientX,\n    y: e.clientY\n  };\n}\n\nfunction isImageNode(node) {\n  var _document$documentEle;\n\n  return node.nodeName === 'IMG' && (isFirefox() || !((_document$documentEle = document.documentElement) !== null && _document$documentEle !== void 0 && _document$documentEle.contains(node)));\n}\n\nfunction getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight) {\n  var dragPreviewWidth = isImage ? dragPreview.width : sourceWidth;\n  var dragPreviewHeight = isImage ? dragPreview.height : sourceHeight; // Work around @2x coordinate discrepancies in browsers\n\n  if (isSafari() && isImage) {\n    dragPreviewHeight /= window.devicePixelRatio;\n    dragPreviewWidth /= window.devicePixelRatio;\n  }\n\n  return {\n    dragPreviewWidth: dragPreviewWidth,\n    dragPreviewHeight: dragPreviewHeight\n  };\n}\n\nexport function getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint) {\n  // The browsers will use the image intrinsic size under different conditions.\n  // Firefox only cares if it's an image, but WebKit also wants it to be detached.\n  var isImage = isImageNode(dragPreview);\n  var dragPreviewNode = isImage ? sourceNode : dragPreview;\n  var dragPreviewNodeOffsetFromClient = getNodeClientOffset(dragPreviewNode);\n  var offsetFromDragPreview = {\n    x: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n    y: clientOffset.y - dragPreviewNodeOffsetFromClient.y\n  };\n  var sourceWidth = sourceNode.offsetWidth,\n      sourceHeight = sourceNode.offsetHeight;\n  var anchorX = anchorPoint.anchorX,\n      anchorY = anchorPoint.anchorY;\n\n  var _getDragPreviewSize = getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight),\n      dragPreviewWidth = _getDragPreviewSize.dragPreviewWidth,\n      dragPreviewHeight = _getDragPreviewSize.dragPreviewHeight;\n\n  var calculateYOffset = function calculateYOffset() {\n    var interpolantY = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the top\n    offsetFromDragPreview.y, // Align at the center\n    offsetFromDragPreview.y / sourceHeight * dragPreviewHeight, // Dock to the bottom\n    offsetFromDragPreview.y + dragPreviewHeight - sourceHeight]);\n    var y = interpolantY.interpolate(anchorY); // Work around Safari 8 positioning bug\n\n    if (isSafari() && isImage) {\n      // We'll have to wait for @3x to see if this is entirely correct\n      y += (window.devicePixelRatio - 1) * dragPreviewHeight;\n    }\n\n    return y;\n  };\n\n  var calculateXOffset = function calculateXOffset() {\n    // Interpolate coordinates depending on anchor point\n    // If you know a simpler way to do this, let me know\n    var interpolantX = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the left\n    offsetFromDragPreview.x, // Align at the center\n    offsetFromDragPreview.x / sourceWidth * dragPreviewWidth, // Dock to the right\n    offsetFromDragPreview.x + dragPreviewWidth - sourceWidth]);\n    return interpolantX.interpolate(anchorX);\n  }; // Force offsets if specified in the options.\n\n\n  var offsetX = offsetPoint.offsetX,\n      offsetY = offsetPoint.offsetY;\n  var isManualOffsetX = offsetX === 0 || offsetX;\n  var isManualOffsetY = offsetY === 0 || offsetY;\n  return {\n    x: isManualOffsetX ? offsetX : calculateXOffset(),\n    y: isManualOffsetY ? offsetY : calculateYOffset()\n  };\n}","export var FILE = '__NATIVE_FILE__';\nexport var URL = '__NATIVE_URL__';\nexport var TEXT = '__NATIVE_TEXT__';\nexport var HTML = '__NATIVE_HTML__';","var _nativeTypesConfig;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as NativeTypes from '../NativeTypes';\nimport { getDataFromDataTransfer } from './getDataFromDataTransfer';\nexport var nativeTypesConfig = (_nativeTypesConfig = {}, _defineProperty(_nativeTypesConfig, NativeTypes.FILE, {\n  exposeProperties: {\n    files: function files(dataTransfer) {\n      return Array.prototype.slice.call(dataTransfer.files);\n    },\n    items: function items(dataTransfer) {\n      return dataTransfer.items;\n    }\n  },\n  matchesTypes: ['Files']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.HTML, {\n  exposeProperties: {\n    html: function html(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    }\n  },\n  matchesTypes: ['Html', 'text/html']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.URL, {\n  exposeProperties: {\n    urls: function urls(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\\n');\n    }\n  },\n  matchesTypes: ['Url', 'text/uri-list']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.TEXT, {\n  exposeProperties: {\n    text: function text(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    }\n  },\n  matchesTypes: ['Text', 'text/plain']\n}), _nativeTypesConfig);","export function getDataFromDataTransfer(dataTransfer, typesToTry, defaultValue) {\n  var result = typesToTry.reduce(function (resultSoFar, typeToTry) {\n    return resultSoFar || dataTransfer.getData(typeToTry);\n  }, '');\n  return result != null ? result : defaultValue;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var NativeDragSource = /*#__PURE__*/function () {\n  function NativeDragSource(config) {\n    _classCallCheck(this, NativeDragSource);\n\n    _defineProperty(this, \"item\", void 0);\n\n    _defineProperty(this, \"config\", void 0);\n\n    this.config = config;\n    this.item = {};\n    this.initializeExposedProperties();\n  }\n\n  _createClass(NativeDragSource, [{\n    key: \"initializeExposedProperties\",\n    value: function initializeExposedProperties() {\n      var _this = this;\n\n      Object.keys(this.config.exposeProperties).forEach(function (property) {\n        Object.defineProperty(_this.item, property, {\n          configurable: true,\n          enumerable: true,\n          get: function get() {\n            // eslint-disable-next-line no-console\n            console.warn(\"Browser doesn't allow reading \\\"\".concat(property, \"\\\" until the drop event.\"));\n            return null;\n          }\n        });\n      });\n    }\n  }, {\n    key: \"loadDataTransfer\",\n    value: function loadDataTransfer(dataTransfer) {\n      var _this2 = this;\n\n      if (dataTransfer) {\n        var newProperties = {};\n        Object.keys(this.config.exposeProperties).forEach(function (property) {\n          newProperties[property] = {\n            value: _this2.config.exposeProperties[property](dataTransfer, _this2.config.matchesTypes),\n            configurable: true,\n            enumerable: true\n          };\n        });\n        Object.defineProperties(this.item, newProperties);\n      }\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      return true;\n    }\n  }, {\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      return this.item;\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(monitor, handle) {\n      return handle === monitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {// empty\n    }\n  }]);\n\n  return NativeDragSource;\n}();","import { nativeTypesConfig } from './nativeTypesConfig';\nimport { NativeDragSource } from './NativeDragSource';\nexport function createNativeDragSource(type, dataTransfer) {\n  var result = new NativeDragSource(nativeTypesConfig[type]);\n  result.loadDataTransfer(dataTransfer);\n  return result;\n}\nexport function matchNativeItemType(dataTransfer) {\n  if (!dataTransfer) {\n    return null;\n  }\n\n  var dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || []);\n  return Object.keys(nativeTypesConfig).filter(function (nativeItemType) {\n    var matchesTypes = nativeTypesConfig[nativeItemType].matchesTypes;\n    return matchesTypes.some(function (t) {\n      return dataTransferTypes.indexOf(t) > -1;\n    });\n  })[0] || null;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var OptionsReader = /*#__PURE__*/function () {\n  function OptionsReader(globalContext, options) {\n    _classCallCheck(this, OptionsReader);\n\n    _defineProperty(this, \"ownerDocument\", null);\n\n    _defineProperty(this, \"globalContext\", void 0);\n\n    _defineProperty(this, \"optionsArgs\", void 0);\n\n    this.globalContext = globalContext;\n    this.optionsArgs = options;\n  }\n\n  _createClass(OptionsReader, [{\n    key: \"window\",\n    get: function get() {\n      if (this.globalContext) {\n        return this.globalContext;\n      } else if (typeof window !== 'undefined') {\n        return window;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      var _this$globalContext;\n\n      if ((_this$globalContext = this.globalContext) !== null && _this$globalContext !== void 0 && _this$globalContext.document) {\n        return this.globalContext.document;\n      } else if (this.window) {\n        return this.window.document;\n      } else {\n        return undefined;\n      }\n    }\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      var _this$optionsArgs;\n\n      return ((_this$optionsArgs = this.optionsArgs) === null || _this$optionsArgs === void 0 ? void 0 : _this$optionsArgs.rootElement) || this.window;\n    }\n  }]);\n\n  return OptionsReader;\n}();","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { EnterLeaveCounter } from './EnterLeaveCounter';\nimport { getNodeClientOffset, getEventClientOffset, getDragPreviewOffset } from './OffsetUtils';\nimport { createNativeDragSource, matchNativeItemType } from './NativeDragSources';\nimport * as NativeTypes from './NativeTypes';\nimport { OptionsReader } from './OptionsReader';\nexport var HTML5BackendImpl = /*#__PURE__*/function () {\n  // React-Dnd Components\n  // Internal State\n  function HTML5BackendImpl(manager, globalContext, options) {\n    var _this = this;\n\n    _classCallCheck(this, HTML5BackendImpl);\n\n    _defineProperty(this, \"options\", void 0);\n\n    _defineProperty(this, \"actions\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"registry\", void 0);\n\n    _defineProperty(this, \"enterLeaveCounter\", void 0);\n\n    _defineProperty(this, \"sourcePreviewNodes\", new Map());\n\n    _defineProperty(this, \"sourcePreviewNodeOptions\", new Map());\n\n    _defineProperty(this, \"sourceNodes\", new Map());\n\n    _defineProperty(this, \"sourceNodeOptions\", new Map());\n\n    _defineProperty(this, \"dragStartSourceIds\", null);\n\n    _defineProperty(this, \"dropTargetIds\", []);\n\n    _defineProperty(this, \"dragEnterTargetIds\", []);\n\n    _defineProperty(this, \"currentNativeSource\", null);\n\n    _defineProperty(this, \"currentNativeHandle\", null);\n\n    _defineProperty(this, \"currentDragSourceNode\", null);\n\n    _defineProperty(this, \"altKeyPressed\", false);\n\n    _defineProperty(this, \"mouseMoveTimeoutTimer\", null);\n\n    _defineProperty(this, \"asyncEndDragFrameId\", null);\n\n    _defineProperty(this, \"dragOverTargetIds\", null);\n\n    _defineProperty(this, \"getSourceClientOffset\", function (sourceId) {\n      var source = _this.sourceNodes.get(sourceId);\n\n      return source && getNodeClientOffset(source) || null;\n    });\n\n    _defineProperty(this, \"endDragNativeItem\", function () {\n      if (!_this.isDraggingNativeItem()) {\n        return;\n      }\n\n      _this.actions.endDrag();\n\n      if (_this.currentNativeHandle) {\n        _this.registry.removeSource(_this.currentNativeHandle);\n      }\n\n      _this.currentNativeHandle = null;\n      _this.currentNativeSource = null;\n    });\n\n    _defineProperty(this, \"isNodeInDocument\", function (node) {\n      // Check the node either in the main document or in the current context\n      return Boolean(node && _this.document && _this.document.body && _this.document.body.contains(node));\n    });\n\n    _defineProperty(this, \"endDragIfSourceWasRemovedFromDOM\", function () {\n      var node = _this.currentDragSourceNode;\n\n      if (node == null || _this.isNodeInDocument(node)) {\n        return;\n      }\n\n      if (_this.clearCurrentDragSourceNode() && _this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragStartCapture\", function () {\n      _this.clearCurrentDragSourceNode();\n\n      _this.dragStartSourceIds = [];\n    });\n\n    _defineProperty(this, \"handleTopDragStart\", function (e) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      var dragStartSourceIds = _this.dragStartSourceIds;\n      _this.dragStartSourceIds = null;\n      var clientOffset = getEventClientOffset(e); // Avoid crashing if we missed a drop event or our previous drag died\n\n      if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      } // Don't publish the source just yet (see why below)\n\n\n      _this.actions.beginDrag(dragStartSourceIds || [], {\n        publishSource: false,\n        getSourceClientOffset: _this.getSourceClientOffset,\n        clientOffset: clientOffset\n      });\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (_this.monitor.isDragging()) {\n        if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n          // Use custom drag image if user specifies it.\n          // If child drag source refuses drag but parent agrees,\n          // use parent's node as drag image. Neither works in IE though.\n          var sourceId = _this.monitor.getSourceId();\n\n          var sourceNode = _this.sourceNodes.get(sourceId);\n\n          var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;\n\n          if (dragPreview) {\n            var _this$getCurrentSourc = _this.getCurrentSourcePreviewNodeOptions(),\n                anchorX = _this$getCurrentSourc.anchorX,\n                anchorY = _this$getCurrentSourc.anchorY,\n                offsetX = _this$getCurrentSourc.offsetX,\n                offsetY = _this$getCurrentSourc.offsetY;\n\n            var anchorPoint = {\n              anchorX: anchorX,\n              anchorY: anchorY\n            };\n            var offsetPoint = {\n              offsetX: offsetX,\n              offsetY: offsetY\n            };\n            var dragPreviewOffset = getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n            dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n          }\n        }\n\n        try {\n          // Firefox won't drag without setting data\n          dataTransfer === null || dataTransfer === void 0 ? void 0 : dataTransfer.setData('application/json', {});\n        } catch (err) {// IE doesn't support MIME types in setData\n        } // Store drag source node so we can check whether\n        // it is removed from DOM and trigger endDrag manually.\n\n\n        _this.setCurrentDragSourceNode(e.target); // Now we are ready to publish the drag source.. or are we not?\n\n\n        var _this$getCurrentSourc2 = _this.getCurrentSourcePreviewNodeOptions(),\n            captureDraggingState = _this$getCurrentSourc2.captureDraggingState;\n\n        if (!captureDraggingState) {\n          // Usually we want to publish it in the next tick so that browser\n          // is able to screenshot the current (not yet dragging) state.\n          //\n          // It also neatly avoids a situation where render() returns null\n          // in the same tick for the source element, and browser freaks out.\n          setTimeout(function () {\n            return _this.actions.publishDragSource();\n          }, 0);\n        } else {\n          // In some cases the user may want to override this behavior, e.g.\n          // to work around IE not supporting custom drag previews.\n          //\n          // When using a custom drag layer, the only way to prevent\n          // the default drag preview from drawing in IE is to screenshot\n          // the dragging state in which the node itself has zero opacity\n          // and height. In this case, though, returning null from render()\n          // will abruptly end the dragging, which is not obvious.\n          //\n          // This is the reason such behavior is strictly opt-in.\n          _this.actions.publishDragSource();\n        }\n      } else if (nativeType) {\n        // A native item (such as URL) dragged from inside the document\n        _this.beginDragNativeItem(nativeType);\n      } else if (dataTransfer && !dataTransfer.types && (e.target && !e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n        // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n        // Just let it drag. It's a native type (URL or text) and will be picked up in\n        // dragenter handler.\n        return;\n      } else {\n        // If by this time no drag source reacted, tell browser not to drag.\n        e.preventDefault();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEndCapture\", function () {\n      if (_this.clearCurrentDragSourceNode() && _this.monitor.isDragging()) {\n        // Firefox can dispatch this event in an infinite loop\n        // if dragend handler does something like showing an alert.\n        // Only proceed if we have not handled it already.\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEnterCapture\", function (e) {\n      _this.dragEnterTargetIds = [];\n\n      var isFirstEnter = _this.enterLeaveCounter.enter(e.target);\n\n      if (!isFirstEnter || _this.monitor.isDragging()) {\n        return;\n      }\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (nativeType) {\n        // A native item (such as file or URL) dragged from outside the document\n        _this.beginDragNativeItem(nativeType, dataTransfer);\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEnter\", function (e) {\n      var dragEnterTargetIds = _this.dragEnterTargetIds;\n      _this.dragEnterTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey; // If the target changes position as the result of `dragenter`, `dragover` might still\n      // get dispatched despite target being no longer there. The easy solution is to check\n      // whether there actually is a target before firing `hover`.\n\n      if (dragEnterTargetIds.length > 0) {\n        _this.actions.hover(dragEnterTargetIds, {\n          clientOffset: getEventClientOffset(e)\n        });\n      }\n\n      var canDrop = dragEnterTargetIds.some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // IE requires this to fire dragover events\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragOverCapture\", function () {\n      _this.dragOverTargetIds = [];\n    });\n\n    _defineProperty(this, \"handleTopDragOver\", function (e) {\n      var dragOverTargetIds = _this.dragOverTargetIds;\n      _this.dragOverTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        // Prevent default \"drop and blow away the whole document\" action.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n\n      _this.actions.hover(dragOverTargetIds || [], {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      var canDrop = (dragOverTargetIds || []).some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // Show user-specified drop effect.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      } else if (_this.isDraggingNativeItem()) {\n        // Don't show a nice cursor but still prevent default\n        // \"drop and blow away the whole document\" action.\n        e.preventDefault();\n      } else {\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragLeaveCapture\", function (e) {\n      if (_this.isDraggingNativeItem()) {\n        e.preventDefault();\n      }\n\n      var isLastLeave = _this.enterLeaveCounter.leave(e.target);\n\n      if (!isLastLeave) {\n        return;\n      }\n\n      if (_this.isDraggingNativeItem()) {\n        setTimeout(function () {\n          return _this.endDragNativeItem();\n        }, 0);\n      }\n    });\n\n    _defineProperty(this, \"handleTopDropCapture\", function (e) {\n      _this.dropTargetIds = [];\n\n      if (_this.isDraggingNativeItem()) {\n        var _this$currentNativeSo;\n\n        e.preventDefault();\n        (_this$currentNativeSo = _this.currentNativeSource) === null || _this$currentNativeSo === void 0 ? void 0 : _this$currentNativeSo.loadDataTransfer(e.dataTransfer);\n      } else if (matchNativeItemType(e.dataTransfer)) {\n        // Dragging some elements, like <a> and <img> may still behave like a native drag event,\n        // even if the current drag event matches a user-defined type.\n        // Stop the default behavior when we're not expecting a native item to be dropped.\n        e.preventDefault();\n      }\n\n      _this.enterLeaveCounter.reset();\n    });\n\n    _defineProperty(this, \"handleTopDrop\", function (e) {\n      var dropTargetIds = _this.dropTargetIds;\n      _this.dropTargetIds = [];\n\n      _this.actions.hover(dropTargetIds, {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      _this.actions.drop({\n        dropEffect: _this.getCurrentDropEffect()\n      });\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      } else if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleSelectStart\", function (e) {\n      var target = e.target; // Only IE requires us to explicitly say\n      // we want drag drop operation to start\n\n      if (typeof target.dragDrop !== 'function') {\n        return;\n      } // Inputs and textareas should be selectable\n\n\n      if (target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n        return;\n      } // For other targets, ask IE\n      // to enable drag and drop\n\n\n      e.preventDefault();\n      target.dragDrop();\n    });\n\n    this.options = new OptionsReader(globalContext, options);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.registry = manager.getRegistry();\n    this.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument);\n  }\n  /**\n   * Generate profiling statistics for the HTML5Backend.\n   */\n\n\n  _createClass(HTML5BackendImpl, [{\n    key: \"profile\",\n    value: function profile() {\n      var _this$dragStartSource, _this$dragOverTargetI;\n\n      return {\n        sourcePreviewNodes: this.sourcePreviewNodes.size,\n        sourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n        sourceNodeOptions: this.sourceNodeOptions.size,\n        sourceNodes: this.sourceNodes.size,\n        dragStartSourceIds: ((_this$dragStartSource = this.dragStartSourceIds) === null || _this$dragStartSource === void 0 ? void 0 : _this$dragStartSource.length) || 0,\n        dropTargetIds: this.dropTargetIds.length,\n        dragEnterTargetIds: this.dragEnterTargetIds.length,\n        dragOverTargetIds: ((_this$dragOverTargetI = this.dragOverTargetIds) === null || _this$dragOverTargetI === void 0 ? void 0 : _this$dragOverTargetI.length) || 0\n      };\n    } // public for test\n\n  }, {\n    key: \"window\",\n    get: function get() {\n      return this.options.window;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.options.document;\n    }\n    /**\n     * Get the root element to use for event subscriptions\n     */\n\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      return this.options.rootElement;\n    }\n  }, {\n    key: \"setup\",\n    value: function setup() {\n      var root = this.rootElement;\n\n      if (root === undefined) {\n        return;\n      }\n\n      if (root.__isReactDndBackendSetUp) {\n        throw new Error('Cannot have two HTML5 backends at the same time.');\n      }\n\n      root.__isReactDndBackendSetUp = true;\n      this.addEventListeners(root);\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      var root = this.rootElement;\n\n      if (root === undefined) {\n        return;\n      }\n\n      root.__isReactDndBackendSetUp = false;\n      this.removeEventListeners(this.rootElement);\n      this.clearCurrentDragSourceNode();\n\n      if (this.asyncEndDragFrameId) {\n        var _this$window;\n\n        (_this$window = this.window) === null || _this$window === void 0 ? void 0 : _this$window.cancelAnimationFrame(this.asyncEndDragFrameId);\n      }\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this2 = this;\n\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this2.sourcePreviewNodes.delete(sourceId);\n\n        _this2.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourceNodes.set(sourceId, node);\n      this.sourceNodeOptions.set(sourceId, options);\n\n      var handleDragStart = function handleDragStart(e) {\n        return _this3.handleDragStart(e, sourceId);\n      };\n\n      var handleSelectStart = function handleSelectStart(e) {\n        return _this3.handleSelectStart(e);\n      };\n\n      node.setAttribute('draggable', 'true');\n      node.addEventListener('dragstart', handleDragStart);\n      node.addEventListener('selectstart', handleSelectStart);\n      return function () {\n        _this3.sourceNodes.delete(sourceId);\n\n        _this3.sourceNodeOptions.delete(sourceId);\n\n        node.removeEventListener('dragstart', handleDragStart);\n        node.removeEventListener('selectstart', handleSelectStart);\n        node.setAttribute('draggable', 'false');\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      var handleDragEnter = function handleDragEnter(e) {\n        return _this4.handleDragEnter(e, targetId);\n      };\n\n      var handleDragOver = function handleDragOver(e) {\n        return _this4.handleDragOver(e, targetId);\n      };\n\n      var handleDrop = function handleDrop(e) {\n        return _this4.handleDrop(e, targetId);\n      };\n\n      node.addEventListener('dragenter', handleDragEnter);\n      node.addEventListener('dragover', handleDragOver);\n      node.addEventListener('drop', handleDrop);\n      return function () {\n        node.removeEventListener('dragenter', handleDragEnter);\n        node.removeEventListener('dragover', handleDragOver);\n        node.removeEventListener('drop', handleDrop);\n      };\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.addEventListener) {\n        return;\n      }\n\n      target.addEventListener('dragstart', this.handleTopDragStart);\n      target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.addEventListener('dragenter', this.handleTopDragEnter);\n      target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.addEventListener('dragover', this.handleTopDragOver);\n      target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.addEventListener('drop', this.handleTopDrop);\n      target.addEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.removeEventListener) {\n        return;\n      }\n\n      target.removeEventListener('dragstart', this.handleTopDragStart);\n      target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.removeEventListener('dragenter', this.handleTopDragEnter);\n      target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.removeEventListener('dragover', this.handleTopDragOver);\n      target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.removeEventListener('drop', this.handleTopDrop);\n      target.removeEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"getCurrentSourceNodeOptions\",\n    value: function getCurrentSourceNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);\n      return _objectSpread({\n        dropEffect: this.altKeyPressed ? 'copy' : 'move'\n      }, sourceNodeOptions || {});\n    }\n  }, {\n    key: \"getCurrentDropEffect\",\n    value: function getCurrentDropEffect() {\n      if (this.isDraggingNativeItem()) {\n        // It makes more sense to default to 'copy' for native resources\n        return 'copy';\n      }\n\n      return this.getCurrentSourceNodeOptions().dropEffect;\n    }\n  }, {\n    key: \"getCurrentSourcePreviewNodeOptions\",\n    value: function getCurrentSourcePreviewNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);\n      return _objectSpread({\n        anchorX: 0.5,\n        anchorY: 0.5,\n        captureDraggingState: false\n      }, sourcePreviewNodeOptions || {});\n    }\n  }, {\n    key: \"isDraggingNativeItem\",\n    value: function isDraggingNativeItem() {\n      var itemType = this.monitor.getItemType();\n      return Object.keys(NativeTypes).some(function (key) {\n        return NativeTypes[key] === itemType;\n      });\n    }\n  }, {\n    key: \"beginDragNativeItem\",\n    value: function beginDragNativeItem(type, dataTransfer) {\n      this.clearCurrentDragSourceNode();\n      this.currentNativeSource = createNativeDragSource(type, dataTransfer);\n      this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n      this.actions.beginDrag([this.currentNativeHandle]);\n    }\n  }, {\n    key: \"setCurrentDragSourceNode\",\n    value: function setCurrentDragSourceNode(node) {\n      var _this5 = this;\n\n      this.clearCurrentDragSourceNode();\n      this.currentDragSourceNode = node; // A timeout of > 0 is necessary to resolve Firefox issue referenced\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n\n      var MOUSE_MOVE_TIMEOUT = 1000; // Receiving a mouse event in the middle of a dragging operation\n      // means it has ended and the drag source node disappeared from DOM,\n      // so the browser didn't dispatch the dragend event.\n      //\n      // We need to wait before we start listening for mousemove events.\n      // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n      // immediately in some browsers.\n      //\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n      //\n\n      this.mouseMoveTimeoutTimer = setTimeout(function () {\n        var _this5$rootElement;\n\n        return (_this5$rootElement = _this5.rootElement) === null || _this5$rootElement === void 0 ? void 0 : _this5$rootElement.addEventListener('mousemove', _this5.endDragIfSourceWasRemovedFromDOM, true);\n      }, MOUSE_MOVE_TIMEOUT);\n    }\n  }, {\n    key: \"clearCurrentDragSourceNode\",\n    value: function clearCurrentDragSourceNode() {\n      if (this.currentDragSourceNode) {\n        this.currentDragSourceNode = null;\n\n        if (this.rootElement) {\n          var _this$window2;\n\n          (_this$window2 = this.window) === null || _this$window2 === void 0 ? void 0 : _this$window2.clearTimeout(this.mouseMoveTimeoutTimer || undefined);\n          this.rootElement.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n        }\n\n        this.mouseMoveTimeoutTimer = null;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"handleDragStart\",\n    value: function handleDragStart(e, sourceId) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      if (!this.dragStartSourceIds) {\n        this.dragStartSourceIds = [];\n      }\n\n      this.dragStartSourceIds.unshift(sourceId);\n    }\n  }, {\n    key: \"handleDragEnter\",\n    value: function handleDragEnter(e, targetId) {\n      this.dragEnterTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDragOver\",\n    value: function handleDragOver(e, targetId) {\n      if (this.dragOverTargetIds === null) {\n        this.dragOverTargetIds = [];\n      }\n\n      this.dragOverTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(e, targetId) {\n      this.dropTargetIds.unshift(targetId);\n    }\n  }]);\n\n  return HTML5BackendImpl;\n}();","import { HTML5BackendImpl } from './HTML5BackendImpl';\nimport * as NativeTypes from './NativeTypes';\nexport { getEmptyImage } from './getEmptyImage';\nexport { NativeTypes };\nexport var HTML5Backend = function createBackend(manager, context, options) {\n  return new HTML5BackendImpl(manager, context, options);\n};","import React, { useEffect } from 'react';\nimport { DISPLAY_MODE_EDIT } from '../actions/display';\nimport { useBlurAllCells, useIsInsertMode, useSetMode } from './hooks';\n// this might break in future, but its better than nothing\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction findReactElement(node) {\n    for (var key in node) {\n        if (key.startsWith('__reactInternalInstance$') ||\n            key.startsWith('__reactFiber$') // react 17\n        ) {\n            return node[key];\n        }\n    }\n    return null;\n}\n// we go up the reac-tree. This works even through portals, which would not be possible with traversing the dom tree!\nvar isInSameTree = function (parent, child) {\n    if (!parent) {\n        return false;\n    }\n    var element = findReactElement(child);\n    while (element) {\n        if (element.stateNode === parent) {\n            return true;\n        }\n        element = element.return;\n    }\n    return false;\n};\nvar useBlurAll = function (_a) {\n    var _b = _a.defaultMode, defaultMode = _b === void 0 ? DISPLAY_MODE_EDIT : _b, disabled = _a.disabled;\n    var ref = React.useRef();\n    var blurAllCells = useBlurAllCells();\n    var setMode = useSetMode();\n    var isInsertMode = useIsInsertMode();\n    useEffect(function () {\n        if (disabled) {\n            return;\n        }\n        if (!ref.current) {\n            return;\n        }\n        if (!document && !document.body) {\n            return;\n        }\n        var onMouseDown = function (e) {\n            if (!isInSameTree(ref.current, e.target)) {\n                blurAllCells();\n                // set us in default mode if current mode is \"insert\"\n                if (isInsertMode) {\n                    setMode(defaultMode);\n                }\n            }\n        };\n        document.body.addEventListener('mousedown', onMouseDown);\n        return function () {\n            document.body.removeEventListener('mousedown', onMouseDown);\n        };\n    }, [ref.current, disabled, isInsertMode, setMode, blurAllCells]);\n    return ref;\n};\nvar BlurGate = function (_a) {\n    var defaultMode = _a.defaultMode, disabled = _a.disabled, children = _a.children;\n    var ref = useBlurAll({ defaultMode: defaultMode, disabled: disabled });\n    return React.createElement(\"div\", { ref: ref }, children);\n};\nexport default BlurGate;\n//# sourceMappingURL=BlurGate.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar serializeRow = function (r, cellPlugins) {\n    return __assign(__assign({}, r), { cells: r.cells.map(function (c) { return serializeCell(c, cellPlugins); }) });\n};\nvar serializeCell = function (c, cellPlugins) {\n    var _a;\n    var pluginDef = c.plugin;\n    var pluginFound = pluginDef\n        ? cellPlugins.find(function (p) { return p.id === pluginDef.id; })\n        : null;\n    var transformData = function (dataIn) {\n        return (pluginFound === null || pluginFound === void 0 ? void 0 : pluginFound.serialize) ? pluginFound.serialize(dataIn) : dataIn;\n    };\n    var dataI18n = c.dataI18n\n        ? Object.keys(c.dataI18n).reduce(function (acc, lang) {\n            var _a;\n            var _b;\n            return (__assign(__assign({}, acc), (_a = {}, _a[lang] = transformData((_b = c.dataI18n) === null || _b === void 0 ? void 0 : _b[lang]), _a)));\n        }, {})\n        : null;\n    return __assign(__assign({}, c), { rows: (_a = c.rows) === null || _a === void 0 ? void 0 : _a.map(function (r) { return serializeRow(r, cellPlugins); }), dataI18n: dataI18n });\n};\nexport var serialzeValue = function (_a, plugins) {\n    var rows = _a.rows, rest = __rest(_a, [\"rows\"]);\n    return __assign(__assign({}, rest), { rows: rows.map(function (c) { return serializeRow(c, plugins); }) });\n};\n//# sourceMappingURL=serialzeValue.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { OptionsContext } from '../components/hooks';\nimport { useOptionsMemoized } from './useOptionsMemoized';\nvar OptionsProvider = function (_a) {\n    var children = _a.children, options = __rest(_a, [\"children\"]);\n    var optionsMemoized = useOptionsMemoized(options);\n    return (React.createElement(OptionsContext.Provider, { value: optionsMemoized }, children));\n};\nexport default OptionsProvider;\n//# sourceMappingURL=OptionsProvider.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { useMemo } from 'react';\nexport var useOptionsMemoized = function (_a) {\n    var _b = _a.pluginsWillChange, pluginsWillChange = _b === void 0 ? false : _b, _c = _a.cellPlugins, cellPlugins = _c === void 0 ? [] : _c, _d = _a.allowMoveInEditMode, allowMoveInEditMode = _d === void 0 ? true : _d, _e = _a.allowResizeInEditMode, allowResizeInEditMode = _e === void 0 ? true : _e, languages = _a.languages, childConstraints = _a.childConstraints, components = _a.components, cellSpacing = _a.cellSpacing, uiTranslator = _a.uiTranslator;\n    // see https://github.com/react-page/react-page/issues/918#issuecomment-801457987\n    // minimize unnecessary rerenders by forcing shallow comparison of \"components\" object\n    var componentWithNulls = __assign({ BottomToolbar: null, CellPluginMissing: null, EditModeResizeHandle: null, InsertNew: null }, (components !== null && components !== void 0 ? components : {}));\n    var componentDeps = __spread(Object.keys(componentWithNulls), Object.values(componentWithNulls));\n    return useMemo(function () {\n        return {\n            cellPlugins: cellPlugins,\n            pluginsWillChange: pluginsWillChange,\n            allowMoveInEditMode: allowMoveInEditMode,\n            allowResizeInEditMode: allowResizeInEditMode,\n            languages: languages,\n            childConstraints: childConstraints,\n            components: components,\n            cellSpacing: cellSpacing,\n            uiTranslator: uiTranslator,\n        };\n    }, __spread([\n        pluginsWillChange && cellPlugins,\n        allowMoveInEditMode,\n        allowResizeInEditMode,\n        languages,\n        uiTranslator,\n        JSON.stringify(childConstraints !== null && childConstraints !== void 0 ? childConstraints : {}),\n        JSON.stringify(cellSpacing !== null && cellSpacing !== void 0 ? cellSpacing : [])\n    ], componentDeps));\n};\n//# sourceMappingURL=useOptionsMemoized.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport React, { useEffect, useMemo, useRef } from 'react';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport BlurGate from '../components/BlurGate';\nimport EditorStore, { EditorContext } from '../EditorStore';\nimport { ReduxProvider } from '../reduxConnect';\nimport { serialzeValue } from '../migrations/serialzeValue';\nimport deepEquals from '../utils/deepEquals';\nimport { migrateValue } from '../migrations/migrate';\nimport { updateValue } from '../actions/value';\nimport OptionsProvider from './OptionsProvider';\nimport { initialState } from '../reducer';\nvar Provider = function (_a) {\n    var lang = _a.lang, value = _a.value, onChangeLang = _a.onChangeLang, onChange = _a.onChange, _b = _a.children, children = _b === void 0 ? [] : _b, _c = _a.dndBackend, dndBackend = _c === void 0 ? HTML5Backend : _c, _d = _a.blurGateDisabled, blurGateDisabled = _d === void 0 ? false : _d, blurGateDefaultMode = _a.blurGateDefaultMode, cellPlugins = _a.cellPlugins, passedStore = _a.store, _e = _a.middleware, middleware = _e === void 0 ? [] : _e, pluginsWillChange = _a.pluginsWillChange, options = __rest(_a, [\"lang\", \"value\", \"onChangeLang\", \"onChange\", \"children\", \"dndBackend\", \"blurGateDisabled\", \"blurGateDefaultMode\", \"cellPlugins\", \"store\", \"middleware\", \"pluginsWillChange\"]);\n    var editorStore = useMemo(function () {\n        var store = new EditorStore({\n            initialState: initialState(migrateValue(value, {\n                cellPlugins: cellPlugins,\n                lang: lang,\n            }), lang),\n            store: passedStore,\n            middleware: middleware,\n        });\n        return store;\n    }, __spread([passedStore], middleware));\n    var lastValueRef = useRef(value);\n    useEffect(function () {\n        var oldLang = lang;\n        var handleChanges = function () {\n            // notify outsiders to new language, when chagned in ui\n            var newLang = editorStore.store.getState().reactPage.settings.lang;\n            if (newLang !== oldLang || newLang !== lang) {\n                oldLang = newLang;\n                onChangeLang === null || onChangeLang === void 0 ? void 0 : onChangeLang(newLang);\n            }\n            if (!onChange) {\n                return;\n            }\n            //console.time('calculate notifiy on change');\n            var currentValue = editorStore.store.getState().reactPage.values\n                .present;\n            if (!currentValue) {\n                // console.timeEnd('calculate notifiy on change');\n                return;\n            }\n            var serializedValue = serialzeValue(currentValue, cellPlugins);\n            var serializedEqual = deepEquals(lastValueRef.current, serializedValue);\n            if (serializedEqual) {\n                //    console.timeEnd('calculate notifiy on change');\n                return;\n            }\n            lastValueRef.current = serializedValue;\n            //   console.timeEnd('calculate notifiy on change');\n            onChange(serializedValue);\n        };\n        var unsubscribe = editorStore.store.subscribe(handleChanges);\n        return function () {\n            unsubscribe();\n        };\n    }, [editorStore, onChange, pluginsWillChange && cellPlugins]);\n    useEffect(function () {\n        var equal = deepEquals(value, lastValueRef.current);\n        // value changed from outside\n        if (!equal) {\n            lastValueRef.current = value;\n            var migratedValue = migrateValue(value, {\n                cellPlugins: cellPlugins,\n                lang: lang,\n            });\n            editorStore.store.dispatch(updateValue(migratedValue));\n        }\n    }, [value, pluginsWillChange && cellPlugins, lang]);\n    useEffect(function () {\n        // if changed from outside\n        editorStore.setLang(lang);\n    }, [editorStore, lang]);\n    return (React.createElement(DndProvider, { backend: dndBackend },\n        React.createElement(ReduxProvider, { store: editorStore.store },\n            React.createElement(OptionsProvider, __assign({}, options, { pluginsWillChange: pluginsWillChange, cellPlugins: cellPlugins }),\n                React.createElement(EditorContext.Provider, { value: editorStore },\n                    React.createElement(BlurGate, { disabled: blurGateDisabled, defaultMode: blurGateDefaultMode }, children))))));\n};\nexport default Provider;\n//# sourceMappingURL=index.js.map","import React from 'react';\nimport Fab from '@material-ui/core/Fab';\nimport { useIsSmallScreen } from '../../../core/components/hooks';\nvar DisplayModeToggle = function (_a) {\n    var description = _a.description, icon = _a.icon, onClick = _a.onClick, active = _a.active, disabled = _a.disabled, _b = _a.activeColor, activeColor = _b === void 0 ? 'secondary' : _b, style = _a.style;\n    var isSmall = useIsSmallScreen();\n    return (React.createElement(\"div\", { className: \"react-page-controls-mode-toggle-button\", style: style },\n        React.createElement(\"div\", { className: \"react-page-controls-mode-toggle-button-inner\" },\n            React.createElement(Fab, { color: active ? activeColor : 'default', size: isSmall ? 'small' : 'large', onClick: onClick, disabled: disabled }, icon)),\n        React.createElement(\"div\", { className: \"react-page-controls-mode-toggle-button-description\" }, description)));\n};\nexport default DisplayModeToggle;\n//# sourceMappingURL=index.js.map","import Create from '@material-ui/icons/Create';\nimport React from 'react';\nimport { useIsEditMode, useSetEditMode } from '../../../core/components/hooks';\nimport Button from '../Button/index';\nvar ToggleEdit = function (_a) {\n    var label = _a.label;\n    var isEditMode = useIsEditMode();\n    var setEditMode = useSetEditMode();\n    return (React.createElement(Button, { icon: React.createElement(Create, null), description: label, active: isEditMode, onClick: setEditMode }));\n};\nexport default React.memo(ToggleEdit);\n//# sourceMappingURL=index.js.map","import ContentAdd from '@material-ui/icons/Add';\nimport React from 'react';\nimport { useIsInsertMode, useSetInsertMode, } from '../../../core/components/hooks';\nimport Button from '../Button/index';\nvar ToggleInsert = function (_a) {\n    var label = _a.label;\n    var isInsertMode = useIsInsertMode();\n    var setInsertMode = useSetInsertMode();\n    return (React.createElement(Button, { icon: React.createElement(ContentAdd, null), description: label, active: isInsertMode, onClick: setInsertMode }));\n};\nexport default React.memo(ToggleInsert);\n//# sourceMappingURL=index.js.map","import ViewQuilt from '@material-ui/icons/ViewQuilt';\nimport React from 'react';\nimport { useIsLayoutMode, useSetLayoutMode, } from '../../../core/components/hooks';\nimport Button from '../Button';\nvar ToggleLayout = function (_a) {\n    var label = _a.label;\n    var isLayoutMode = useIsLayoutMode();\n    var setLayoutMode = useSetLayoutMode();\n    return (React.createElement(Button, { icon: React.createElement(ViewQuilt, null), description: label, active: isLayoutMode, onClick: setLayoutMode }));\n};\nexport default React.memo(ToggleLayout);\n//# sourceMappingURL=index.js.map","import Devices from '@material-ui/icons/Devices';\nimport React from 'react';\nimport { useIsPreviewMode, useSetPreviewMode, } from '../../../core/components/hooks';\nimport Button from '../Button/index';\nvar TogglePreview = function (_a) {\n    var label = _a.label;\n    var isPreviewMode = useIsPreviewMode();\n    var setIsPreviewMode = useSetPreviewMode();\n    return (React.createElement(Button, { icon: React.createElement(Devices, null), description: label, active: isPreviewMode, onClick: setIsPreviewMode }));\n};\nexport default React.memo(TogglePreview);\n//# sourceMappingURL=index.js.map","import Resize from '@material-ui/icons/SettingsOverscan';\nimport React from 'react';\nimport { useIsResizeMode, useSetResizeMode, } from '../../../core/components/hooks';\nimport Button from '../Button/index';\nvar ToggleResize = function (props) {\n    var isResizeMode = useIsResizeMode();\n    var setResizeMode = useSetResizeMode();\n    return (React.createElement(Button, { icon: React.createElement(Resize, null), description: props.label, active: isResizeMode, onClick: setResizeMode }));\n};\nexport default React.memo(ToggleResize);\n//# sourceMappingURL=index.js.map","import IconUndo from '@material-ui/icons/Undo';\nimport IconRedo from '@material-ui/icons/Redo';\nimport React from 'react';\nimport { useRedo, useCanUndo, useCanRedo, useUndo, useIsSmallScreen, } from '../../../core/components/hooks';\nimport Button from '../Button/index';\nvar UndoRedo = function (_a) {\n    var labelUndo = _a.labelUndo, labelRedo = _a.labelRedo;\n    var undo = useUndo();\n    var canUndo = useCanUndo();\n    var canRedo = useCanRedo();\n    var redo = useRedo();\n    var isSmall = useIsSmallScreen();\n    return (React.createElement(\"div\", { style: {\n            height: isSmall ? 56 : 80,\n            float: 'right',\n            display: 'flex',\n            direction: 'ltr',\n            transform: 'scale(1.2)',\n        } },\n        React.createElement(\"div\", { style: {\n                width: isSmall ? 29 : 36,\n                overflow: 'hidden',\n                marginRight: isSmall ? 1 : 2,\n            } },\n            React.createElement(Button, { active: true, disabled: !canUndo, style: {\n                    transform: \"translateX(\" + (isSmall ? 27 : 35) + \"px)\",\n                }, icon: React.createElement(IconUndo, { style: { transform: \"translateX(-\" + (isSmall ? 6 : 12) + \"px)\" } }), description: labelUndo, onClick: undo, activeColor: \"primary\" })),\n        React.createElement(\"div\", { style: {\n                width: isSmall ? 28 : 36,\n                overflow: 'hidden',\n                marginLeft: 1,\n            } },\n            React.createElement(Button, { style: {\n                    position: 'relative',\n                    transform: 'translateX(1px)',\n                }, active: true, disabled: !canRedo, icon: React.createElement(IconRedo, { style: { transform: \"translateX(\" + (isSmall ? 6 : 12) + \"px)\" } }), description: labelRedo, onClick: redo, activeColor: \"primary\" }))));\n};\nexport default React.memo(UndoRedo);\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport { useUiTranslator } from '../../core/components/hooks';\nimport ToggleEdit from './ToggleEdit/index';\nimport ToggleInsert from './ToggleInsert/index';\nimport ToggleLayout from './ToggleLayout/index';\nimport TogglePreview from './TogglePreview/index';\nimport ToggleResize from './ToggleResize/index';\nimport UndoRedo from './UndoRedo';\nvar getStickyNessstyle = function (stickyness) {\n    if (!stickyness ||\n        (!stickyness.shouldStickToBottom && !stickyness.shouldStickToTop)) {\n        return {\n            position: 'fixed',\n        };\n    }\n    return {\n        position: 'absolute',\n        bottom: stickyness.shouldStickToBottom ? 0 : 'auto',\n        top: stickyness.shouldStickToTop ? 0 : 'auto',\n        right: -stickyness.rightOffset || 0,\n    };\n};\nexport var DisplayModeToggle = function (_a) {\n    var stickyNess = _a.stickyNess;\n    var t = useUiTranslator().t;\n    var defaultLabels = {\n        edit: 'Edit blocks',\n        insert: 'Add blocks',\n        layout: 'Move blocks',\n        resize: 'Resize blocks',\n        preview: 'Preview page',\n    };\n    var actions = [\n        // eslint-disable-next-line react/jsx-key\n        { action: React.createElement(UndoRedo, { labelRedo: \"redo\", labelUndo: \"undo\" }) },\n        { action: React.createElement(ToggleEdit, { label: t(defaultLabels.edit) }) },\n        { action: React.createElement(ToggleInsert, { label: t(defaultLabels.insert) }) },\n        { action: React.createElement(ToggleLayout, { label: t(defaultLabels.layout) }) },\n        { action: React.createElement(ToggleResize, { label: t(defaultLabels.resize) }) },\n        { action: React.createElement(TogglePreview, { label: t(defaultLabels.preview) }) },\n    ];\n    return (React.createElement(\"div\", { className: \"react-page-controls-mode-toggle-control-group\", style: __assign({ position: 'fixed', zIndex: 10001, bottom: 0, right: 0, display: 'flex', maxHeight: '100%' }, getStickyNessstyle(stickyNess)) },\n        React.createElement(\"div\", { ref: stickyNess.stickyElRef, style: {\n                padding: 16,\n                position: 'relative',\n                flexFlow: 'column wrap',\n                direction: 'rtl',\n                display: 'flex',\n            } }, actions.map(function (_a, index) {\n            var action = _a.action;\n            return (React.createElement(\"div\", { key: index, className: \"react-page-controls-mode-toggle-control\", style: {\n                    animationDelay: (actions.length - index) * 150 + 'ms',\n                } },\n                action,\n                React.createElement(\"div\", { className: \"react-page-controls-mode-toggle-clearfix\" })));\n        }))));\n};\n//# sourceMappingURL=index.js.map","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport Typography from '../Typography';\nimport ListContext from '../List/ListContext';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    flex: '1 1 auto',\n    minWidth: 0,\n    marginTop: 4,\n    marginBottom: 4\n  },\n\n  /* Styles applied to the `Typography` components if primary and secondary are set. */\n  multiline: {\n    marginTop: 6,\n    marginBottom: 6\n  },\n\n  /* Styles applied to the `Typography` components if dense. */\n  dense: {},\n\n  /* Styles applied to the root element if `inset={true}`. */\n  inset: {\n    paddingLeft: 56\n  },\n\n  /* Styles applied to the primary `Typography` component. */\n  primary: {},\n\n  /* Styles applied to the secondary `Typography` component. */\n  secondary: {}\n};\nvar ListItemText = /*#__PURE__*/React.forwardRef(function ListItemText(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$disableTypogra = props.disableTypography,\n      disableTypography = _props$disableTypogra === void 0 ? false : _props$disableTypogra,\n      _props$inset = props.inset,\n      inset = _props$inset === void 0 ? false : _props$inset,\n      primaryProp = props.primary,\n      primaryTypographyProps = props.primaryTypographyProps,\n      secondaryProp = props.secondary,\n      secondaryTypographyProps = props.secondaryTypographyProps,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"disableTypography\", \"inset\", \"primary\", \"primaryTypographyProps\", \"secondary\", \"secondaryTypographyProps\"]);\n\n  var _React$useContext = React.useContext(ListContext),\n      dense = _React$useContext.dense;\n\n  var primary = primaryProp != null ? primaryProp : children;\n\n  if (primary != null && primary.type !== Typography && !disableTypography) {\n    primary = /*#__PURE__*/React.createElement(Typography, _extends({\n      variant: dense ? 'body2' : 'body1',\n      className: classes.primary,\n      component: \"span\",\n      display: \"block\"\n    }, primaryTypographyProps), primary);\n  }\n\n  var secondary = secondaryProp;\n\n  if (secondary != null && secondary.type !== Typography && !disableTypography) {\n    secondary = /*#__PURE__*/React.createElement(Typography, _extends({\n      variant: \"body2\",\n      className: classes.secondary,\n      color: \"textSecondary\",\n      display: \"block\"\n    }, secondaryTypographyProps), secondary);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, dense && classes.dense, inset && classes.inset, primary && secondary && classes.multiline),\n    ref: ref\n  }, other), primary, secondary);\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItemText.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Alias for the `primary` prop.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the children won't be wrapped by a Typography component.\n   * This can be useful to render an alternative Typography variant by wrapping\n   * the `children` (or `primary`) text, and optional `secondary` text\n   * with the Typography component.\n   */\n  disableTypography: PropTypes.bool,\n\n  /**\n   * If `true`, the children will be indented.\n   * This should be used if there is no left avatar or left icon.\n   */\n  inset: PropTypes.bool,\n\n  /**\n   * The main content element.\n   */\n  primary: PropTypes.node,\n\n  /**\n   * These props will be forwarded to the primary typography component\n   * (as long as disableTypography is not `true`).\n   */\n  primaryTypographyProps: PropTypes.object,\n\n  /**\n   * The secondary content element.\n   */\n  secondary: PropTypes.node,\n\n  /**\n   * These props will be forwarded to the secondary typography component\n   * (as long as disableTypography is not `true`).\n   */\n  secondaryTypographyProps: PropTypes.object\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiListItemText'\n})(ListItemText);","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport classNames from 'classnames';\nimport React from 'react';\nimport { DragPreviewImage, useDrag } from 'react-dnd';\nimport { dragIcon } from '../../../core/components/Cell/Draggable/useDragHandle';\nimport { useSetLayoutMode } from '../../../core/components/hooks/displayMode';\nvar Draggable = function (_a) {\n    var insert = _a.insert, children = _a.children;\n    var setLayoutMode = useSetLayoutMode();\n    var _b = __read(useDrag({\n        type: 'cell',\n        item: function () {\n            setLayoutMode();\n            return {\n                cell: insert,\n            };\n        },\n        collect: function (monitor) { return ({\n            isDragging: monitor.isDragging(),\n        }); },\n    }), 3), isDragging = _b[0].isDragging, dragRef = _b[1], preview = _b[2];\n    var classes = classNames({ 'react-page-toolbar-draggable-is-dragged': isDragging }, 'react-page-toolbar-draggable');\n    return (React.createElement(\"div\", { className: classes, ref: dragRef },\n        React.createElement(DragPreviewImage, { connect: preview, src: dragIcon }),\n        children));\n};\nexport default Draggable;\n//# sourceMappingURL=index.js.map","import Avatar from '@material-ui/core/Avatar';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport React from 'react';\nimport { useDisplayModeReferenceNodeId, useInsertNew, useUiTranslator, } from '../../../core/components/hooks';\nimport Draggable from '../Draggable/index';\nvar Item = function (_a) {\n    var _b;\n    var plugin = _a.plugin, insert = _a.insert;\n    var title = (_b = plugin.title) !== null && _b !== void 0 ? _b : plugin.text;\n    var t = useUiTranslator().t;\n    if (!plugin.icon && !title) {\n        return null;\n    }\n    var referenceNodeId = useDisplayModeReferenceNodeId();\n    var insertNew = useInsertNew(referenceNodeId);\n    var insertIt = React.useCallback(function () { return insertNew(insert); }, [\n        insertNew,\n        referenceNodeId,\n        insert,\n    ]);\n    return (React.createElement(Draggable, { insert: insert },\n        React.createElement(ListItem, { title: t('Click to add or drag and drop it somewhere on your page!'), className: \"react-page-plugin-drawer-item\", onClick: insertIt },\n            React.createElement(Avatar, { children: plugin.icon || title[0], style: {\n                    marginRight: 16,\n                } }),\n            React.createElement(ListItemText, { primary: t(title), secondary: t(plugin.description) }))));\n};\nexport default Item;\n//# sourceMappingURL=index.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport TextField from '@material-ui/core/TextField';\nimport React from 'react';\nimport { Portal } from 'react-portal';\nimport { useIsInsertMode, useUiTranslator, useDisplayModeReferenceNodeId, useAllCellPluginsForNode, } from '../../core/components/hooks';\nimport Item from './Item/index';\nvar getPluginTitle = function (plugin) { var _a; return (_a = (plugin.title || plugin.text)) !== null && _a !== void 0 ? _a : ''; };\nexport var PluginDrawer = React.memo(function () {\n    var defaultLabels = {\n        noPluginFoundContent: 'No blocks found',\n        searchPlaceholder: 'Search for blocks',\n        insertPlugin: 'Add blocks to page',\n        dragMe: 'Drag me!',\n    };\n    var nodeId = useDisplayModeReferenceNodeId();\n    var plugins = useAllCellPluginsForNode(nodeId);\n    var t = useUiTranslator().t;\n    var _a = __read(React.useState(''), 2), searchText = _a[0], setSearchText = _a[1];\n    var searchFilter = React.useCallback(function (plugin) {\n        var id = plugin.id;\n        var title = getPluginTitle(plugin);\n        return (plugin &&\n            id &&\n            !plugin.hideInMenu &&\n            (id.toLowerCase().startsWith(searchText === null || searchText === void 0 ? void 0 : searchText.toLowerCase()) ||\n                (plugin.description &&\n                    plugin.description\n                        .toLowerCase()\n                        .startsWith(searchText === null || searchText === void 0 ? void 0 : searchText.toLowerCase())) ||\n                (title && title.toLowerCase().startsWith(searchText === null || searchText === void 0 ? void 0 : searchText.toLowerCase()))));\n    }, [searchText]);\n    var onSearch = React.useCallback(function (e) {\n        var target = e.target;\n        if (target instanceof HTMLInputElement) {\n            setSearchText(target.value);\n        }\n    }, [setSearchText]);\n    var isInsertMode = useIsInsertMode();\n    var inputRef = React.useRef();\n    React.useEffect(function () {\n        var handle;\n        if (inputRef.current && isInsertMode) {\n            handle = setTimeout(function () {\n                var e = inputRef.current.querySelector('input');\n                if (e) {\n                    e.focus();\n                }\n            }, 100);\n        }\n        return function () {\n            clearTimeout(handle);\n        };\n    }, [inputRef.current, isInsertMode]);\n    var filteredPlugins = plugins.filter(searchFilter);\n    return (React.createElement(Portal, null,\n        React.createElement(Drawer, { variant: \"persistent\", className: \"react-page-plugin-drawer\", open: isInsertMode, PaperProps: {\n                style: {\n                    width: 320,\n                },\n            } },\n            React.createElement(List, { subheader: React.createElement(ListSubheader, null, t(defaultLabels.insertPlugin)) },\n                React.createElement(ListItem, null,\n                    React.createElement(TextField, { inputRef: inputRef, placeholder: t(defaultLabels.searchPlaceholder), fullWidth: true, onChange: onSearch })),\n                filteredPlugins.length === 0 && (React.createElement(ListSubheader, null, t(defaultLabels.noPluginFoundContent)))),\n            filteredPlugins.length > 0 && (React.createElement(List, null, filteredPlugins.map(function (plugin, k) {\n                return (React.createElement(Item, { translations: defaultLabels, plugin: plugin, key: k.toString(), insert: {\n                        plugin: plugin.id,\n                    } }));\n            }))))));\n});\n//# sourceMappingURL=index.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport Fab from '@material-ui/core/Fab';\nimport Delete from '@material-ui/icons/Delete';\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useIsLayoutMode, useTrashDrop } from '../../core/components/hooks';\nexport var Trash = React.memo(function () {\n    var isLayoutMode = useIsLayoutMode();\n    var _a = __read(useTrashDrop(), 2), isHovering = _a[0].isHovering, ref = _a[1];\n    return (React.createElement(\"div\", { ref: ref, className: classNames('react-page-controls-trash', {\n            'react-page-controls-trash-active': isLayoutMode,\n        }) },\n        React.createElement(Fab, { color: \"secondary\", disabled: !isHovering },\n            React.createElement(Delete, null))));\n});\n//# sourceMappingURL=index.js.map","import React from 'react';\nimport { DisplayModeToggle } from '../DisplayModeToggle';\nimport { ThemeProvider } from '../ThemeProvider';\nimport { PluginDrawer } from '../PluginDrawer';\nimport { Trash } from '../Trash';\nexport default React.memo(function (_a) {\n    var _b = _a.stickyNess, stickyNess = _b === void 0 ? {\n        shouldStickToTop: false,\n        shouldStickToBottom: false,\n        rightOffset: 0,\n    } : _b, _c = _a.hideEditorSidebar, hideEditorSidebar = _c === void 0 ? false : _c;\n    return (React.createElement(ThemeProvider, null,\n        React.createElement(Trash, null),\n        !hideEditorSidebar && React.createElement(DisplayModeToggle, { stickyNess: stickyNess }),\n        React.createElement(PluginDrawer, null)));\n});\n//# sourceMappingURL=index.js.map","import { useCallback } from 'react';\nimport { useEffect } from 'react';\nimport { useBlurAllCells, useFocusedNodeId, useIsInsertMode, useSetEditMode, useSetInsertMode, } from '../hooks';\n//For handling the slash key to open cell plugins globally\nvar GlobalHotKeys = function () {\n    var setInsertMode = useSetInsertMode();\n    var setEditMode = useSetEditMode();\n    var isInsertMode = useIsInsertMode();\n    var blurAll = useBlurAllCells();\n    var someCellIsFocused = Boolean(useFocusedNodeId());\n    var handleKeyDown = useCallback(function (e) {\n        if (e.key === 'Escape') {\n            if (someCellIsFocused) {\n                blurAll();\n            }\n            if (isInsertMode) {\n                setEditMode();\n            }\n        }\n        if (someCellIsFocused && e.key === 'Escape') {\n            blurAll();\n        }\n        else if (!someCellIsFocused && (e === null || e === void 0 ? void 0 : e.key) === '/') {\n            setInsertMode();\n        }\n    }, [isInsertMode, setEditMode, setInsertMode, someCellIsFocused, blurAll]);\n    useEffect(function () {\n        window === null || window === void 0 ? void 0 : window.addEventListener('keydown', handleKeyDown);\n        return function () {\n            window === null || window === void 0 ? void 0 : window.removeEventListener('keydown', handleKeyDown);\n        };\n    }, [handleKeyDown]);\n    return null;\n};\nexport default GlobalHotKeys;\n//# sourceMappingURL=GlobalHotKeys.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport Editable from '../core/components/Editable';\nimport { createEmptyState } from '../core/EditorStore';\nimport Provider from '../core/Provider';\nimport EditorUI from '../ui/EditorUI';\nimport StickyWrapper from './StickyWrapper';\nimport GlobalHotKeys from '../core/components/HotKey/GlobalHotKeys';\nvar EditableEditor = function (_a) {\n    var value = _a.value, onChange = _a.onChange, dndBackend = _a.dndBackend, defaultDisplayMode = _a.defaultDisplayMode, blurGateDisabled = _a.blurGateDisabled, lang = _a.lang, languages = _a.languages, onChangeLang = _a.onChangeLang, hideEditorSidebar = _a.hideEditorSidebar, children = _a.children, options = __rest(_a, [\"value\", \"onChange\", \"dndBackend\", \"defaultDisplayMode\", \"blurGateDisabled\", \"lang\", \"languages\", \"onChangeLang\", \"hideEditorSidebar\", \"children\"]);\n    var theValue = value || createEmptyState();\n    return (React.createElement(Provider, __assign({ lang: lang, onChangeLang: onChangeLang, value: theValue, onChange: onChange, languages: languages, dndBackend: dndBackend, blurGateDisabled: blurGateDisabled, blurGateDefaultMode: defaultDisplayMode }, options),\n        children,\n        React.createElement(StickyWrapper, null, function (stickyNess) { return (React.createElement(React.Fragment, null,\n            React.createElement(GlobalHotKeys, null),\n            React.createElement(Editable, null),\n            React.createElement(EditorUI, { stickyNess: stickyNess, hideEditorSidebar: hideEditorSidebar }))); })));\n};\nexport default EditableEditor;\n//# sourceMappingURL=EditableEditor.js.map","export var INIT_COORDS = 'dnd-core/INIT_COORDS';\nexport var BEGIN_DRAG = 'dnd-core/BEGIN_DRAG';\nexport var PUBLISH_DRAG_SOURCE = 'dnd-core/PUBLISH_DRAG_SOURCE';\nexport var HOVER = 'dnd-core/HOVER';\nexport var DROP = 'dnd-core/DROP';\nexport var END_DRAG = 'dnd-core/END_DRAG';","import { INIT_COORDS } from '../types';\nexport function setClientOffset(clientOffset, sourceClientOffset) {\n  return {\n    type: INIT_COORDS,\n    payload: {\n      sourceClientOffset: sourceClientOffset || null,\n      clientOffset: clientOffset || null\n    }\n  };\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// cheap lodash replacements\n\n/**\n * drop-in replacement for _.get\n * @param obj\n * @param path\n * @param defaultValue\n */\nexport function get(obj, path, defaultValue) {\n  return path.split('.').reduce(function (a, c) {\n    return a && a[c] ? a[c] : defaultValue || null;\n  }, obj);\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nexport function isString(input) {\n  return typeof input === 'string';\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nexport function isObject(input) {\n  return _typeof(input) === 'object';\n}\n/**\n * repalcement for _.xor\n * @param itemsA\n * @param itemsB\n */\n\nexport function xor(itemsA, itemsB) {\n  var map = new Map();\n\n  var insertItem = function insertItem(item) {\n    map.set(item, map.has(item) ? map.get(item) + 1 : 1);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  map.forEach(function (count, key) {\n    if (count === 1) {\n      result.push(key);\n    }\n  });\n  return result;\n}\n/**\n * replacement for _.intersection\n * @param itemsA\n * @param itemsB\n */\n\nexport function intersection(itemsA, itemsB) {\n  return itemsA.filter(function (t) {\n    return itemsB.indexOf(t) > -1;\n  });\n}","import { invariant } from '@react-dnd/invariant';\nimport { setClientOffset } from './local/setClientOffset';\nimport { isObject } from '../../utils/js_utils';\nimport { BEGIN_DRAG, INIT_COORDS } from './types';\nvar ResetCoordinatesAction = {\n  type: INIT_COORDS,\n  payload: {\n    clientOffset: null,\n    sourceClientOffset: null\n  }\n};\nexport function createBeginDrag(manager) {\n  return function beginDrag() {\n    var sourceIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      publishSource: true\n    };\n    var _options$publishSourc = options.publishSource,\n        publishSource = _options$publishSourc === void 0 ? true : _options$publishSourc,\n        clientOffset = options.clientOffset,\n        getSourceClientOffset = options.getSourceClientOffset;\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry(); // Initialize the coordinates using the client offset\n\n    manager.dispatch(setClientOffset(clientOffset));\n    verifyInvariants(sourceIds, monitor, registry); // Get the draggable source\n\n    var sourceId = getDraggableSource(sourceIds, monitor);\n\n    if (sourceId === null) {\n      manager.dispatch(ResetCoordinatesAction);\n      return;\n    } // Get the source client offset\n\n\n    var sourceClientOffset = null;\n\n    if (clientOffset) {\n      if (!getSourceClientOffset) {\n        throw new Error('getSourceClientOffset must be defined');\n      }\n\n      verifyGetSourceClientOffsetIsFunction(getSourceClientOffset);\n      sourceClientOffset = getSourceClientOffset(sourceId);\n    } // Initialize the full coordinates\n\n\n    manager.dispatch(setClientOffset(clientOffset, sourceClientOffset));\n    var source = registry.getSource(sourceId);\n    var item = source.beginDrag(monitor, sourceId); // If source.beginDrag returns null, this is an indicator to cancel the drag\n\n    if (item == null) {\n      return undefined;\n    }\n\n    verifyItemIsObject(item);\n    registry.pinSource(sourceId);\n    var itemType = registry.getSourceType(sourceId);\n    return {\n      type: BEGIN_DRAG,\n      payload: {\n        itemType: itemType,\n        item: item,\n        sourceId: sourceId,\n        clientOffset: clientOffset || null,\n        sourceClientOffset: sourceClientOffset || null,\n        isSourcePublic: !!publishSource\n      }\n    };\n  };\n}\n\nfunction verifyInvariants(sourceIds, monitor, registry) {\n  invariant(!monitor.isDragging(), 'Cannot call beginDrag while dragging.');\n  sourceIds.forEach(function (sourceId) {\n    invariant(registry.getSource(sourceId), 'Expected sourceIds to be registered.');\n  });\n}\n\nfunction verifyGetSourceClientOffsetIsFunction(getSourceClientOffset) {\n  invariant(typeof getSourceClientOffset === 'function', 'When clientOffset is provided, getSourceClientOffset must be a function.');\n}\n\nfunction verifyItemIsObject(item) {\n  invariant(isObject(item), 'Item must be an object.');\n}\n\nfunction getDraggableSource(sourceIds, monitor) {\n  var sourceId = null;\n\n  for (var i = sourceIds.length - 1; i >= 0; i--) {\n    if (monitor.canDragSource(sourceIds[i])) {\n      sourceId = sourceIds[i];\n      break;\n    }\n  }\n\n  return sourceId;\n}","import { PUBLISH_DRAG_SOURCE } from './types';\nexport function createPublishDragSource(manager) {\n  return function publishDragSource() {\n    var monitor = manager.getMonitor();\n\n    if (monitor.isDragging()) {\n      return {\n        type: PUBLISH_DRAG_SOURCE\n      };\n    }\n  };\n}","export function matchesType(targetType, draggedItemType) {\n  if (draggedItemType === null) {\n    return targetType === null;\n  }\n\n  return Array.isArray(targetType) ? targetType.some(function (t) {\n    return t === draggedItemType;\n  }) : targetType === draggedItemType;\n}","import { invariant } from '@react-dnd/invariant';\nimport { matchesType } from '../../utils/matchesType';\nimport { HOVER } from './types';\nexport function createHover(manager) {\n  return function hover(targetIdsArg) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        clientOffset = _ref.clientOffset;\n\n    verifyTargetIdsIsArray(targetIdsArg);\n    var targetIds = targetIdsArg.slice(0);\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    checkInvariants(targetIds, monitor, registry);\n    var draggedItemType = monitor.getItemType();\n    removeNonMatchingTargetIds(targetIds, registry, draggedItemType);\n    hoverAllTargets(targetIds, monitor, registry);\n    return {\n      type: HOVER,\n      payload: {\n        targetIds: targetIds,\n        clientOffset: clientOffset || null\n      }\n    };\n  };\n}\n\nfunction verifyTargetIdsIsArray(targetIdsArg) {\n  invariant(Array.isArray(targetIdsArg), 'Expected targetIds to be an array.');\n}\n\nfunction checkInvariants(targetIds, monitor, registry) {\n  invariant(monitor.isDragging(), 'Cannot call hover while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call hover after drop.');\n\n  for (var i = 0; i < targetIds.length; i++) {\n    var targetId = targetIds[i];\n    invariant(targetIds.lastIndexOf(targetId) === i, 'Expected targetIds to be unique in the passed array.');\n    var target = registry.getTarget(targetId);\n    invariant(target, 'Expected targetIds to be registered.');\n  }\n}\n\nfunction removeNonMatchingTargetIds(targetIds, registry, draggedItemType) {\n  // Remove those targetIds that don't match the targetType.  This\n  // fixes shallow isOver which would only be non-shallow because of\n  // non-matching targets.\n  for (var i = targetIds.length - 1; i >= 0; i--) {\n    var targetId = targetIds[i];\n    var targetType = registry.getTargetType(targetId);\n\n    if (!matchesType(targetType, draggedItemType)) {\n      targetIds.splice(i, 1);\n    }\n  }\n}\n\nfunction hoverAllTargets(targetIds, monitor, registry) {\n  // Finally call hover on all matching targets.\n  targetIds.forEach(function (targetId) {\n    var target = registry.getTarget(targetId);\n    target.hover(monitor, targetId);\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { DROP } from './types';\nimport { isObject } from '../../utils/js_utils';\nexport function createDrop(manager) {\n  return function drop() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyInvariants(monitor);\n    var targetIds = getDroppableTargets(monitor); // Multiple actions are dispatched here, which is why this doesn't return an action\n\n    targetIds.forEach(function (targetId, index) {\n      var dropResult = determineDropResult(targetId, index, registry, monitor);\n      var action = {\n        type: DROP,\n        payload: {\n          dropResult: _objectSpread(_objectSpread({}, options), dropResult)\n        }\n      };\n      manager.dispatch(action);\n    });\n  };\n}\n\nfunction verifyInvariants(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call drop while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call drop twice during one drag operation.');\n}\n\nfunction determineDropResult(targetId, index, registry, monitor) {\n  var target = registry.getTarget(targetId);\n  var dropResult = target ? target.drop(monitor, targetId) : undefined;\n  verifyDropResultType(dropResult);\n\n  if (typeof dropResult === 'undefined') {\n    dropResult = index === 0 ? {} : monitor.getDropResult();\n  }\n\n  return dropResult;\n}\n\nfunction verifyDropResultType(dropResult) {\n  invariant(typeof dropResult === 'undefined' || isObject(dropResult), 'Drop result must either be an object or undefined.');\n}\n\nfunction getDroppableTargets(monitor) {\n  var targetIds = monitor.getTargetIds().filter(monitor.canDropOnTarget, monitor);\n  targetIds.reverse();\n  return targetIds;\n}","import { invariant } from '@react-dnd/invariant';\nimport { END_DRAG } from './types';\nexport function createEndDrag(manager) {\n  return function endDrag() {\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyIsDragging(monitor);\n    var sourceId = monitor.getSourceId();\n\n    if (sourceId != null) {\n      var source = registry.getSource(sourceId, true);\n      source.endDrag(monitor, sourceId);\n      registry.unpinSource();\n    }\n\n    return {\n      type: END_DRAG\n    };\n  };\n}\n\nfunction verifyIsDragging(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call endDrag while not dragging.');\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { createDragDropActions } from '../actions/dragDrop';\nexport var DragDropManagerImpl = /*#__PURE__*/function () {\n  function DragDropManagerImpl(store, monitor) {\n    var _this = this;\n\n    _classCallCheck(this, DragDropManagerImpl);\n\n    _defineProperty(this, \"store\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"backend\", void 0);\n\n    _defineProperty(this, \"isSetUp\", false);\n\n    _defineProperty(this, \"handleRefCountChange\", function () {\n      var shouldSetUp = _this.store.getState().refCount > 0;\n\n      if (_this.backend) {\n        if (shouldSetUp && !_this.isSetUp) {\n          _this.backend.setup();\n\n          _this.isSetUp = true;\n        } else if (!shouldSetUp && _this.isSetUp) {\n          _this.backend.teardown();\n\n          _this.isSetUp = false;\n        }\n      }\n    });\n\n    this.store = store;\n    this.monitor = monitor;\n    store.subscribe(this.handleRefCountChange);\n  }\n\n  _createClass(DragDropManagerImpl, [{\n    key: \"receiveBackend\",\n    value: function receiveBackend(backend) {\n      this.backend = backend;\n    }\n  }, {\n    key: \"getMonitor\",\n    value: function getMonitor() {\n      return this.monitor;\n    }\n  }, {\n    key: \"getBackend\",\n    value: function getBackend() {\n      return this.backend;\n    }\n  }, {\n    key: \"getRegistry\",\n    value: function getRegistry() {\n      return this.monitor.registry;\n    }\n  }, {\n    key: \"getActions\",\n    value: function getActions() {\n      /* eslint-disable-next-line @typescript-eslint/no-this-alias */\n      var manager = this;\n      var dispatch = this.store.dispatch;\n\n      function bindActionCreator(actionCreator) {\n        return function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          var action = actionCreator.apply(manager, args);\n\n          if (typeof action !== 'undefined') {\n            dispatch(action);\n          }\n        };\n      }\n\n      var actions = createDragDropActions(this);\n      return Object.keys(actions).reduce(function (boundActions, key) {\n        var action = actions[key];\n        boundActions[key] = bindActionCreator(action);\n        return boundActions;\n      }, {});\n    }\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(action) {\n      this.store.dispatch(action);\n    }\n  }]);\n\n  return DragDropManagerImpl;\n}();","import { createBeginDrag } from './beginDrag';\nimport { createPublishDragSource } from './publishDragSource';\nimport { createHover } from './hover';\nimport { createDrop } from './drop';\nimport { createEndDrag } from './endDrag';\nexport * from './types';\nexport function createDragDropActions(manager) {\n  return {\n    beginDrag: createBeginDrag(manager),\n    publishDragSource: createPublishDragSource(manager),\n    hover: createHover(manager),\n    drop: createDrop(manager),\n    endDrag: createEndDrag(manager)\n  };\n}","export var strictEquality = function strictEquality(a, b) {\n  return a === b;\n};\n/**\n * Determine if two cartesian coordinate offsets are equal\n * @param offsetA\n * @param offsetB\n */\n\nexport function areCoordsEqual(offsetA, offsetB) {\n  if (!offsetA && !offsetB) {\n    return true;\n  } else if (!offsetA || !offsetB) {\n    return false;\n  } else {\n    return offsetA.x === offsetB.x && offsetA.y === offsetB.y;\n  }\n}\n/**\n * Determines if two arrays of items are equal\n * @param a The first array of items\n * @param b The second array of items\n */\n\nexport function areArraysEqual(a, b) {\n  var isEqual = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : strictEquality;\n\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (var i = 0; i < a.length; ++i) {\n    if (!isEqual(a[i], b[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { INIT_COORDS, BEGIN_DRAG, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { areCoordsEqual } from '../utils/equality';\nvar initialState = {\n  initialSourceClientOffset: null,\n  initialClientOffset: null,\n  clientOffset: null\n};\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case INIT_COORDS:\n    case BEGIN_DRAG:\n      return {\n        initialSourceClientOffset: payload.sourceClientOffset,\n        initialClientOffset: payload.clientOffset,\n        clientOffset: payload.clientOffset\n      };\n\n    case HOVER:\n      if (areCoordsEqual(state.clientOffset, payload.clientOffset)) {\n        return state;\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        clientOffset: payload.clientOffset\n      });\n\n    case END_DRAG:\n    case DROP:\n      return initialState;\n\n    default:\n      return state;\n  }\n}","export var ADD_SOURCE = 'dnd-core/ADD_SOURCE';\nexport var ADD_TARGET = 'dnd-core/ADD_TARGET';\nexport var REMOVE_SOURCE = 'dnd-core/REMOVE_SOURCE';\nexport var REMOVE_TARGET = 'dnd-core/REMOVE_TARGET';\nexport function addSource(sourceId) {\n  return {\n    type: ADD_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nexport function addTarget(targetId) {\n  return {\n    type: ADD_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}\nexport function removeSource(sourceId) {\n  return {\n    type: REMOVE_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nexport function removeTarget(targetId) {\n  return {\n    type: REMOVE_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { REMOVE_TARGET } from '../actions/registry';\nimport { without } from '../utils/js_utils';\nvar initialState = {\n  itemType: null,\n  item: null,\n  sourceId: null,\n  targetIds: [],\n  dropResult: null,\n  didDrop: false,\n  isSourcePublic: null\n};\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case BEGIN_DRAG:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemType: payload.itemType,\n        item: payload.item,\n        sourceId: payload.sourceId,\n        isSourcePublic: payload.isSourcePublic,\n        dropResult: null,\n        didDrop: false\n      });\n\n    case PUBLISH_DRAG_SOURCE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isSourcePublic: true\n      });\n\n    case HOVER:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        targetIds: payload.targetIds\n      });\n\n    case REMOVE_TARGET:\n      if (state.targetIds.indexOf(payload.targetId) === -1) {\n        return state;\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        targetIds: without(state.targetIds, payload.targetId)\n      });\n\n    case DROP:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        dropResult: payload.dropResult,\n        didDrop: true,\n        targetIds: []\n      });\n\n    case END_DRAG:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemType: null,\n        item: null,\n        sourceId: null,\n        dropResult: null,\n        didDrop: false,\n        isSourcePublic: null,\n        targetIds: []\n      });\n\n    default:\n      return state;\n  }\n}","import { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry';\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_SOURCE:\n    case ADD_TARGET:\n      return state + 1;\n\n    case REMOVE_SOURCE:\n    case REMOVE_TARGET:\n      return state - 1;\n\n    default:\n      return state;\n  }\n}","import { intersection } from './js_utils';\nexport var NONE = [];\nexport var ALL = [];\nNONE.__IS_NONE__ = true;\nALL.__IS_ALL__ = true;\n/**\n * Determines if the given handler IDs are dirty or not.\n *\n * @param dirtyIds The set of dirty handler ids\n * @param handlerIds The set of handler ids to check\n */\n\nexport function areDirty(dirtyIds, handlerIds) {\n  if (dirtyIds === NONE) {\n    return false;\n  }\n\n  if (dirtyIds === ALL || typeof handlerIds === 'undefined') {\n    return true;\n  }\n\n  var commonIds = intersection(handlerIds, dirtyIds);\n  return commonIds.length > 0;\n}","import { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry';\nimport { areArraysEqual } from '../utils/equality';\nimport { NONE, ALL } from '../utils/dirtiness';\nimport { xor } from '../utils/js_utils';\nexport function reduce() {\n  var _state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : NONE;\n\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case HOVER:\n      break;\n\n    case ADD_SOURCE:\n    case ADD_TARGET:\n    case REMOVE_TARGET:\n    case REMOVE_SOURCE:\n      return NONE;\n\n    case BEGIN_DRAG:\n    case PUBLISH_DRAG_SOURCE:\n    case END_DRAG:\n    case DROP:\n    default:\n      return ALL;\n  }\n\n  var _action$payload = action.payload,\n      _action$payload$targe = _action$payload.targetIds,\n      targetIds = _action$payload$targe === void 0 ? [] : _action$payload$targe,\n      _action$payload$prevT = _action$payload.prevTargetIds,\n      prevTargetIds = _action$payload$prevT === void 0 ? [] : _action$payload$prevT;\n  var result = xor(targetIds, prevTargetIds);\n  var didChange = result.length > 0 || !areArraysEqual(targetIds, prevTargetIds);\n\n  if (!didChange) {\n    return NONE;\n  } // Check the target ids at the innermost position. If they are valid, add them\n  // to the result\n\n\n  var prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1];\n  var innermostTargetId = targetIds[targetIds.length - 1];\n\n  if (prevInnermostTargetId !== innermostTargetId) {\n    if (prevInnermostTargetId) {\n      result.push(prevInnermostTargetId);\n    }\n\n    if (innermostTargetId) {\n      result.push(innermostTargetId);\n    }\n  }\n\n  return result;\n}","export function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return state + 1;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { reduce as dragOffset } from './dragOffset';\nimport { reduce as dragOperation } from './dragOperation';\nimport { reduce as refCount } from './refCount';\nimport { reduce as dirtyHandlerIds } from './dirtyHandlerIds';\nimport { reduce as stateId } from './stateId';\nimport { get } from '../utils/js_utils';\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return {\n    dirtyHandlerIds: dirtyHandlerIds(state.dirtyHandlerIds, {\n      type: action.type,\n      payload: _objectSpread(_objectSpread({}, action.payload), {}, {\n        prevTargetIds: get(state, 'dragOperation.targetIds', [])\n      })\n    }),\n    dragOffset: dragOffset(state.dragOffset, action),\n    refCount: refCount(state.refCount, action),\n    dragOperation: dragOperation(state.dragOperation, action),\n    stateId: stateId(state.stateId)\n  };\n}","/**\n * Coordinate addition\n * @param a The first coordinate\n * @param b The second coordinate\n */\nexport function add(a, b) {\n  return {\n    x: a.x + b.x,\n    y: a.y + b.y\n  };\n}\n/**\n * Coordinate subtraction\n * @param a The first coordinate\n * @param b The second coordinate\n */\n\nexport function subtract(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}\n/**\n * Returns the cartesian distance of the drag source component's position, based on its position\n * at the time when the current drag operation has started, and the movement difference.\n *\n * Returns null if no item is being dragged.\n *\n * @param state The offset state to compute from\n */\n\nexport function getSourceClientOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset,\n      initialSourceClientOffset = state.initialSourceClientOffset;\n\n  if (!clientOffset || !initialClientOffset || !initialSourceClientOffset) {\n    return null;\n  }\n\n  return subtract(add(clientOffset, initialSourceClientOffset), initialClientOffset);\n}\n/**\n * Determines the x,y offset between the client offset and the initial client offset\n *\n * @param state The offset state to compute from\n */\n\nexport function getDifferenceFromInitialOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset;\n\n  if (!clientOffset || !initialClientOffset) {\n    return null;\n  }\n\n  return subtract(clientOffset, initialClientOffset);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { matchesType } from '../utils/matchesType';\nimport { getSourceClientOffset as _getSourceClientOffset, getDifferenceFromInitialOffset as _getDifferenceFromInitialOffset } from '../utils/coords';\nimport { areDirty } from '../utils/dirtiness';\nexport var DragDropMonitorImpl = /*#__PURE__*/function () {\n  function DragDropMonitorImpl(store, registry) {\n    _classCallCheck(this, DragDropMonitorImpl);\n\n    _defineProperty(this, \"store\", void 0);\n\n    _defineProperty(this, \"registry\", void 0);\n\n    this.store = store;\n    this.registry = registry;\n  }\n\n  _createClass(DragDropMonitorImpl, [{\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        handlerIds: undefined\n      };\n      var handlerIds = options.handlerIds;\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      invariant(typeof handlerIds === 'undefined' || Array.isArray(handlerIds), 'handlerIds, when specified, must be an array of strings.');\n      var prevStateId = this.store.getState().stateId;\n\n      var handleChange = function handleChange() {\n        var state = _this.store.getState();\n\n        var currentStateId = state.stateId;\n\n        try {\n          var canSkipListener = currentStateId === prevStateId || currentStateId === prevStateId + 1 && !areDirty(state.dirtyHandlerIds, handlerIds);\n\n          if (!canSkipListener) {\n            listener();\n          }\n        } finally {\n          prevStateId = currentStateId;\n        }\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      var _this2 = this;\n\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      var previousState = this.store.getState().dragOffset;\n\n      var handleChange = function handleChange() {\n        var nextState = _this2.store.getState().dragOffset;\n\n        if (nextState === previousState) {\n          return;\n        }\n\n        previousState = nextState;\n        listener();\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId);\n      invariant(source, \"Expected to find a valid source. sourceId=\".concat(sourceId));\n\n      if (this.isDragging()) {\n        return false;\n      }\n\n      return source.canDrag(this, sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var target = this.registry.getTarget(targetId);\n      invariant(target, \"Expected to find a valid target. targetId=\".concat(targetId));\n\n      if (!this.isDragging() || this.didDrop()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n      return matchesType(targetType, draggedItemType) && target.canDrop(this, targetId);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      return Boolean(this.getItemType());\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      // undefined on initial render\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId, true);\n      invariant(source, \"Expected to find a valid source. sourceId=\".concat(sourceId));\n\n      if (!this.isDragging() || !this.isSourcePublic()) {\n        return false;\n      }\n\n      var sourceType = this.registry.getSourceType(sourceId);\n      var draggedItemType = this.getItemType();\n\n      if (sourceType !== draggedItemType) {\n        return false;\n      }\n\n      return source.isDragging(this, sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        shallow: false\n      };\n\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var shallow = options.shallow;\n\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n\n      if (draggedItemType && !matchesType(targetType, draggedItemType)) {\n        return false;\n      }\n\n      var targetIds = this.getTargetIds();\n\n      if (!targetIds.length) {\n        return false;\n      }\n\n      var index = targetIds.indexOf(targetId);\n\n      if (shallow) {\n        return index === targetIds.length - 1;\n      } else {\n        return index > -1;\n      }\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.store.getState().dragOperation.itemType;\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.store.getState().dragOperation.item;\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.store.getState().dragOperation.sourceId;\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.store.getState().dragOperation.targetIds;\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.store.getState().dragOperation.dropResult;\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.store.getState().dragOperation.didDrop;\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return Boolean(this.store.getState().dragOperation.isSourcePublic);\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.store.getState().dragOffset.initialClientOffset;\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.store.getState().dragOffset.initialSourceClientOffset;\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.store.getState().dragOffset.clientOffset;\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return _getSourceClientOffset(this.store.getState().dragOffset);\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return _getDifferenceFromInitialOffset(this.store.getState().dragOffset);\n    }\n  }]);\n\n  return DragDropMonitorImpl;\n}();","export var HandlerRole;\n\n(function (HandlerRole) {\n  HandlerRole[\"SOURCE\"] = \"SOURCE\";\n  HandlerRole[\"TARGET\"] = \"TARGET\";\n})(HandlerRole || (HandlerRole = {}));","var nextUniqueId = 0;\nexport function getNextUniqueId() {\n  return nextUniqueId++;\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { invariant } from '@react-dnd/invariant';\nexport function validateSourceContract(source) {\n  invariant(typeof source.canDrag === 'function', 'Expected canDrag to be a function.');\n  invariant(typeof source.beginDrag === 'function', 'Expected beginDrag to be a function.');\n  invariant(typeof source.endDrag === 'function', 'Expected endDrag to be a function.');\n}\nexport function validateTargetContract(target) {\n  invariant(typeof target.canDrop === 'function', 'Expected canDrop to be a function.');\n  invariant(typeof target.hover === 'function', 'Expected hover to be a function.');\n  invariant(typeof target.drop === 'function', 'Expected beginDrag to be a function.');\n}\nexport function validateType(type, allowArray) {\n  if (allowArray && Array.isArray(type)) {\n    type.forEach(function (t) {\n      return validateType(t, false);\n    });\n    return;\n  }\n\n  invariant(typeof type === 'string' || _typeof(type) === 'symbol', allowArray ? 'Type can only be a string, a symbol, or an array of either.' : 'Type can only be a string or a symbol.');\n}","import { rawAsap } from './raw'; // rawAsap provides everything we need except exception management.\n// RawTasks are recycled to reduce GC churn.\n\nvar freeTasks = []; // We queue errors to ensure they are thrown in right order (FIFO).\n// Array-as-queue is good enough here, since we are just dealing with exceptions.\n\nvar pendingErrors = [];\nvar requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\nfunction throwFirstError() {\n  if (pendingErrors.length) {\n    throw pendingErrors.shift();\n  }\n}\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\n\n\nexport function asap(task) {\n  var rawTask;\n\n  if (freeTasks.length) {\n    rawTask = freeTasks.pop();\n  } else {\n    rawTask = new RawTask();\n  }\n\n  rawTask.task = task;\n  rawAsap(rawTask);\n} // We wrap tasks with recyclable task objects.  A task object implements\n// `call`, just like a function.\n\nvar RawTask =\n/** @class */\nfunction () {\n  function RawTask() {}\n\n  RawTask.prototype.call = function () {\n    try {\n      this.task.call();\n    } catch (error) {\n      if (asap.onerror) {\n        // This hook exists purely for testing purposes.\n        // Its name will be periodically randomized to break any code that\n        // depends on its existence.\n        asap.onerror(error);\n      } else {\n        // In a web browser, exceptions are not fatal. However, to avoid\n        // slowing down the queue of pending tasks, we rethrow the error in a\n        // lower priority turn.\n        pendingErrors.push(error);\n        requestErrorThrow();\n      }\n    } finally {\n      this.task = null;\n      freeTasks[freeTasks.length] = this;\n    }\n  };\n\n  return RawTask;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { addSource as _addSource, addTarget as _addTarget, removeSource as _removeSource, removeTarget as _removeTarget } from '../actions/registry';\nimport { getNextUniqueId } from '../utils/getNextUniqueId';\nimport { HandlerRole } from '../interfaces';\nimport { validateSourceContract, validateTargetContract, validateType } from '../contracts';\nimport { asap } from '@react-dnd/asap';\n\nfunction getNextHandlerId(role) {\n  var id = getNextUniqueId().toString();\n\n  switch (role) {\n    case HandlerRole.SOURCE:\n      return \"S\".concat(id);\n\n    case HandlerRole.TARGET:\n      return \"T\".concat(id);\n\n    default:\n      throw new Error(\"Unknown Handler Role: \".concat(role));\n  }\n}\n\nfunction parseRoleFromHandlerId(handlerId) {\n  switch (handlerId[0]) {\n    case 'S':\n      return HandlerRole.SOURCE;\n\n    case 'T':\n      return HandlerRole.TARGET;\n\n    default:\n      invariant(false, \"Cannot parse handler ID: \".concat(handlerId));\n  }\n}\n\nfunction mapContainsValue(map, searchValue) {\n  var entries = map.entries();\n  var isDone = false;\n\n  do {\n    var _entries$next = entries.next(),\n        done = _entries$next.done,\n        _entries$next$value = _slicedToArray(_entries$next.value, 2),\n        value = _entries$next$value[1];\n\n    if (value === searchValue) {\n      return true;\n    }\n\n    isDone = !!done;\n  } while (!isDone);\n\n  return false;\n}\n\nexport var HandlerRegistryImpl = /*#__PURE__*/function () {\n  function HandlerRegistryImpl(store) {\n    _classCallCheck(this, HandlerRegistryImpl);\n\n    _defineProperty(this, \"types\", new Map());\n\n    _defineProperty(this, \"dragSources\", new Map());\n\n    _defineProperty(this, \"dropTargets\", new Map());\n\n    _defineProperty(this, \"pinnedSourceId\", null);\n\n    _defineProperty(this, \"pinnedSource\", null);\n\n    _defineProperty(this, \"store\", void 0);\n\n    this.store = store;\n  }\n\n  _createClass(HandlerRegistryImpl, [{\n    key: \"addSource\",\n    value: function addSource(type, source) {\n      validateType(type);\n      validateSourceContract(source);\n      var sourceId = this.addHandler(HandlerRole.SOURCE, type, source);\n      this.store.dispatch(_addSource(sourceId));\n      return sourceId;\n    }\n  }, {\n    key: \"addTarget\",\n    value: function addTarget(type, target) {\n      validateType(type, true);\n      validateTargetContract(target);\n      var targetId = this.addHandler(HandlerRole.TARGET, type, target);\n      this.store.dispatch(_addTarget(targetId));\n      return targetId;\n    }\n  }, {\n    key: \"containsHandler\",\n    value: function containsHandler(handler) {\n      return mapContainsValue(this.dragSources, handler) || mapContainsValue(this.dropTargets, handler);\n    }\n  }, {\n    key: \"getSource\",\n    value: function getSource(sourceId) {\n      var includePinned = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      var isPinned = includePinned && sourceId === this.pinnedSourceId;\n      var source = isPinned ? this.pinnedSource : this.dragSources.get(sourceId);\n      return source;\n    }\n  }, {\n    key: \"getTarget\",\n    value: function getTarget(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.dropTargets.get(targetId);\n    }\n  }, {\n    key: \"getSourceType\",\n    value: function getSourceType(sourceId) {\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      return this.types.get(sourceId);\n    }\n  }, {\n    key: \"getTargetType\",\n    value: function getTargetType(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.types.get(targetId);\n    }\n  }, {\n    key: \"isSourceId\",\n    value: function isSourceId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.SOURCE;\n    }\n  }, {\n    key: \"isTargetId\",\n    value: function isTargetId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.TARGET;\n    }\n  }, {\n    key: \"removeSource\",\n    value: function removeSource(sourceId) {\n      var _this = this;\n\n      invariant(this.getSource(sourceId), 'Expected an existing source.');\n      this.store.dispatch(_removeSource(sourceId));\n      asap(function () {\n        _this.dragSources.delete(sourceId);\n\n        _this.types.delete(sourceId);\n      });\n    }\n  }, {\n    key: \"removeTarget\",\n    value: function removeTarget(targetId) {\n      invariant(this.getTarget(targetId), 'Expected an existing target.');\n      this.store.dispatch(_removeTarget(targetId));\n      this.dropTargets.delete(targetId);\n      this.types.delete(targetId);\n    }\n  }, {\n    key: \"pinSource\",\n    value: function pinSource(sourceId) {\n      var source = this.getSource(sourceId);\n      invariant(source, 'Expected an existing source.');\n      this.pinnedSourceId = sourceId;\n      this.pinnedSource = source;\n    }\n  }, {\n    key: \"unpinSource\",\n    value: function unpinSource() {\n      invariant(this.pinnedSource, 'No source is pinned at the time.');\n      this.pinnedSourceId = null;\n      this.pinnedSource = null;\n    }\n  }, {\n    key: \"addHandler\",\n    value: function addHandler(role, type, handler) {\n      var id = getNextHandlerId(role);\n      this.types.set(id, type);\n\n      if (role === HandlerRole.SOURCE) {\n        this.dragSources.set(id, handler);\n      } else if (role === HandlerRole.TARGET) {\n        this.dropTargets.set(id, handler);\n      }\n\n      return id;\n    }\n  }]);\n\n  return HandlerRegistryImpl;\n}();","import { DragDropManagerImpl } from './classes/DragDropManagerImpl';\nimport { createStore } from 'redux';\nimport { reduce } from './reducers';\nimport { DragDropMonitorImpl } from './classes/DragDropMonitorImpl';\nimport { HandlerRegistryImpl } from './classes/HandlerRegistryImpl';\nexport function createDragDropManager(backendFactory) {\n  var globalContext = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n  var backendOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var debugMode = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var store = makeStoreInstance(debugMode);\n  var monitor = new DragDropMonitorImpl(store, new HandlerRegistryImpl(store));\n  var manager = new DragDropManagerImpl(store, monitor);\n  var backend = backendFactory(manager, globalContext, backendOptions);\n  manager.receiveBackend(backend);\n  return manager;\n}\n\nfunction makeStoreInstance(debugMode) {\n  // TODO: if we ever make a react-native version of this,\n  // we'll need to consider how to pull off dev-tooling\n  var reduxDevTools = typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION__;\n  return createStore(reduce, debugMode && reduxDevTools && reduxDevTools({\n    name: 'dnd-core',\n    instanceId: 'dnd-core'\n  }));\n}"],"sourceRoot":""}